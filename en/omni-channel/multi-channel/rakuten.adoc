= Rakuten
:lang: en
include::{includedir}/_header.adoc[]
:description: Multi-Channel in plentymarkets: Set up the interface to the market Rakuten in your plentymarkets system.
:position: 200

With plentymarkets you can sell items on both platforms Rakuten.de and Rakuten.co.uk.

[#10]
== Registering with Rakuten

You need to register with Rakuten before setting up Rakuten in plentymarkets. Use the registration forms of the platforms link:http://leadgen.rakuten.de/form?leadsource=marketplace_header[**rakuten.de**^] and link:https://merchant-enquiry.rakuten.uk.com/[**rakuten.co.uk**^].

[#20]
==  Setting up Rakuten.de in plentymarkets

Carry out the following settings in plentymarkets in order to set up the interface to Rakuten.de. In order to sell on both Rakuten.de and Rakuten.co.uk, set up an account for each of the platforms. You can also set up multiple accounts for each platform.

[.instruction]
Setting up Rakuten.de:

. Go to **System » Markets » Rakuten » Settings**. +
→ The **New account** tab will be displayed.
. Expand the **Rakuten settings**. +
→ The platform **rakuten.de** is pre-selected.
. Enter the **Authentication key**. +
→ You can find the key in the backend of your Rakuten.de account.
. Pay attention to the explanations given in table 1 and carry out the settings as desired.
. **Save** the settings.
. Reload the menu.  +
→ The account was created and the platform's settings were loaded.

If you use multiple accounts for Rakuten.de, then you will need an authentication key for each account.

[cols="a,a"]
|====
|Setting |Explanation

2+|Order import

|**Activate**
|**Deactivate** = Interface is inactive. +
**Activate** = Interface is active. New orders will automatically be retrieved once an hour. Sent orders will automatically be transferred to Rakuten every hour.

|**Payment**
|**Incoming payment pending** = Import orders as unpaid. The order can also be set to paid when the incoming payment from Rakuten is received. In this way, Rakuten can be tested. +
**Incoming payment booked** = Import orders as paid. Status 5 is assigned to orders in plentymarkets. +
Regardless of the chosen setting, items will immediately be cleared for shipping when they have sufficient stock.

|**Send order confirmation**
|**Deactivate** = Order confirmations are not transferred. +
**Activate** = Order confirmations are transferred to the customer. The email template saved under **<<crm/sending-emails#, System » Client » Select client » Email » Automatic email>>** will be sent to the customer.

|**View API log**
|Click on **View API log** to display the API log.
|====

__Table 1: configuring Rakuten__

Connecting to this market allows for the following automatic processes to take place:

* hourly stock synchronisation
* hourly order synchronisation

To set up an account for Rakuten.co.uk, refer to the chapter <<omni-channel/multi-channel/rakuten#80, **Setting up Rakuten.co.uk in plentymarkets**>>.

[#30]
=== Setting the item availability

Items have to be available for Rakuten.de. This is done in the **Availability** tab of an item within the **<<item/managing-items#40, Item » Edit item » Tab: Variation ID>>** menu.

[.instruction]
Setting the item availability for Rakuten.de:

. Open the **Item » Edit item » Open item » Tab: Variation ID » Tab: Settings** menu.
. Activate the main variation in the **Availability** section.
. Click on the **Availability** tab.
. Click in the **Markets** section in the selection field.  +
→ A list with all available markets will be displayed.
. Activate the option **Rakuten.de**.
. Click on **Add**. +
→ The Market will be added.
. **Save** the settings.  +
→ The item is available on Rakuten.de.

The availability for variations can be individually edit in the **Item » Edit item » Open item » Tab: Variation ID » Open variation » Tab: Availability** menu.

[#40]
=== Linking categories

After you made the item available, link your store categories to the categories on Rakuten.

[.instruction]
Linking a category:

. Go to **Item » Edit item**.
. Open the item.
. Open the **Multi-Channel** tab.
. Select the main category for the item from the **Rakuten.de** drop-down menu within the **Category link**. +
→ A window for further selecting the categories will open.
. Select the subcategories until you have reached the lowest possible category level. +
→ A category number will be displayed.
. Click on **Apply**. +
→ The category link will be displayed by the category number and the Rakuten category.
. **Save** the settings.

[#50]
=== Linking shipping groups to items

Shipping profiles are set up directly on Rakuten. The shipping profiles that are saved for items will not be transferred to Rakuten. On Rakuten.de, the shipping profiles are called shipping groups (Versandgruppen). These shipping groups are linked to your items with a **<<item/managing-items#70, free text field>>**.

[.instruction]
Setting up a free text field for a shipping group:

. Go to **System » Item » Free text fields**.
. Enter a name for one of the free text fields, e.g. **Rakuten shipping group**.
. **Save** the settings. +
→ Note: Free text fields are activated at night and will be available the next morning
. Go to **Item » Edit item**.
. Open each of the items that you want to transfer and enter the **shipping group number** in the item's **Fields** tab.
. **Save** the settings.
. Let Rakuten know which free text field is used.

[TIP]
.No free text field
====
If no free text field is transferred to Rakuten, then a link to shipping group 1 will automatically be created.
====

Set up further countries of delivery on Rakuten, too.

[#60]
=== Providing information on the energy efficiency

To comply with EU regulations on energy efficiency that came into force on 1 January 2015, you have to provide information on the energy efficiency of certain items. In addition, you have to make product data sheets available to potential buyers of these items. This information also has to be transferred to Rakuten. Create the following **<<item/managing-items#480, properties>>** :

* **Energy efficiency class** +
Property type: **No**
* **Energy efficiency class up to** +
Property type: **No** +

* **Device group - energy efficiency class** +
Property type: **No**

You have to create a separate property for each energy efficiency class from A+++ to G.

[.instruction]
Creating a property:

. Go to **System » Item » Properties**.
. Click on the **New property** tab.
. Enter a name for the property under **Back end name**.
. Select the option **No** from the **Property type** drop-down menu.
. Select the Rakuten property from the **Rakuten.de property** drop-down menu.
. **Save** the settings.

Link the properties in the **<<item/managing-items#480, Properties>>**  tab of an item.

Make the product data sheet available for Rakuten in electronic form. This is done by inserting a link in the item description. The link to the product data sheet is saved in an item's **<<item/managing-items#50, Texts>>** tab. To do so, proceed as follows.

[.instruction]
Saving the product data sheet in the item description:

. Go to **Item » Edit item**.
. Upload the product data sheet in the item's **Images** tab.
. Copy the image URL.
. Insert the link to the product data sheet in the item's **Texts** tab.
. **Save** the settings.

[#70]
=== Setting up the item export

This section explains how to transfer your items to Rakuten.de. The item export for Rakuten is carried out by the elastic export. Therefore, the plugins **ElasticExport** and **ElasticExportRakutenDE** have to be already installed. Create the data format RakutenDE first and then transfer the URL to Rakuten.

[IMPORTANT]
.Contact Rakuten for the setup
====
It is mandatory to contact Rakuten for setting up the export.
====

[.instruction]
Setting up the item export:

. Go to **Data exchange » Export » Elastic export**.
. Click on **New export**.
. Carry out the settings as desired. Pay attention to the information given in table 2.
. Carry out further settings for item filters and format settings. Pay attention to the information given in table 5 in the <<basics/data-exchange/exporting-data#60, **Exporting data**>> page of the manual.
. **Save** the settings. +
→ The export format will be given an ID and it will appear in the overview within the **Exports** tab.

[cols="a,a"]
|====
|Setting |Explanation

2+|Settings

|**Name**
|Enter a name. The export format will be listed under this name in the overview within the **Exports** tab.

|**Type**
|Select a type from the drop-down menu. Currently, **Item** is the only available option. Further options will be available soon.

|**Format**
|Select the format **RakutenDE** from the drop-down menu.

|**Limit**
|Enter a number. If you want to transfer more than 10,000 data records to rakuten.de, then the output file will not be generated again for another 24 hours. This is to save resources.

|**Provisioning**
|Select **URL**.

|**Token, +
URL**
|If you selected the option **URL** under **Provisioning**, then click on **Generate token**. The token will be entered automatically. The URL will be entered automatically if the token was generated under **Token**. Give this URL to Rakuten.de in order to export the items.
|====

__Table 2: settings for the item export__

[IMPORTANT]
.Export information
====
If you change one or more settings, then you will have to transfer the new link to Rakuten.

A maximum of 4000 items will be exported at once. If you export more items, then a second export will automatically be carried out. To display the second export process, set the parameter **&amp;Page** = in the export link to **2**.

Technical data is transferred to Rakuten in the last column of the export file.
====

In order to set up the interface and the item export correctly, you have to carry out the following platform-independent settings (from chapter 4).

[#80]
== Setting up Rakuten.co.uk in plentymarkets

Carry out the following settings in plentymarkets in order to set up the interface to Rakuten.co.uk. In order to sell on both Rakuten.de and Rakuten.co.uk, set up an account for each of the platforms. You can also set up multiple accounts for each platform.

[.instruction]
Setting up Rakuten.co.uk:

. Go to **System » Markets » Rakuten » Settings » Tab: New account » Submenu: Rakuten settings**.
. Select **rakuten.co.uk** as the **platform**.
. **Save** the settings.
. Reload the menu.  +
→ The account was created and the platform's settings were loaded.
. Go to **System » Markets » Rakuten » Settings**.
. Open the previously created account.
. Enter the **Authentication key**.  +
→ You will receive the key from Rakuten.co.uk via email.
. Enter the **Store URL** of your online store.
. Place a check mark next to **Activate** to activate the interface.
. **Save** the settings.

If you use multiple accounts for Rakuten.co.uk, then you will need an authentication key for each account.

[#90]
=== Translating item information

The following item information is transferred to Rakuten.co.uk. Therefore, this information should also be translated into English.

* Name
* Preview text
* Item text

The obligation to indicate the energy efficiency class is based on an EU regulation and therefore applies also to the United Kingdom. However, the interface to Rakuten.co.uk does not require a separate indication of this information. Therefore, the indication of the energy efficiency class is only possible within the item text.

[#100]
=== Setting the item availability

Items have to be available for Rakuten.co.uk. This is done in the **Availability** tab of an item within the **<<item/managing-items#40, Item » Edit item » Tab: Variation ID>>** menu.

[.instruction]
Setting the item availability for Rakuten.co.uk:

. Open the **Item » Edit item » Open item » Tab: Variation ID » Tab: Settings** menu.
. Activate the main variation in the **Availability** section.
. Click on the **Availability** tab.
. Click in the **Markets** section in the selection field.  +
→ A list with all available markets will be displayed.
. Activate the option **rakuten.co.uk**.
. Click on **Add**. +
→ The Market will be added.
. **Save** the settings.  +
→ The item is available on Rakuten.de.

The availability for variations can be individually edit in the **Item » Edit item » Open item » Tab: Variation ID » Open variation » Tab: Availability** menu.

[#110]
=== Linking categories

After you made the item available, link your store categories to the categories on Rakuten.co.uk.

[.instruction]
Linking categories:

. Go to **System » Markets » Rakuten » Category link » Rakuten.co.uk**.
. Click on **Search**.  +
→ The **Select category** window will open.
. Select the main category.
. Select the subcategory if needed.
. Click on **Apply**. +
→ The category link will be displayed by the category number and the Rakuten category.
. **Save** the settings.

[TIP]
.Tip: Enter the category ID directly
====
If you know the ID of the category, enter it directly into the **Market category** field to link it to your online store category.
====

[#120]
=== Linking store categories

If you have a store on Rakuten.co.uk, transfer the store category IDs from your own Rakuten store.

[.instruction]
Linking store category IDs to a property:

. Go to **System » Item » Properties**.
. Click on the **New property** tab.
. Enter a name for the property under **Back end name**.
. Select a **Property type**.
. Select the **Store category ID** option from the **Rakuten.co.uk property** drop-down menu.
. **Save** the settings.

[TIP]
.Transfer multiple store category IDs
====
If you want to transfer several store category IDs, they have to be separated by semicolons. Example: men-shirt;1122
====

[#130]
=== Setting up the item export

This section explains how to transfer your items to Rakuten.co.uk.

[.instruction]
Setting up the item export:

. Go to **System » Markets » Rakuten » Settings**.
. Open the account that you set up for Rakuten.co.uk.
. Expand the **Rakuten item export** submenu.
. Select a **Client (store)**.
. Pay attention to the explanations given in table 3 and carry out further settings as desired.
. **Save** the settings.

[cols="a,a"]
|====
|Setting |Explanation

|**Client (store)**
|Select a client.

|**Items with images only**
|Place a check mark if only items with images should be exported.

|**Item description**
|Select whether you want to export only the standard description or the standard description and the technical data.

|**Item name**
|Select which item name should be exported.
|====

__Table 3: settings for the item export__

In order to set up the interface and the item export correctly, you have to carry out the following platform-independent settings.

[#140]
== Defining a sales price

Proceed as described below to define a sales price for the order referrer Rakuten.de or Rakuten.co.uk. This price will be displayed on Rakuten.de or Rakuten.co.uk

[.instruction]
Defining a sales price for Rakuten festlegen:

. Open the menu **System » Item » Sales prices » Open sales price » Tab: Settings**.
. Place a checkmark next to the referrer **Rakuten.de** or **Rakuten.co.uk**.
. **Save** the settings.

[TIP]
.Original currency is not the default currency
====
Additional information is saved for orders that are imported with a different currency than the default saved in plentymarkets. In this case, both the original currency and the original gross and net amounts will be saved for every item included in the order.
====

[#150]
==  Activating payment methods

Activate the payment methods **Rakuten payment**, **Rakuten Rechnung** and **Klarna**. This allows payments to be made for orders on Rakuten and displayed in your plentymarkets system. **Rakuten Rechnung** is only necessary for the platform Rakuten.de. If you only use the platform Rakuten.co.uk, simply activate **Rakuten payment**.

[.instruction]
Activating Rakuten payment methods:

.  Go to **System » Orders » Payment » Methods**.
.  Place a check mark next to the setting **Also show inactive**.
. Open the folder **DE** &gt; **Rakuten**.
. Select the Rakuten payment method. +
→ The **Settings** tab will open.
.  Carry out the settings as desired. Pay attention to the information given in table 3.
.  Place a check mark next to the option **Active**.
. **Save** the settings.

[cols="a,a"]
|====
| Setting | Explanation

|**Language**
| The following options are saved for the language selected: **Name**, **Info page**, **Info page (internal)**, **Logo** and **Upload logo**. This makes it possible to enter values for these options in various languages. The values for a language will be activated as soon as a buyer selects the language in the online store.

|**Name**
| Enter the name that should be displayed in the online store and on invoices etc.

|**Info page**
| Select a category page of the type **content** or enter the URL of a website to provide information about the payment method.

|**Info page (external)**
| If you selected the option **Info page (external)** under **Info page**, then enter the URL of the info page here.

|**Countries of delivery**
| Do not select a country of delivery. +
You cannot use the payment method in your online store. Therefore, this payment method is only activated in plentymarkets. It is not completely configured.

|**Logo**
| Select one of the following options for displaying the logo: +
**Show standard logo** = The logo that is saved in plentymarkets for this payment method will be displayed. +
**Do not show a logo** = The logo that is saved in plentymarkets for this payment method will not be displayed. +
**Show upload logo** = The options **Logo view** and **Upload logo** will be displayed.

|**Logo view**
| If **Show upload logo** was selected from the **Logo** drop-down menu, then the logo that was uploaded will be displayed here.

|**Upload logo**
| If **Show upload logo** was selected from the **Logo** drop-down menu, then you will be able to upload an external logo here. +
Click on **Upload files** and select the logo that you want to upload for the payment method. Permitted data formats: GIF, PNG and JPG.

|**Priority**
| Select the priority for displaying the payment method in the online store.

|**Costs: Flat rate or percentage**
| If the payment method results in additional costs, enter the percentage value or flat rate value. The choice depends on the conditions of your contract. **Important:** Do not enter a value into both fields. +
For further information, refer to the **<<basics/statistics#, Statistics>>** and **<<basics/statistics/general-statistics/item/tops-flops#, Tops/Flops>>** pages of the manual. For an example for flat rate and percentage costs, refer to the **<<omni-channel/multi-channel/rakuten#20, Basic settings>>** page of the manual.
|====

__Table 3: settings of the payment method__

[TIP]
.Permitting the payment method in customer classes
====
Go to **System » Customers » Classes** to activate or deactivate the **Permitted payment methods**. +
For further information, refer to the **<<omni-channel/multi-channel/rakuten#40, Payment methods and customer classes>>** chapter of the manual.
====

[TIP]
.Payment instruction on the <<omni-channel/online-store/standard/documents/invoice#, Invoice>> document for the payment method Rakuten Rechnung
====
Rakuten sends the invoice directly to the customer when Rakuten Rechnung is selected as the payment method. If you also issue an invoice, enter a **payment instruction** in the **Optional elements in the stock unit table** section. This payment instruction should tell the customer that he or she has to pay Rakuten.

**Example text:** +
Payments are processed by Rakuten GmbH, Geisfelder Str. 16 in 96050 Bamberg. Because of this, the amount listed on this invoice is owed directly to Rakuten. It is not possible to make a payment to any other entity. Please pay the amount listed on this invoice within 10 days after receiving the goods. Transfer the amount to the Rakuten bank account listed below: +
Account holder: Rakuten GmbH +
IBAN: DE86770200700021511501  +
BIC-/SWIFT-Code: HYVEDEMM411 (HypoVereinsbank ) +
Designated use 1: Order number +
Designated use 2: First name &amp; surname
====

For further information, refer to the **<<order-processing/payment#, Payment methods>>**  page of the manual.

[#160]
== Assigning delivery periods

Rakuten uses standard delivery periods. However, the market indicates deadlines rather than a time period spanning several days. These deadlines are always the last day in each timespan. Shipping and delivery periods for Rakuten are assigned automatically according to the **average period of delivery**. For example, if the **item availability** lists an average delivery time of 2 days, then there wouldn't be an exact equivalent for Rakuten. Therefore, the next longer shipping and delivery period is used for Rakuten.

[cols="a,a"]
|====
|Rakuten delivery period |Period

|**0**
|Available from stock (= delivery period 1 to 3 business days)

|**3**
|Ready for shipping within 3 business days (= delivery period approx. 3 to 6 business days)

|**5**
|Ready for shipping within 5 business days (= delivery period approx. 6 to 8 business days)

|**7**
|Ready for shipping within 7 business days (= delivery period approx. 8 to 10 business days)

|**10**
|Ready for shipping within 10 business days (= delivery period approx. 10 to 15 business days)

|**15**
|Ready for shipping within 15 business days (= delivery period approx. 15 to 20 business days)

|**20**
|Ready for shipping within 20 business days (= delivery period approx. 20 to 30 business days)

|**30**
|Ready for shipping within 30 business days (= delivery period approx. 30 to 40 business days)

|**40**
|Ready for shipping within 40 business days (= delivery period approx. 40 to 50 business days)

|**50**
|Ready for shipping within 50 business days (= delivery period approx. 50 to 60 business days)

|**60**
|Ready for shipping within 60 business days (= delivery period more than 3 months)
|====

__Table 4: Rakuten delivery periods__

[#170]
== Automatically sending shipping confirmations

Set up an **<<basics/automation/event-procedures#, event procedure>>** to automatically send shipping confirmations to Rakuten when the outgoing items are booked.

[.collapseBox]
.Setting up an event procedure
--
.  Go to **System » Orders » Events**.
.  Click on **Add event procedure**. +
→ The **Create new event procedure** window will open.
.  Enter a name.
.  Select the **event** listed in table 5.
. **Save** the settings.
.  Pay attention to the explanations given in table 5 and carry out the settings as desired.
.  Place a check mark next to the option **Active**.
. **Save** the settings.
--
[cols="a,a,a"]
|====
|Setting |Option |Selection

|**Event**
|**Order change: Outgoing items booked**
|

|**Filter 1**
|**Order &gt; Order type**
|**Order**

|**Filter 2**
|**Order &gt; Referrer**
|**Rakuten**

|**Procedure**
|**Shipping &gt; Send shipping confirmation to Rakuten**
|
|====

__Table 5: event procedure for sending automatic shipping confirmations to Rakuten__

[#180]
== Automatically sending returns

Set up an **<<basics/automation/event-procedures#, event procedure>>** to automatically send returns to Rakuten.

[.collapseBox]
.Setting up an event procedure
--
.  Go to **System » Orders » Events**.
.  Click on **Add event procedure**. +
→ The **Create new event procedure** window will open.
.  Enter a name.
.  Select the **event** listed in table 6.
. **Save** the settings.
.  Pay attention to the explanations given in table 6 and carry out the settings as desired.
.  Place a check mark next to the option **Active**.
. **Save** the settings.
--
[cols="a,a,a"]
|====
|Setting |Option |Selection

|**Event**
|**Order generation: New return**
|

|**Filter 1**
|**Order &gt; Order type**
|**Order**

|**Filter 2**
|**Order &gt; Referrer**
|**Rakuten**

|**Procedure**
|**Return &gt; Send return to Rakuten**
|
|====

__Table 6: event procedure for sending automatic returns to Rakuten__

[#190]
== Automatically sending cancellations

Set up an **<<basics/automation/event-procedures#, event procedure>>** to automatically send cancellations to Rakuten.

[.collapseBox]
.Setting up an event procedure
--
.  Go to **System » Orders » Events**.
.  Click on **Add event procedure**. +
→ The **Create new event procedure** window will open.
.  Enter a name.
.  Select the **event** listed in table 7.
. **Save** the settings.
.  Pay attention to the explanations given in table 7 and carry out the settings as desired.
.  Place a check mark next to the option **Active**.
. **Save** the settings.
--
[cols="a,a,a"]
|====
|Setting |Option |Selection

|**Event**
|**Order change: Status change &gt; Cancelled**
|

|**Filter 1**
|**Order &gt; Order type**
|**Order**

|**Filter 2**
|**Order &gt; Referrer**
|**Rakuten**

|**Procedure**
|**Payment methods &gt; Send cancellation to Rakuten**
|
|====

__Table 7: event procedure for sending automatic cancellations to Rakuten__

[#200]
== Viewing the API log

The menu **Data exchange » API log » Tab: API log** contains a history of processes that run via the Rakuten interface. The **Rakuten** format is available for Rakuten.

[.instruction]
Viewing the API log:

.  Go to **Data exchange » API log**.
.  Select the **Rakuten** format from the **Process** drop-down menu.
.  Select a date if you only want to see entries for a specific day.
.  Select the number of results per page.
.  Click on **Search** to display the results.

[#210]
== FAQ

[.instruction]
How is the stock synchronised in plentymarkets with Rakuten.de?

[.indented]
If the automatic CSV import is set up for Rakuten.de, then the new stock will be synchronised by importing the CSV file again. How often synchronisation takes place, is set up in the Rakuten.de backend.[.instruction]
How is the stock synchronised in plentymarkets with Rakuten.co.uk?

[.indented]
Stock is retrieved once an hour via the API connection.
