= Event procedures
:lang: en
include::{includedir}/_header.adoc[]
:position: 20
:url: automation/event-procedures
:id: WA2EIQR
:keywords: Event, event procedure, automate, automated, automatic, automation, routine, routine task, action, procedure, event action, actions, procedures, filter, event, events, order, order processing, process, processes, processing, work steps, working steps, workflow, event group, order creation, order change, documents, payment, reorder management, filter type, filter group, filter group order, filter group item, filter group customer, filter group shipping, filter group markets, filter group reorder management, procedure group, procedure type, procedure group item, procedure group order, procedure group documents, procedure group customer, procedure group payment methods, procedure group returns, procedure group market listings, procedure group board, procedure group reorder management, procedure group plugins, activation, activate, deactivate, active, activate event procedure, deactivate event procedure
:author: team-order-payment

Order processing mostly consists of routine tasks. To a large extent, you can let your plentymarkets system take care of these tasks. In particular, sending emails to your customer is a time-consuming tasks, but nonetheless a vital aspect of a service- and customer-oriented online store.
With the *Event procedures*, plentymarkets provides you with an efficient tool for setting up such automatic processes that are reliably managed by your plentymarkets system.
The basic principle of event procedures is simple: Certain *Events* that occur in the online store trigger specific *Procedures*.

[TIP]
.Example: Sending order confirmations
====
To automatically send an order confirmation to the customer as soon as a new order is placed, you can create an event procedure in which the Event *New order* is followed by the procedure *Send email*. With the help of the *Filter* function, you can define for which of the new orders emails should be sent.
====

Creating an event procedure always consists of the following steps:

. <<#100, Creating an event procedure>>
. <<#110, Selecting an event>>
. <<#120, Adding one or multiple filters>>
. Determining which <<#130, Procedures>> should be carried out by the system once the selected event takes place
. <<#200, Activating>> the event procedure

For practical examples of how to use event procedures effectively, refer to the <<automation/best-practices-automation#, Best Practices: Procedure manager and event procedures>> page of the manual.

[#100]
== Creating a new event procedure

Go to *Setup » Orders » Events* to create a new event procedure. In this menu, you can also view the already existing event procedures and <<automation/event-procedures#300, edit>> them.

[.instruction]
Creating a new event procedure:

. Go to *Setup » Orders » Events*.
. Click on the *green plus icon* to create a new event procedure.
. In the editing window that opens, assign a distinct *Name* to the event procedure.
. Select an *Event*. For more detailed information about events, refer to <<#table-event-procedures-event-groups>>.
. *Save* the settings. +
→ The event procedure is created.

[#110]
=== Selecting an event

The first steps consists of selecting an *Event* that triggers the *new event procedure*. +
<<#table-event-procedures-event-groups>> describes the available events according to their event groups.

[[table-event-procedures-event-groups]]
.Available events and event groups
[cols="1,3"]
|====
|Event |Explanation

2+| Event group *Order generation*

| *New order*, +
*New incomplete order*, +
*New delivery order*, +
*New return*, +
*New return (by customer)*, +
*New credit note*, +
*New repair*, +
*New multi-order*, +
*New multi credit note*

|The event procedure is triggered as soon as one of the listed order types is created. +
The event *New return (by customer)* refers to returns that are initiated by customers in the *My account* area of the online store.

2+| Event group *Order change*

| *Status change*
|When the status of an order changes.

| *Package number*
|When a package number is provided for an order.

| *Outgoing items booked*
|When outgoing items are booked automatically or manually.

| *Order note*
|When an order note is added to an order.

| *Order note from customer*
|When the customer leaves new information for you during *Order processing*.

| *Order extended by customer*
|When the customer extends the order during the *Order process*.

| *Manual warehouse change for stock units*
|When the warehouse is changed manually for a variation included in the order.

| *Change of order type*, +
*Change of repair status*, +
*Change of payment method*
|The event procedure is triggered when the settings for one of the following parameters in an order are changed. The following events are available: *Change of order type*, ... of *repair status*, ... of *payment method*.

| *New OpenTrans order*
|When a new OpenTrans order is created.

2+| Event group *Documents*

| *Invoice generated*, +
*Receipt generated*, +
*Delivery note generated*, +
*List of delivery addresses generated*, +
*Pick list generated*, +
*Packing list generated*, +
*Offer generated*, +
*Dunning letter generated*, +
*Order confirmation generated*, +
*Credit note generated*, +
*Correction document generated*, +
*Return slip generated*, +
*Invoice reversal document generated*, +
*Refund reversal generated*, +
*Pro forma invoice generated*, +
*Return label saved*
|The event procedure is triggered as soon as one of the documents listed is generated. +
*_Important_*: If you use the procedure **Generate invoice** simultaneously in another event procedure, this event may be triggered twice.

2+| Event group *Payment*

| *Complete*
|When complete payment is booked for and assigned to an order, thus leaving the order fully paid.

| *Partial payment*
|If partial payment made by the customer is booked. +
This event is triggered several times if the customer effects multiple partial payments.

| *Overpay*
|When the customer has overpaid the order.

| *Rejected*
|When a payment is rejected by a payment provider.

| *Initial payment complete*
|When a deposit on production items has been fully paid. +
Enter the percentage value for deposits on production items in the *<<orders/basic-settings#, Setup » Orders » Settings>>* menu.

| *Payment cancelled by the customer*
|When an already effected payment is cancelled by the customer.

2+| Event group *Purchase order*

| *Goods delivered*, +
*Partly delivered*, +
*Booked out*, +
*Partly booked out*, +
*Booked in*, +
*Partly booked in*
|These events only apply to the order type purchase order. Depending on your selection here, the event triggering the event procedure is a complete or partial booking in or booking out of reordered stock.

| *Purchase order initiated*
|When a reorder or redistribution is initiated. With reorders, this means that the reorder has been transmitted to the supplier. Redistributions are initiated when the process of booking items from a source warehouse to a target warehouse is started.

| *Purchase order finished*
|When a reorder or redistribution is finished. For example, this is the case as soon as all items contained in the reorder or redistribution have been fully booked in or booked.

| *PO delivery note generated*
|When the document *PO delivery note* is generated in an order of the type redistribution.

| *Reorder document generated*
|When the reorder document is generated in an order of the type reorder.

|====

[#120]
=== Adding filters

After selecting an event that triggers the event procedure, select a *Filter* or multiple filters. Filters determine which orders are affected by the event procedure.

Like the events, the available filters are subdivided into groups. <<#table-event-procedures-filter-groups>> lists the available filters according to their filter groups.

[.instruction]
Adding a filter:

. Go to *Setup » Orders » Events*.
. Click on the event procedure to add a filter to it.
. Click on the *green plus* in the filter section.
. Select the desired *Filter type* from the appropriate filter group. +
. Click on *Add*.
. Carry out the desired settings in the filter.
. *Save* the settings.

[NOTE]
.Several filters for one event procedure
====
It is possible to select several filters for the same event procedure. In that case, the filters are applied one after the other. Thus, only orders that match all selected filters are affected by the event procedure.
====

[[table-event-procedures-filter-groups]]
.Available filters and filter groups
[cols="1,3"]
|====
|Filter |Explanation

2+| Filter group *Order*

| *Order type*
|Select one, multiple or all order types.

| *Order warehouse*
|Select orders according to their warehouse or several warehouses. +
*One warehouse per order* = Only orders whose variations are assigned to the same warehouse are filtered. +
*Multiple warehouses per order* = Only orders whose variations are assigned to different warehouses are filtered. +
icon:map-signs[] *_Or:_* Select one or more warehouses to filter the orders according to the warehouse(s) assigned to them. +

| *Number of order items*
|Orders are filtered according to the number of variations included per order. Select whether the system filters orders according to a fixed number (==) of variations or according to values greater than (>), greater than or equal to (>=), less than (<) or less than or equal to (<==) of the selected quantity. You can also limit results by using a second (optional) operator. +
*_Example_*: The required setting for filtering all orders with more than 5, but less than or equal to 10 variations: >5 <= 10.

| *Active user*
|Orders are filtered according to the active user. The active user is the user who triggers the event procedure. You can also select *ALL* users at once.

| *Click & Collect*
|Orders are filtered according to the shipping method Click & Collect. Click & Collect can only be used for orders that are referred from eBay UK and have the UK as their delivery country. For further information, refer to the chapter on <<markets/ebay/ebay-setup#7010, Click & Collect>>.

| *Referrer*
|Orders are filtered according to one or multiple referrers. You can also select *ALL* referrers at once.

| *Dunning level*
|Orders are filtered according to one or multiple dunning levels. You can select *ALL* dunning levels at once or select the option *None* if only orders without any dunning level should be filtered.

| *Client (store)*
|Orders are filtered according to one or multiple clients and online stores. You can select *ALL* online stores at once.

| *Flag*
|Orders are filtered according to one or multiple flags. You can select *ALL* flags at once or select the option *None* if only orders without any flag should be filtered.

| *Value of items (gross)*
|Orders are filtered according to their gross value of included variations. You can enter two values and add several operators for both values.

| *Payment method*
|Orders are filtered according to one or multiple payment methods. You can select *ALL* payment methods at once.

| *Payment status*
|Orders are filtered according to their payment status. For example, this status can consist of rejection of a payment or a waiting status. +
*_Example_*: If a payment provider rejects the payment made by a customer during the order process in the online store, you can use this event so that it is followed by a procedure such as automatically sending an email notification to the customer.

| *Loyalty program*
|Orders are filtered according to their loyalty program. +
*ALL* = All orders are filtered. +
*Without* = Only orders not belonging to any loyalty program are filtered. +
*Amazon SameDay* = Only Amazon orders that have to be shipped on the same day are filtered. +
*Amazon NextDay* = Only Amazon orders that have to be shipped on the following day are filtered. +
*Amazon SecondDay* = Only Amazon orders that have to be shipped 2 days after placement of the order are filtered. +
*Amazon Prime* = Only Amazon Prime orders are filtered. +
*Amazon Prime SameDay* = Only Amazon Prime orders that have to be shipped on the same day are filtered. +
*Amazon Prime NextDay* = Only Amazon Prime orders that have to be shipped on the following day are filtered. +
*Amazon Prime SecondDay* = Only Amazon Prime orders that have to be shipped 2 days after placement of the order are filtered. +
*eBay Plus* = Only eBay Plus orders are filtered. +
For more information on Amazon Prime and eBay orders, refer to the respective manual pages on <<markets/amazon/amazon-setup#4200, Amazon>> and <<markets/ebay/ebay-setup#100, eBay>>.

| *Order weight*
|Orders are filtered according to the total weight of the variations included in the order. Use the operators greater than, less than or equal to as well as the measuring units g and kg to filter orders with a certain weight.

| *Document*
|Orders are filtered according to the documents generated in the order. The operators *Current invoice* and *Reversal invoice* as well as *Not available* and *Available* can be used.

| *Incoming order*
|Orders are filtered according to the date of incoming order. Here, you can select the period between *until 1 day* and *until 31 days* in relation to the current date.

| *Incoming payment*
|Orders are filtered according to the date of incoming payment. Here, you can select the period between *until 1 day* and *until 31 days* in relation to the current date.

| *Status*
|Orders are filtered according to their order status. A particular status can be selected. Use the operators greater than, less than or equal to to filter orders that correspond to the selected status or that are in statuses below or above the selected status.

| *Postcodes*
|Orders are filtered according to one or several postcodes. A value can be entered here. This value is considered as the start value. Enter several values (separated by a comma). +
*_Example:_* If you enter the value “34”, all postcodes beginning with “34” are considered.

| *Agreement of data transmission to shipping service providers*
|Orders are filtered based on the values *granted* or *not granted*. When registering the order, it is checked whether the customer agreed in the online store that their data is transmitted to the shipping service provider or not.

2+| Filter group *Item*

| *Contains stocked item(s)*, +
*Contains production item(s)*, +
*Contains special order item(s)* +
*Contains colli*
|Orders are filtered according to the item type included in the order. Items belonging to different item types may be contained in an order.

| *Contains only stocked items*, +
*Contains only production item(s)*, +
*Contains only special order item(s)*, +
*Contains only collis* +
|See above. Orders that exclusively consist of the item types listed are filtered.

| *Item(s) included*
|Enter one or several item ID’s of the items according to which orders should be filtered. This way, all orders containing the item(s) with this particular ID are filtered.

| *Variation(s) included*
|Enter the variation ID’s of the variations according to which orders should be filtered. This way, all orders containing the variation(s) with this particular ID are filtered.

| *Item property available*
|This filter identifies order items for which a certain <<item/settings/properties#500, property>> has been defined in the *Setup » Settings » Properties » Configuration* menu. Within the filter, you can select a property according to which order items are filtered.

2+| Filter group *Customer*

| *Customer rating*
|Orders are filtered according to the customer rating. Customer ratings are preceded by one operator each. +
Use the operator  *==* and the *grey stars* to filter only orders without any customer ratings.

| *Customer class*
|Orders are filtered according to one or multiple customer classes. You can select *ALL* customer classes at once.

| *Customer type*
|Orders are filtered according to the customer type. The customer types *Customer*, *Interested party*, *Sales representative*, *Supplier*, *Manufacturer* or *Partners* are available.

| *Age rating billing address*
|Orders are filtered according to one or multiple age ratings linked to the invoice address. You can select *ALL* age ratings at once or select the option *None* if only orders without any age rating should be filtered.

| *VAT number*
|Orders are filtered according to the availability of a VAT number. You can select the options *Available* or *Not available*.

| *Number of orders*
|Orders are filtered according to the number of orders placed by a customer. Modify the number of orders by using the operators *greater than*, *less than* or *equal to*. +

| *Revenue*
|Orders are filtered according to the revenue generated. Modify the revenue amount by using the operators *greater than*, *less than* or *equal to*. In addition, you can filter revenues by indicating an amount, a *Period of time* or by including returns.

| *Guest order*
|Orders are filtered according to their status as guest orders. Select one of the options *Yes* or *No*.

2+| Filter group *Shipping*

| *Valid DHL Packstation/Postoffice*
|Orders are filtered according to the availability of a valid DHL Packstation or post office in the delivery address.

| *Faulty DHL Packstation/Postoffice*
|Orders are filtered according to the existence of a faulty DHL Packstation or post office in the delivery address.

| *Country of delivery*
|Orders are filtered according to one or multiple countries of delivery. You can also select *ALL* countries of delivery at once.

| *Shipping method*
|Orders are filtered according to one or multiple shipping methods. You can also select *ALL* shipping methods at once.

| *Shipped on*
|Orders are filtered according to the shipping date. Options: The options *Not available*, *Available* or *In the future* are available.

| *Shipping costs (gross)*
|Orders are filtered according to the gross shipping costs. Enter an amount and modify the revenue amount by using the operators *greater than*, *less than* or *equal to*.

| *Shipping by FBA only*
|This filter identifies orders that are shipped completely via Amazon Multi-Channel by Amazon. +
Use this filter to search for orders that consist of several shipments so that you can inform your customers that they will receive several shipments.

| *Shipping partially by FBA*
|This filter identifies orders containing items that are shipped partially via Amazon Multi-Channel by Amazon. +
Use this filter to flag orders of this kind.

| *Outgoing items*
|Orders are filtered according to the date of outgoing items. The period between *until 1 day* and *until 31 days* can be selected.

| *Phone number*
|Orders are filtered according to whether a telephone number *Exists* or *Does not exist* in the order. The *Delivery address*, the *Invoice address* or *Both* can be searched. If you want to search for orders in which a telephone number *Exists*, you can enter the *Minimal length of number* in addition. +
*_Example_*: If you enter 4 as the minimal length, the system searches for orders with telephone numbers consisting of 4 or more digits.

2+| Filter group *Market*

| *eBay*
|This filter identifies orders that are generated on eBay.

2+| Filter group *Purchase order*

| *Supplier*
|Orders of the type reorder are filtered according to their supplier.

| *Sending warehouse*
|Orders of the type stock transfer are searched according to the warehouse from which stock is booked out.

| *Receiving warehouse*
|Orders of the type reorder are searched according to the receiving warehouse to which the reordered items are sent. Orders of the type stock transfer are searched according to the target warehouse into which stock is rebooked.

|====

[#130]
=== Adding procedures

After having selected the desired event group as well as one or multiple filters, the last step consists of deciding which procedure(s) should be carried out. In case the selected event takes place, these procedures are carried out for the orders according to the filter settings. <<#table-event-procedures-procedure-groups>> describes the available procedures and procedure groups.

[NOTE]
.Selecting several procedures
====
If you select several procedures, they are carried out one after the other. To change the order in which procedures are carried out, click on the grey *arrows* next to the procedures that you have already added.
====

[.instruction]
Adding procedures:

. Go to *Setup » Orders » Events*.
. Click on the event procedure for which a procedure should be added.
. Click on the *green plus* in the *Procedures* section.
. Select the desired *Procedure type* from the appropriate procedure group. +
. Click on *Add*.
. Carry out the desired settings in the procedure.
. *Save* the settings.

[[table-event-procedures-procedure-groups]]
.Available procedures and procedure groups
[cols="1,3"]
|====
|Procedure |Explanation

2+| Procedure group *Item*

| *Add variation*
|Enter a variation ID. This procedure adds a particular variation to an existing order.

| *Send coupon item to manufacturer*
|Select a template. This procedure sends a coupon item in the form of the selected template to the manufacturer.

| *Assign serial numbers*
|This procedure assigns a serial number to the order.

2+| Procedure group *Order*

| *Create credit note (order)*
|This procedure automatically creates a credit note order as soon as the selected event takes place. +
Choose one of the following settings for the *Date* option: +
*Standard* = The credit note document is generated with the current date. +
*Return date* = The credit note order is created with the date of the return. +
*Order date* = The credit note order is created with the date of the creation of the order.

| *Use order template*
|This procedure automatically uses a certain order template. Order templates are created in the *Setup » Orders » Order template* menu.

| *Generate delivery orders*
|This procedure automatically creates delivery orders as soon as the selected event takes place. +
*Important*: This option is only displayed if the correct <<orders/managing-orders#320, assignment of warehouses>> has been carried out beforehand.

| *Split into delivery orders by gross value of items*
|Splits the order items of an order into various delivery orders. The delivery orders are split by an amount that the order items in a delivery order are not allowed to exceed. You can set up an error status that is assigned to the delivery order in case one of its order items exceeds the selected amount.

| *Split into delivery orders by item availability*
|Orders are split into delivery orders according to availability of the order items. Create *Availability groups* by dragging the desired item availabilities to the right. For every group, a new delivery order including the order items with the determined availability is created.

| *Split into orders by item availability*
|See procedure *Split into delivery orders by item availability*. This procedure splits orders into separate orders according to item availability.

| *Split by available line of items*
|Orders are split according to both an attribute selected by you and available stock. The order is split if different variations of an item have been ordered and not all variations are available. Items that are immediately available remain in the original order. Delivery orders will be created for items that have missing variations.

| *Split by delivery date*
|Orders are automatically split up into delivery orders according to the delivery date saved in the order. The customer can indicate the delivery date during the checkout process. It is also possible to save or change the delivery date of order items in the order itself. In addition, you can use a *Group function* to assign delivery dates to orders.

| *Change order type*
|Select the order type that an order should be changed into. The options *Order*, *Offer* and *Advance order* are available.

| *Change status*
|Select a status that should be assigned to the order by the event procedure. +
*Ignore <<orders/managing-orders#300, delivery orders>>*: The procedure *Change status* changes the status of both the main order and its delivery orders by default. Activate the option if you only want the status of the main order to be changed.

| *Change flag*
|Select a flag that should be applied by the event procedure.

| *Change dunning level*
|Select a dunning level that should be applied by the event procedure.

| *Change status of main order*
|Select the status that should be assigned to the main order if the order is split (function: *Split up order*) or when using the function *Generate delivery orders*.

| *Calculate sales data for data export*
|Revenue data is usually stored in a separate database to maintain a high level of system performance during the generation of invoices or credit notes. Because it is not allowed to generate internal invoices for certain payment methods, such as **Klarna**, **Neckermann** or **Quelle**, this database does not contain any data for orders with these payment methods. However, you can use this procedure to generate export data for those orders (COLLMEX, DATEV etc.) with the help of an event procedure. +
*_Important_*: The procedure is only carried out if the payment method of the order is *Quelle*, *Klarna* or *Neckermann*. Thus, these payment methods should be selected in the filter of the event procedure. The *Order type* should be defined by the filters *Order*, *Warranty* and/or *Repair* because invoices can only be generated for these order types.

| *Book outgoing items*
|Check the box if outgoing items should be booked as soon as the event takes place.

| *Notify Otto of changes to the order*
|This procedure informs Otto of changes to orders received from the market *Otto*. The notification is sent when the order changes to the statuses *Order received*, *Outgoing items booked*, *Return* and *Cancellation*.

| *Send cancellation to Otto Direktversand*
|This procedure notifies Otto Direktversand of the cancellation of an order.

| *Send shipping confirmation to Otto Direktversand*
|This procedure provides Otto Direktversand with a shipping confirmation.

| *Open URL*
|This procedure opens a URL provided within the procedure. The URL can be used to transmit information on orders. For example, the order ID can be included by attaching the template variable *OrderID* to the URL. The URL has to be entered in its full length and according to the template *+https://www.example.com+*. +
Example including the attached order ID: *+https://www.example.com/[OrderID]/+*. +
The available template variables are listed within the procedure. +
*HTTP method* = Select *GET*, *PUT* or *POST*. +
*Content type* = Save the content type for the URL. +
*Example*: If XML content should be transferred, enter *text/xml*. +
*Request Content* = You can transfer texts here, for example XML or JSON content.

| *Assign sales representative to order*
|This procedure saves a sales representative in an order. The sales representative is assigned according to the postcode of the address linked to the recipient of the order. For a sales representative to be assigned, it is mandatory that a range of postcodes is saved in the representative’s contact data. The contact ID of the sales representative is saved instead of the name. +
For more detailed information, refer to the <<crm/managing-contacts#, Contacts>> page of the manual.

| *Delete Klarna invoice*
|This procedure deletes an invoice with the payment method *Klarna* when an order is cancelled. For further information on order cancellations and further event procedures, refer to the <<payment/payment-providers/klarna#, Klarna>> page of the manual.

| *Send order confirmation to Fruugo*
|This procedure sends an order confirmation to the market <<markets/fruugo#, Fruugo>>.

| *Send cancellation to Fruugo*
|This procedure notifies the market <<markets/fruugo#, Fruugo>> of an order cancellation.

| *Notify Cdiscount of order changes*
|This procedure informs <<markets/cdiscount#, Cdiscount>> of status changes in orders received from the market Cdiscount.

| *Send cancellation to Flubit*
|This procedure notifies the market <<markets/flubit#, Flubit>> of the cancellation of an order.

| *Send order confirmation to idealo*
|This procedure sends an order confirmation to the market <<markets/idealo-checkout/idealo-setup#, idealo>>.

| *Send cancellation to idealo*
|This procedure notifies the market <<markets/idealo-checkout/idealo-setup#, idealo>> of the cancellation of an order.

| *Send order cancellation to bol.com*
|This procedure notifies the market <<markets/bol-com#, bol.com>> of the cancellation of an order.

| *Send cancellation to real.de*
|This procedure notifies the market <<markets/real-de/real-setup#, real.de>> of the cancellation of an order.

| *Change shipping profile*
|This procedure changes the shipping profile saved in the order according to the option you select within the procedure.

| *Recalculate shipping profiles of order items*
|This procedure recalculates the shipping profiles assigned to the individual order items and saves the updated shipping profiles with the order items.

2+| Procedure group *Documents*

| *Generate invoice*
|This procedure automatically generates an invoice as soon as the selected event takes place.  +
Further options appear when the procedure is selected: Indicate a *Payment due date*, set up an *Early payment discount* or add a *Comment*.

| *Generate multi-invoice*
|This procedure automatically generates a multi-invoice as soon as the selected event takes place. +
An optional *Comment* can be entered and appears below the list of variations.

| *Generate order confirmation*
|This procedure automatically generates an order confirmation as soon as the selected event takes place. +
An optional *Comment* can be entered and appears below the list of variations.

| *Generate credit note (Document)*
|This procedure automatically generates a credit note (document) as soon as the selected event takes place. +
Choose one of the following settings for the *Date* option: +
*Standard* = The credit note document is generated with the current date. +
*Credit note date* = The credit note document is generated with the date on which the original credit note order has been created. +
An optional *Comment* can be entered and appears below the list of variations.

| *Generate adjustment form*
|This procedure automatically generates an adjustment form as soon as the selected event takes place. +
An adjustment forms are used for credit notes that have not been paid off, as written records for accounting purposes and serve as proof for the reimbursement of a cancelled invoice. +
An optional *Comment* can be entered and appears below the list of variations.

| *Generate multi credit note*
|This procedure automatically generates a multi credit note as soon as the selected event takes place. +
An optional *Comment* can be entered and appears below the list of variations.

| *Generate delivery note*
|This procedure automatically generates a delivery note as soon as the selected event takes place. +
An optional *Comment* can be entered and appears below the list of variations.

| *Generate dunning letter*
|This procedure automatically generates a dunning letter as soon as the selected event takes place. +
To display the dunning fee, enter the *Variation ID* of the <<orders/order-documents/generating-dunning-letters#200, Item representing the dunning charge>> which you have created in your plentymarkets system beforehand. +
An optional *Comment* can be entered and appears below the list of variations.

| *Generate return slip*
|This procedure automatically generates a return slip as soon as the selected event takes place. +
An optional *Comment* can be entered and appears below the list of variations.

| *Generate gift card*
|This procedure automatically generates a gift card as soon as the selected event takes place.

| *Generate invoice reversal document*
|This procedure automatically generates an invoice reversal document as soon as the selected event takes place. A reversal document cancels the invoice and not the order itself. Thus, the reversal document is only generated if an invoice already exists for the order.

| *Generate refund reversal document*
|This procedure automatically generates a refund reversal document as soon as the selected event takes place.

| *Generate pro forma invoice*
|This procedure automatically generates a proforma invoice as soon as the selected event takes place. +
Further options appear when the procedure is selected: Indicate a *Payment due date*, set up an *Early payment discount* or add a *Comment*.

2+| Procedure group *Customer*

| *Change customer rating*
|Select the customer rating to which the previously set customer rating should be changed.

| *Change customer type*
|Select the customer type to which the previously set customer type should be changed.

| *Send email*
|Select which kind of email should be sent to which recipients or customers. Select the desired combination of *Template* and *Recipient* and click on *Add* to set up the procedure. Different combinations are possible within this procedure. Click on *Delete* to remove recipients that you have previously set up. If no email recipient has (yet) been defined for an event procedure, the note *No recipients* is displayed.

| *Send eBay message*
|Select the desired email template for the message.

| *Assign sales representative to customer*
|This procedure automatically saves sales representatives in contact data. For a sales representative to be assigned, a range of postcodes has to be saved in the sales representative’s contact data. The *Contact ID* of the sales representative is saved instead of the name. For further information, refer to the <<crm/managing-contacts#, Contacts>> page of the manual.

| *Change customer class*
|Select the customer class to which the previously set customer class should be changed.

2+| Procedure group *Shipping*

| *Assign storage location*
|Activate the option *Unassign old storage location* if a new storage location should be assigned once the selected event takes place.

| *Unassign storage location*
|This procedure unassigns the storage locations linked to the order item once the selected event takes place.

| *Create shipping packages*
|Creates shipping packages for an order before the order is opened in the shipping centre.

| *Transfer shipping permission to FBA*
|This procedure sends a shipping permission to <<markets/amazon/amazon-setup#3300, FBA>> so that shipping is initiated by FBA.

| *Send shipping confirmation*
|Sends a shipping confirmation to a market or a payment provider once the orders placed via this market or payment provider has been shipped. +
Individual procedures are available for: <<payment/payment-providers/amazon-pay#, Amazon Pay>>, <<payment/payment-providers/upg#, UPG>>, <<payment/payment-providers/klarna#, Klarna>>, <<payment/payment-providers/klarna-checkout-uk#, Klarna UK>>, <<payment/payment-providers/masterpayment#, Masterpayment>>, <<payment/payment-providers/payolution#, Payolution>>, <<payment/payment-providers/payone#, PAYONE>>, <<markets/plus-gartenxxl#, Netto eStores>>, <<payment/payment-providers/POSTPAY#, POSTPAY>>, *Zentralverkauf*, <<markets/hood#, Hood>>, <<markets/ebay/ebay-setup#, eBay>>, <<markets/rakuten/rakuten-setup#, Rakuten.de>>, <<markets/fruugo#, Fruugo>>, <<markets/flubit#, Flubit>>, <<markets/idealo-checkout/idealo-setup#, idealo>> and <<markets/bol-com#, bol.com>>.

| *Send tracking information to Rakuten*, +
*Send preparation for shipping to Rakuten*
|This procedure sends the tracking number or a confirmation that the order is currently being prepared for shipping to the market <<markets/rakuten/rakuten-setup#, Rakuten.de>>.

2+| Procedure group *Payment methods*

| *Send credit note*
|A credit note is sent to the payment provider. +
Individual procedures are available for: *ClickandBuy*, <<payment/payment-providers/payone#, PAYONE>>, <<payment/payment-providers/postpay#, POSTPAY>>, <<payment/payment-providers/worldpay#, Worldpay>> and <<payment/payment-providers/klarna#, Klarna>>.

| *Send order to Klarna*
|An order is sent to <<payment/payment-providers/klarna#, Klarna>>.

| *Notify Klarna of changes to the order*
|A notification on changes on an order is sent to <<payment/payment-providers/klarna#, Klarna>>.

| *Send reversal to ClickandBuy*
|A reversal is sent to ClickandBuy.

| *Send refund*
|A refund is sent to the payment provider. +
Individual procedures are available for: <<payment/payment-providers/amazon-pay#, Amazon Pay>>, <<payment/payment-providers/upg#, UPG>>, <<payment/payment-providers/payolution#, Payolution>> and <<payment/payment-providers/klarna-checkout-uk#, Klarna UK>>.

| *Send refund*
|A refund is sent to the payment provider. +
Individual procedures are available for: <<payment/payment-providers/masterpayment#, Masterpayment>>, <<payment/payment-providers/paypal-plus#, PayPal PLUS>> and <<payment/payment-providers/paypal#, PayPal>>.

| *Send cancellation*
|A cancellation is sent to the payment provider. +
Individual procedures are available for: <<payment/payment-providers/upg#, UPG>>, <<payment/payment-providers/amazon-pay#, Amazon Pay>>, *ClickandBuy*, <<payment/payment-providers/paymorrow#, paymorrow>>, <<markets/plus-gartenxxl#, Netto eStores>>, <<payment/payment-providers/postpay#, POSTPAY>>, <<markets/rakuten/rakuten-setup#, Rakuten>>, <<payment/payment-providers/worldpay#, Worldpay>>, <<payment/payment-providers/sage-pay#, SagePay>>, <<payment/payment-providers/klarna-checkout-uk#, Klarna UK>>.

| *Permit payment via direct debit*
|Use the event procedure to activate or deactivate the payment method *Direct debit*.

| *Permit payment on invoice*
|Use the event procedure to activate or deactivate the payment method *Invoice*.

2+| Procedure group *Return*

| *Generate DHL return label*
|Generates a DHL return label via <<fulfilment/preparing-the-shipment#3200, DHL Retoure Online>> or <<fulfilment/preparing-the-shipment#3100, DHL Retoure with enclosed return labels>>. The generated return label is made available in the *Shipping centre* or in the *My account* area of the online store.

| *Send return*
|Sends a return to a market or a payment provider. +
Individual procedures are available for: <<payment/payment-providers/klarna#, Klarna>>, <<markets/amazon/amazon-setup#, Amazon>>, <<markets/plus-gartenxxl#, Netto eStores>>, <<payment/payment-providers/postpay#, POSTPAY>>, <<markets/rakuten/rakuten-setup#, Rakuten>>, <<markets/shopgate#, Shopgate>>, <<markets/flubit#, Flubit>>, <<markets/idealo-checkout/idealo-setup#, idealo>>, <<markets/fruugo#, Fruugo>> and <<markets/cdiscount#, Cdiscount>>. +
For further information refer to the manual page on the respective <<payment/payment-providers#, payment provider>>.

| *Send return status to bol.com*
|Sends the status of the return to the market <<markets/bol-com#, bol.com>>.

2+| Procedure group *Market listings*

| *Post feedback*
|Automatically generates feedback for a listing. +
Individual procedures are available for <<markets/hood#600, Hood>>, <<markets/ricardo-ch#700, ricardo>> and <<markets/ebay/ebay-setup#1300, eBay>>.

| *Send payment notification*
|Automatically sends a payment confirmation. +
Individual procedures are available for <<markets/hood#600, Hood>> and <<markets/ebay/ebay-setup#1300, eBay>>.

| *eBay return*, +
*Issue eBay refund to customer (PayPal)*, +
*Mark eBay return as received*, +
*eBay refund sent* (without PayPal), +
*Upload own return label at eBay*
|Once the selected event takes place, the listed procedures are triggered within the management of returns and refunds at <<markets/ebay/ebay-setup#1300, eBay>>.

| *Reject eBay cancellation request*, +
*Accept eBay cancellation request*, +
*Create an order cancellation on eBay*
|Once the selected event takes place, the listed procedures are triggered within the management of order cancellations at <<markets/ebay/ebay-setup#1300, eBay>>.

| *Start dunning/dispute process on eBay*
|Automatically sends a dunning letter or starts a dispute on <<markets/ebay/ebay-setup#1300, eBay>>.

2+| Procedure group *Board*

| *Create card*
|Once the selected event happens, a <<welcome/general-functions/boards#30, new card>> is added in the *plentymarkets logo (Start) » Boards* menu. +
Select the *Board* and the *Column* as the place for the new card within the procedure. Within the procedure, you can assign an optional *Prefix* for the new card. The prefix can be used for better distinction between the cards and is automatically added at the beginning of the card title.

| *Delete cards*
|Once the selected event happens, selected cards are <<welcome/general-functions/boards#40, deleted>> in the *plentymarkets logo (Start) » Boards* menu. +
Select the *Board* and the *Column(s)* whose cards should be deleted within the procedure.

| *Move cards*
|Once the selected event happens, selected cards are <<welcome/general-functions/boards#40, moved>> in the *plentymarkets logo (Start) » Boards* menu. +
Select the *Board* and the *Column(s)* from and to which the cards should be moved within the procedure.

2+| Procedure group *Purchase order*

| *Set delivery date (reorder only)*
|For orders of the type reorder, the estimated delivery date is saved in the reorder.

| *Initiate purchase order*
|Once the selected events happens, reorders or redistributions are initiated. With reorders, this means that the reorder is transmitted to the supplier. With redistributions, this means that the process of booking items from a source warehouse to a target warehouse begins with this procedure.

| *Finish purchase order*
|Once the selected events happens, reorders or redistributions are finished. Once the orders are finished, editing these orders is not possible any more.

| *Generate reorder document*
|Once the selected event happens, the reorder document is generated for orders of the type *Reorder*.

| *Generate PO delivery note*
|Once the selected event happens, the *PO delivery note* document is generated for orders of the type *Reorder*.

2+| Procedure group *Plugins*

| *Register order with shipping service provider*
|This procedure registers the order via the interface or the plugin that you have already set up. The order is registered based on the selected shipping profile in the order. +
*_Note:_* This procedure can only be used in combination with interfaces or plugins of shipping service providers already set up. Using this procedure with the Amazon service *Amazon Prime* is not possible.

| *Register return with shipping service provider*
|This procedure registers the return via the interface or the plugin that you have already set up. This procedure can only be carried out if the shipping service provider allows to register returns.

|====

[#200]
== Activating an event procedure

As soon as you have selected the event, filter(s) and procedure(s) for an event procedure, the event procedure has to be activated. From the point of activation onwards, the event procedure applies your settings to the selected orders.

In case an event procedure is temporarily not needed, you can deactivate it.

[.instruction]
Activating an event procedure:

. Go to *Setup » Orders » Events*.
. Select the event procedure from the list displayed on the left. +
→ The event procedure opens.
. Select the option *Active* in the *Settings* section. +
→ The event procedure is activated.

[TIP]
.Check the settings before activation
====
We recommend that you check the selected events, filters, procedures and all related settings carefully before you activate the event procedure. Activating event procedures that are not fully set up can cause malfunctions and errors.
====

[#300]
== Editing an event procedure

You can edit the *Name*, the *Event*, the *Filter* and the *Procedure* during or after the set-up of the respective event procedure. Delete individual filters or procedures by using the *Delete* function displayed next to each selected option. *Save* the settings to apply the changes.
