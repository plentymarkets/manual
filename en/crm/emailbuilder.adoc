= EmailBuilder (Test phase)
:lang: en
include::{includedir}/_header.adoc[]
:keywords:
:description: Learn how to use the EmailBuilder in plentymarkets.
:position: 600
:url: crm/emailbuilder-testphase
:id: MYFLVYO
:author: team-crm



[IMPORTANT]
.EmailBuilder is continuously being developed further
====
On this page, we will present you the functions of the new EmailBuilder. The EmailBuilder is continuously being developed further; more functions and features will be added. In the course of development, also this page of the user manual will be completed step-by-step.
====

All emails that are sent with plentymarkets are based on templates. You create and manage templates with the EmailBuilder in the *CRM » EmailBuilder (Test phase)* menu.

The EmailBuilder is a modular construction kit for quickly creating and editing your email templates via drag-and-drop. No programming skills are required.

The EmailBuilder consists of 2 views: the configuration manager and the editor. With the configuration manager, you create folders and, if needed, sub-folders, templates as well as templates for your footer and your header. With the editor, you fill your templates, headers and footers with content. You can create a template for an invoice, for example, and use this template for all invoices that are sent to your customers in the future. +
You can then use the header and footer templates in the email templates as desired. Header and footer are globally active; changes you make to the header and footer affect the rest of all existing templates and all other templates that you will create in the future.

The header, the footer and the settings in the template such as the name, the subject etc. form the framework of your email, so to say. The content of the template is formed with widgets and variables. In the emails that are sent to your customer, the variables will then be replaced with the correct content. For example: The variable `Delivery address First name and last name` will be replaced in the email with the first name and the last name of the contact from the delivery address.

In case of certain events, e.g. if a new order is placed in your online shop or when a contact subscribes to a newsletter, your plentymarkets system automatically creates emails from these templates and sends them to your contacts.

[#preparatory-settings]
== Carrying out the preparatory settings

The following sub-chapters describe which preparatory settings are needed so that you can work with the EmailBuilder.


[#assign-rights]
=== Assigning rights for back end users

:rights-purpose: work with the EmailBuilder
:right-one: pass:quotes[*CRM > Email > Edit automatic email*]
:right-two: pass:quotes[*CRM > Email > Edit HTML design*]
:right-three: pass:quotes[*CRM > Email > Edit info service*]
:right-four: pass:quotes[*CRM > Email > Edit newsletter*]
:right-five: pass:quotes[*CRM > Email > Edit signature*]
:right-six: pass:quotes[*CRM > Email > Edit template*]
:right-seven: pass:quotes[*CRM > Email > Edit access data*]
:right-eight: pass:quotes[in the *Menu visibilities* area: *CRM > EmailBuilder*]

include::../_includes/textblocks/instructions/rights.adoc[]

[#email-server-login-details]
=== Saving the email server's login details

In the *Setup »Client » [Select client] » Email » Login* details menu, you save the login details of a mailbox so that plentymarkets emails such as order or shipping confirmations can be sent from this email address.

[.instruction]
Saving the email server's login details:

. Go to *Setup » Client » [Select client] » Email » Login details*.
. Carry out the desired settings. Note <<#table-email-server-login-details>>.
. *Save* (icon:save[role="green"]) the settings.

[[table-email-server-login-details]]
.Saving the email server's login details
[cols="1,3"]
|====
|Setting |Explanation

| *Test mode*
| Select *Active* or *Inactive*. +
*Active* = The test mode is activated. All emails are only sent to the saved email address. This allows you to test the settings before switching to the live mode. +
*Inactive* = The live mode is activated. +
*_Important:_* The test mode is only applied to this online store. The settings for additional clients (stores) are carried out in the client's menu.

| *Name of sender*
|Enter your name or the name of the online shop. The name is displayed to the recipient. Avoid using special characters in order to allow for correct display.

| *Email address*
|Enter the email address as it is listed in the email programme.

| *Outgoing mail server/SMTP server*
|Enter the outgoing mail server as specified by the provider (usually smtp.domain.co.uk or mail.domain.co.uk). +
*_mailbox.org:_* For mailbox.org mailboxes, enter the outgoing mail server *smtp.mailbox.org* and select the encryption method *SSL*.

| *User name*
|Enter the user name that matches the email address. +
*_mailbox.org:_* The mailbox.org user name is the complete email address of the mailbox.org mailbox.

| *Password*
|Enter the password that matches the user name and email address.

| *Port (standard port: 25)*
|Enter the value *25*. This value is correct for nearly all providers. Otherwise, ask your provider about the correct port. +
*_mailbox.org:_* For mailbox.org mailboxes, enter port *465* and select the encryption method *SSL*.

| *Encryption*
| Select *SSL*, *TLS* or *No encryption*.  +
*_mailbox.org:_* For mailbox.org mailboxes, enter port *465* and select the encryption method *SSL*.

|====

[TIP]
.Entering newsletter login details
====
Go to *Setup » Client » [Select client] » Email » Newsletter*. Enter the login details to use the newsletter service that is integrated in plentymarkets. For further information, refer to the <<crm/sending-newsletters#200, Entering newsletter login details>> chapter of the <<crm/sending-newsletters#, Newsletters>> page of the manual.
====

[#email-signature]
=== Saving the email signature

Go to *Setup» Client » [Select client] » Email » Signature* to save the signature. The signature is then automatically added to your email templates when you inserted the corresponding variable in the template.

[IMPORTANT]
.Note the priority of the signature
====
The signature that was saved for a user in his or her user account in the *Setup » Settings » User » Accounts* menu takes priority over the signature that is saved in the *Setup » Client » Select client » Email » Signature* menu. +
*_This means:_* If you insert, for example, the variable `Signature in HTML format` in the template, the signature is taken from the user account. If no signature is saved in the user account, the signature that is saved in the *Setup » Client » [Select client] » Email » Signature* menu is used.
====

// If you inserted the template variable `Signature in plain text` in the email template, the signature that is saved in the *Setup » Client » [Select client] » Email » Signature* menu is always used.




[#manage-folders]
== Managing folders

You can create as many folders and sub-folders as you like in the EmailBuilder. After you created a folder, you can create new sub-folders, new templates in general and new header and footer templates by clicking on icon:more_vert[set=material].

Your plentymarkets system contains a folder with pre-defined default templates. These are explained further down on this page in the <<#use-default-templates, Using default templates>> chapter.

[[image-emailbuilder-folder-structure]]
.Folder structure in the EmailBuilder
image::crm/assets/emailbuilder-folder-structure.png[width=640, height=360]



[#create-folder]
=== Creating a folder

Create folders to get a better overview of your email templates at a later point in time. Proceed as described below to create a new folder.

[.instruction]
Creating a folder:

. Go to *CRM » EmailBuilder (Test phase)*.
. Click in the bottom left on icon:plus[role="green"] *New main folder*. +
→ The *Create new folder* window opens.
. Enter the name for the folder.
. *Save* the settings. +
→ The new folder is added to the folder list.

[TIP]
Once you have carried out all settings as described in the following – so you have created sub-folders, templates, headers and footers –, you can open the main folder by clicking on icon:chevron_right[set=material]. You will see there at a glance all sub-folders, templates, headers and footers that you created directly in the main folder.

[#rename-folder]
=== Renaming the folder

You can update the folder name at any time. To do so, proceed as described below.

[.instruction]
Renaming the folder:

. Go to *CRM » EmailBuilder (Test phase)*.
. In the line of the folder that you want to rename, click on icon:more_vert[set=material]. +
→ A window opens.
. Click on icon:edit[set=material] *Rename*. +
→ The *Rename folder* window opens.
. Enter an other name for the folder.
. Click on *Update*. +
→ The new folder name is updated and shown in the list.


[#create-sub-folder]
=== Creating a sub-folder

Create sub-folders in your folders to group your email templates in even more detailed topics. You can create as many sub-folders as you like. Also the number of levels is unlimited.

[TIP]
.Create a draft for your folder structure in advance
====
We recommend creating a draft in advance to avoid confusing and unclear nesting levels in your folder structure. Because: The more levels you create, the more complex the structure will be.
====

[.instruction]
Creating a sub-folder:

. Go to *CRM » EmailBuilder (Test phase)*.
. In the line of the folder that you want to create a sub-folder for, click on icon:more_vert[set=material]. +
→ A window opens.
. Click on icon:plus[] *New sub-folder*. +
→ The *Create new folder* window opens.
. Enter the name for the sub-folder.
. *Save* the settings. +
→ The sub-folder is created within the main folder.

Open the sub-folder by opening the main folder with a click on icon:chevron_right[set=material]. You can see all sub-folders that you created at a glance.

[#delete-folder]
=== Deleting a folder

You can delete folders and sub-folders at any time. Note that the entire content in the folder will also be deleted.

[.instruction]
Deleting a folder:

. Go to *CRM » EmailBuilder (Test phase)*.
. In the line of the folder or sub-folder that you want to delete, click on icon:more_vert[set=material]. +
→ A window opens.
. Click on *Delete*. +
→ A window opens and you need to confirm your decision.
. Click on *Delete*. +
→ The folder with all corresponding sub-folders and templates contained in there will be deleted.

[#manage-templates]
== Managing templates

Learn in the following sub-chapters how to create, search for and edit templates for <<#create-header, headers>> and <<#create-footer, footers>> and <<#create-template, general templates>>. You can also use pre-defined <<#use-default-templates, default templates>>. Moreover, you will learn everything about the available <<#insert-widget, widgets>> and how you can use these widgets.

The widgets and variables that are contained in the template form the actual content of your email. Via the widgets, you can insert as many variables as you like into a template by using drag-and-drop. These variables will then be replaced with the correct content when the email is sent to your customers.

To see which variables are available for your email templates, refer to the lists on the bottom of this page in the <<#variables-emailbuilder, Available variables for the EmailBuilder>> chapter.


[#template-header-footer]
=== Creating templates for header and footer

Create templates for the header and the footer that you can later use in all of your email templates. Header and footer are globally active. This means: changes you make to the header and footer affect the rest of all existing templates and all other templates that you will create in the future.

You can insert, for example, your company logo into the header and insert into the footer your signature and the general company details such as the address, links to social media, the legal structure of your company, details about your company’s executive board, and much more.

Proceed as described below to create a template for the <<#create-header, header>> and the <<#create-footer, footer>>.

[#create-header]
==== Creating a header template

Proceed as described below to create a template for the header of your email template.

[.instruction]
Creating a header template:

. Go to *CRM » EmailBuilder (Test phase)*.
. In the line of the folder or sub-folder in which you want to create a header, click on the context menu (icon:more_vert[set=material]). +
→ A window opens.
. Click on icon:plus[] *New header*.
. Enter a name for the header.
. *Save* (icon:save[set=material]) the settings. +
→ The template is created.
. Click on *Edit* (icon:edit[set=material]).
. Edit the header according to your wishes and insert <<#insert-widget, widgets>> and <<#variables-emailbuilder, variables>>.
. *Save* the settings.

[#show-header-preview]
[discrete]
==== Showing the preview of the header

Check the header by opening the preview.

. Go to *CRM » EmailBuilder (Test phase)*.
. Expand the folder (icon:chevron_right[set=material]) that contains the header for which you want to show the preview.
. Click on the header.
. Click on *Preview* (icon:preview[set=material]).
. Select *Preview HTML* or *Preview plain text*. +
→ The preview opens in a separate window.
. Check the header.
. *Close* the window.

If you are not satisfied with the result, edit the content of your header again.

[#create-footer]
==== Creating a footer template

Proceed as described below to create a template for the footer of your email template.

[.instruction]
Creating a footer template:

. Go to *CRM » EmailBuilder (Test phase)*.
. In the line of the folder or sub-folder in which you want to create a footer, click on icon:more_vert[set=material]. +
→ A window opens.
. Click on icon:plus[] *New footer*. +
→ A new view opens.
. Enter a name for the footer.
. *Save* (icon:save[set=material]) the settings. +
→ The template is created.
. Click on *Edit* (icon:edit[set=material]).
. Edit the footer according to your wishes and insert <<#insert-widget, widgets>> and <<#variables-emailbuilder, variables>>.
. *Save* the settings.

[#show-footer-preview]
[discrete]
==== Showing the preview of the footer

Check the footer by opening the preview.

. Go to *CRM » EmailBuilder (Test phase)*.
. Expand the folder (icon:chevron_right[set=material]) that contains the footer for which you want to show the preview.
. Click on the footer.
. Click on *Preview* (icon:preview[set=material]).
. Select *Preview HTML* or *Preview plain text*. +
→ The preview opens in a separate window.
. Check the footer.
. *Close* the window.

If you are not satisfied with the result, edit the content of your footer again.

[#create-template]
=== Creating a template

Now create the template and save basic settings such as the name, the subject, CC and BCC and select the appropriate header and footer for the template. Proceed as described below to create a new template.

[[image-emailbuilder-template]]
.Creating a template in the EmailBuilder
image::crm/assets/emailbuilder-create-new-template.png[width=640, height=360]

[.instruction]
Creating a template:

. Go to *CRM » EmailBuilder (Test phase)*.
. In the line of the folder or sub-folder in which you want to create a template, click on icon:more_vert[set=material]. +
→ A window opens.
. Click on icon:plus[] *New template*.
. Carry out the settings. Note <<#table-emailbuilder-create-template>> and <<#image-emailbuilder-template>>.
. *Save* (icon:save[set=material]) the settings.



[[table-emailbuilder-create-template]]
.Creating a template in the EmailBuilder
[cols="1,3"]
|====
|Setting |Explanation

| *Save*
|Saves the settings.


// | *Preview*
// |Shows a preview of the template. +
// Select whether you want to see the preview in HTML format or in plain text.
// Depending on which preview type you select, a window with the content of the email template opens in HTML format or in plain text.


2+| *Name*

| *Name*
|What’s the name of the template? Enter a descriptive name so you can easily find the template at a later point in time. +
*_Note:_* This field is a mandatory field.

2+| *Content*
2+| Click on icon:edit[set=material] to edit the content of the template and to use <<#insert-widget, widgets>> and <<#variables-emailbuilder, variables>>. +
The editor area opens and you can edit the content of the template by clicking on the widgets.

| *Build from default template*
|Expand the area (icon:caret-down[]) to select one of the <<#use-default-templates, default templates>> and to link it with the new template.

2+| *Settings*

| *Header*
|Which header do you want to show in this template? Select a header from the drop-down list (icon:caret-down[]). +
The list contains all <<#create-header, headers>> that you have already created.

| *Footer*
|Which footer do you want to show in this template? Select a footer from the drop-down list (icon:caret-down[]). +
The list contains all <<#create-footer, footers>> that you have already created.

//| *Type*
//|In which area should the email template be available? Select a type from the drop-down list.

//| *Select static attachments*
//|This drop-down list provides all attachments that you uploaded before in the *CMS » Documents* menu. These are, for example, installation guides or product data sheets. Select (icon:check-square[role="blue"]) up to 3 static attachments from the drop-down list.

//| *Select dynamic attachments*
//|This drop-down list provides all <<orders/order-documents#100, location-based documents>> that you set up in the *Setup » Client » [Select client] » Locations » [Select location] » Documents* menu. Select (icon:check-square[role="blue"]) up to 3 dynamic attachments from the drop-down list.

| *Subject*
|What’s the subject of your email?

//| *From*
//|This is the sender of the email just as it is saved in the email settings of your plentymarkets system.

| *Reply to*
|Who is the recipient of this email? Enter the email address(es). +
*_Note:_* When you enter several email addresses, separate them with a comma each.

| *CC*
|To whom do you want to send a copy of this email? Enter the email address(es). +
*_Note:_* When you enter several email addresses, separate them with a comma each.

| *BCC*
|To whom do you want to send a blind copy of this email? Enter the email address(es). +
*_Note:_* When you enter several email addresses, separate them with a comma each.

|====

Now structure the content of your email by inserting variables via the widgets. How to proceed is described in the following chapter <<insert-widget#, Inserting a widget into a template>>.


[#insert-widget]
=== Inserting a widget into a template

In the editor, you can find a selection of widgets whose contents are already pre-configured for you. For example, you will find in the *Order items* widget a pre-defined list with the most important variables around the ordered item such as item name, the number of ordered items, the prices, the shipping costs and the total invoice amount. You can, however, customise the content anytime and add more column names and single positions. <<#image-emailbuilder-widget-order-items>> shows the editing mode of the pre-defined *Order items* widget.

[[image-emailbuilder-widget-order-items]]
.Editing mode of the pre-defined widget *Order items*
image::crm/assets/emailbuilder-editing-mode-order-items.png[width=640, height=360]

<<#table-available-widgets-emailbuilder>> lists all widgets that are available in the EmailBuilder as well as an explanation how you can use the widgets.

[[table-available-widgets-emailbuilder]]
.Available widgets in the EmailBuilder
[cols="1,3"]
|====
|Widget |Explanation

| *Two-column layout*
a|Allows to display text in a two-column layout. Click on icon:settings[set=material] to open the settings. You can also determine the relation how the fields are displayed. The following values are available:

* 50% / 50% (standard)
* 30% / 70%
* 70% / 30%

Click on *Close settings* (icon:times[]) to close the settings. Click on *Delete widget* (icon:delete[set=material]) to remove the widget.


| *Text*
|In this widget, you can insert text and use variables.

Click on icon:edit[set=material] to open the list with the variables on the left side of the screen. Use the search function to find the variables or find the appropriate variables by expanding the individual areas (icon:chevron_right[set=material]). Click on the variable that you want to insert. Enter additional text in the widget, if needed.

Click on icon:settings[set=material] to open the settings. Here, you can remove the widget by clicking on *Delete widget* (icon:delete[set=material]). Further settings cannot be carried out in this area. Click on *Close settings* (icon:times[]) to close the settings.

| *Code*
|In this widget, you can insert text in HTML format. To do so, some basic HTML skills are needed.

Click on icon:code[role="darkGrey"] to open the view.

Click on icon:settings[set=material] to open the settings. Here, you can remove the widget by clicking on *Delete widget* (icon:delete[set=material]). Further settings cannot be carried out in this area. Click on *Close settings* (icon:times[]) to close the settings.

| *Contact address*
|This widget contains sample data of the contact address. The layout of the address depends on the settings that you saved in the *Setup » CRM » Address layout* menu. This means: The layout in the EmailBuilder is displayed in the same way as the address layout that you defined as the standard address layout in the *Setup » CRM » Address layout* menu.

Click on icon:settings[set=material] to open the settings. Select the address type *Invoice address* or *Delivery address* from the drop-down list.

Click on *Close settings* (icon:times[]) to close the settings. Click on *Delete widget* (icon:delete[set=material]) to remove the widget.

| *Order address*
|This widget contains sample data of the order address. The layout of the address depends on the settings that you saved in the *Setup » CRM » Address layout* menu. This means: The layout in the EmailBuilder is displayed in the same way as the address layout that you defined as the standard address layout in the *Setup » CRM » Address layout* menu.

Click on icon:settings[set=material] to open the settings. Select the address type *Invoice address* or *Delivery address* from the drop-down list.

Click on *Close settings* (icon:times[]) to close the settings. Click on *Delete widget* (icon:delete[set=material]) to remove the widget.

| *Order items*
|This widget contains an already pre-defined layout for the order items with sample data. The sample data will then be replaced with the correct values in the email. <<#image-emailbuilder-widget-order-items>> shows the standard widget with further settings options.

Click on icon:settings[set=material] to open the settings. Here you can select from the drop-down lists which contents should be shown.

| *Item list*
|In this widget, you can insert text and use variables. Note that you can only use variables from the sub-category <<#variables-order-order-items, Order / Order items>> in this widget.

Click on icon:edit[set=material] to open the list with the variables on the left side of the screen. Use the search function to find the variables or find the appropriate variables by expanding the individual areas (icon:chevron_right[set=material]). Click on the variable that you want to insert. Enter additional text in the widget, if needed.

Click on icon:settings[set=material] to open the settings. Here, you can remove the widget by clicking on *Delete widget* (icon:delete[set=material]). Further settings cannot be carried out in this area. Click on *Close settings* (icon:times[]) to close the settings.

|====

Proceed as described in the following to insert a widget into a template.

[.instruction]
Inserting a widget into a template:

. Go to *CRM » EmailBuilder (Test phase)*.
. Expand the folder (icon:chevron_right[set=material]) that contains the template you want to edit.
. Click on the template.
. Click on *Edit* (icon:edit[set=material]). +
→ The editor opens and the widgets are loaded.
. Click on the widget on the left side and drag-and-drop it to the shaded area.
. Click on icon:edit[set=material] or on icon:settings[set=material] and carry out the settings.
. *Save* (icon:save[set=material]) the settings.

[#show-widget-preview]
[discrete]
==== Showing the preview of the widget

Check the widget by opening the preview.

. Go to *CRM » EmailBuilder (Test phase)*.
. Expand the folder (icon:chevron_right[set=material]) that contains the template for which you want to show the preview.
. Click on the template.
. Click on *Preview* (icon:preview[set=material]).
. Select *Preview HTML* or *Preview plain text*. +
→ The preview opens in a separate window.
. Check the widget.
. *Close* the window.

If you are not satisfied with the result, <<#edit-widget, edit>> the widget.

[#edit-widget]
=== Editing the widget

You can edit the content of the widgets at any time. To do so, proceed as described below.

[.instruction]
Editing a widget:

. Go to *CRM » EmailBuilder (Test phase)*.
. Expand the folder (icon:chevron_right[set=material]) that contains the template you want to edit.
. Click on the template.
. Click on *Edit* (icon:edit[set=material]). +
→ The editor opens and the widgets are loaded.
. Click on icon:settings[set=material]. +
→ The widget settings open – if they are available.
. Click on icon:edit[set=material] - if available. +
→ The variables open on the left side.
. Use the search function to find the variables or find the appropriate variables by expanding the individual areas (icon:chevron_right[set=material]).
. Click on the variable that you want to show in the widget. +
→ The variable is taken to the widget.
. *Save* the settings.

[#use-default-templates]
=== Using default templates

Before you <<#create-folder, created a new folder>>, you might have recognised the folders *Standardvorlagen* and *Default templates*? These folders contain pre-defined templates in German and English language. You can use the templates as they are or adjust the contents just as you like.

Besides the content of the email, the name of the template as well as the subject are already filled in in a default template. This means that you only have to select the header and footer and fill the fields *Reply to* and, if needed, also *CC* and *BCC*.

If you want to have another variable displayed in the subject line, put the English variable into a double curly bracket and – if present – replace the blank space with a dot. +
*_Example:_* Replace `Order ID` with `&#123;&#8288;&#123;order.id&#125;&#8288;&#125;` and `Shipping profile` with `&#123;&#8288;&#123;shipping.profile&#125;&#8288;&#125;`.


[[image-emailbuilder-example-default-template]]
.Example: Default template *Order: Shipping confirmation*
image::crm/assets/emailbuilder-example-default-template-shipping-confirmation.png[width=640, height=360]


Would you like to know which default templates are already available in the EmailBuilder and how their subjects are? Simply expand the following area by clicking on icon:expand-more[set=material].

[#default-templates-name-and-subject]
[.collapseBox]
.Default templates in the EmailBuilder and their subjects
--

*German default templates in the EmailBuilder and their subjects*

[[table-default-templates-german]]
.German default templates in the EmailBuilder and their subjects
[cols="2,2"]
|====
|German template |Subject

|Auftrag: Änderung
|Auftragsänderung Ihrer Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Auftrag: Teilzahlung erhalten
|Teilzahlung für Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; erhalten

|Auftrag: Versandbestätigung
|Versandbestätigung für Ihre Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Auftrag: Zahlungseingang vollständig
|Zahlung für Auftrag &#123;&#8288;&#123;order.id&#125;&#8288;&#125; vollständig erhalten

|eBay: Disput / Storno, keine Zahlung
|Ihre Bestellung mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; wurde storniert

|eBay: Eingangsbestätigung Bestellung
|eBay-Auktion gewonnen: Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|eBay: Eingangsbestätigung mit Bankdaten ohne Checkout
|Eingangsbestätigung zum eBay-Auftrag mit der ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Shop: Neues Passwort
|Ihre angeforderten Zugangsdaten zu unserem Webshop

|Shop: Newsletter-Anmeldung
|Bestätigung zur Newsletter-Anmeldung

|Shop: Eingangsbestätigung Bestellung
|Auftragsbestätigung für Auftrags-ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|====

*English default templates in the EmailBuilder and their subjects*

[[table-default-templates-english]]
.English default templates in the EmailBuilder and their subjects
[cols="2,2"]
|====
|English template |Subject

|Order: Changes
|Change to your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Partial payment received
|Partial payment for order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; received

|Order: Shipping confirmation
|Shipping confirmation for your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Order: Payment complete
|Payment for order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; fully received

|eBay: dispute / cancellation, no payment
|Your order with the ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125; was canceled

|eBay: Order confirmation
|eBay auction won: Order ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|eBay: Order confirmation with bank details without checkout
|Order confirmation for your eBay order with the ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|Shop: New password
|Your requested login details for our online shop

|Shop: Newsletter registration
|Confirmation of newsletter registration

|Shop: Order confirmation
|Order confirmation for your order with ID &#123;&#8288;&#123;order.id&#125;&#8288;&#125;

|====

--

[#template-show-preview]
=== Showing the preview of the template

Check the email template by opening the preview.

. Go to *CRM » EmailBuilder (Test phase)*.
. Expand the folder (icon:chevron_right[set=material]) that contains the template for which you want to show the preview.
. Click on the template.
. Click on *Preview* (icon:preview[set=material]).
. Select *Preview HTML* or *Preview plain text*. +
→ The preview opens in a separate window.
. Check the template.
. *Close* the window.

If you are not satisfied with the result, <<#edit-template, edit>> the content of your template.

[#search-templates]
=== Searching for a template

The following instructions describes how to search for templates in general. The procedure is thus identical for searching for all templates, i.e. also searching for the templates that you created for the header and the footer.

[.instruction]
Searching for a template:

. Go to *CRM » EmailBuilder (Test phase)*.
. Select the language and/or client from the drop-down lists. +
→ The templates that correspond to the search criteria entered are shown.
. Click on the template to open it.

[#edit-template]
=== Editing a template

The following instruction describes how to edit templates in general. The procedure is thus identical for editing all templates, i.e. also editing the templates that you created for the header and the footer.

[.instruction]
Editing a template:

. Go to *CRM » EmailBuilder (Test phase)*.
. Expand the folder (icon:chevron_right[set=material]) that contains the template you want to edit.
. Click on the template.
. Carry out the changes. Note <<#table-emailbuilder-create-template>>.
. *Save* (icon:save[set=material]) the settings.

[#delete-template]
=== Deleting a template

Proceed as described below to delete templates. Only the assembled template will be deleted but _not_ the components contained in it such as the header and footer.

[.instruction]
Deleting a template:

. Go to *CRM » EmailBuilder (Test phase)*.
. Expand the folder (icon:chevron_right[set=material]) that contains the template you want to delete.
. In the line of the template that you want to delete, click on icon:more_vert[set=material]. +
→ A window opens.
. Click on *Delete*. +
→ A window opens and you need to confirm your decision.
. Click on *Delete*. +
→ The template is deleted.


[#variables-emailbuilder]
== Available variables for the EmailBuilder

The available variables for the EmailBuilder are grouped into different categories and sub-categories:

* Order

** General order variables
** Delivery address
** Invoice address
** Order items
** Shipping

* Contact

** General contact variables
** Delivery address
** Invoice address
** Options

* Global

* Newsletter


Do you want to know which variables are available for the individual categories and sub-categories? Simply expand the following area by clicking on icon:expand-more[set=material].


[#variables-order]
[.collapseBox]
.Variables in the *Order* category
--

* `Order ID`

* `Main order ID`
** ID of the highest preceding order. Usually, this is a normal order. +
*_Example:_* In case of a credit note C1 coming from a return R1 from the order O1, the `Parent Order ID` returns the ID of R1 and `$OriginOrderID` returns the ID of O1.

* `Parent order ID`
** ID of the direct preceding order +
*_Example:_* In case of a credit note, this could be the ID of the return or of the order from which the credit note was generated.

* `Status`
** Name of the order status as it is saved in the *Setup » Orders » Statuses* menu.

* `Status ID`
** ID of the order status as it is saved in the *Setup » Orders » Statuses* menu.

* `Flag`
* `Customer sign`
* `External order ID`
* `Currency`
* `Invoice address VAT number`
* `Delivery address VAT number`
* `Value of the item`
* `Total invoice amount`
* `Total invoice amount, separated by a full stop`
* `Total invoice amount, net`
* `VAT total`
* `Net total order`
* `Date and time of incoming order`
* `Date of incoming payment`

* `Payment method`
** Name of the payment method as it is saved in the *Setup » Orders » Payment » Payment methods* menu.

* `Payment method ID`
** The ID is automatically assigned by the system. The IDs are listed in the *Setup » Orders » Payment » Payment methods* menu.

* `Referrers`
** Name of the order referrer as it is saved in the *Setup » Orders » Referrers* menu.

* `Referrer ID`
** Name of the order referrer as it is saved in the *Setup » Orders » Referrers* menu.

* `Amount paid`
* `Open amount`
* `Overpaid amount`
* `Order warehouse ID`

* `Client ID`
** The ID is automatically assigned by the system and cannot be changed. You can find the ID in the *Setup » Client » [Select client] » Settings* menu.

* `Seller account`
* `eBay payment ID`
* `Barcode ID`

* `Customer wish`
** During the checkout via the online store, the contact can enter a wish regarding the items they ordered. This wish is saved as order note in the order data.

* `Order type`
** Type of the order, e.g. delivery order, return, credit note or repair.

* `Access order in the online shop`
** Opens the URL to the order in your online shop

* `Reorder ID`
* `Coupon value`
* `Invoice number ID`

* `DHL Retoure Online QR code`
** Sends your customers a QR code for DHL Retoure Online. If your customers want to send back an item, they have to show the QR code on their smartphone to one of the employees in the post office and they will print the return label and attach it to the parcel. Thus, your customers do no longer need a printer at home and you do no longer have to send the return label attached as PDF. +
The QR code is shown as an URL in the email of your customers. After clicking on the URL, the QR code appears in a separate window.

--

[#variables-order-delivery-address]
[.collapseBox]
.Variables in the *Order / Delivery address* sub-category
--

* `Delivery address First name and last name`
* `Delivery address Additional address information`
* `Delivery address First name`
* `Delivery address Last name`
* `Delivery address Company name`
* `Delivery address Contact person`
* `Delivery address Telephone`
* `Delivery address Street`
* `Delivery address Postcode and town`
* `Delivery address Town`
* `Delivery address Postcode`
* `Delivery address Country`
* `Delivery address Country ID`
* `Delivery address Country ISO code 2`
* `Delivery address Country ISO code 3`
* `Delivery address State`

--




[#variables-order-invoice-address]
[.collapseBox]
.Variables in the *Order / Invoice address* sub-category
--

* `Invoice address First name and last name`
* `Invoice address Additional address information`
* `Invoice address First name`
* `Invoice address Last name`
* `Invoice address Company name`
* `Invoice address Contact person`
* `Invoice address Telephone`
* `Invoice address Street`
* `Invoice address Postcode and town`
* `Invoice address Town`
* `Invoice address Postcode`
* `Invoice address Country`
* `Invoice address Country ID`
* `Invoice address Country ISO code 2`
* `Invoice address Country ISO code 3`
* `Invoice address State`

--



[#variables-order-order-items]
[.collapseBox]
.Variables in the *Order / Order items* sub-category
--

* `Item ID`
* `Item properties`
* `Status ID of the returned item`
* `Name of the returned item`
* `Variation no.`
* `Item name`
* `Item quantity`
* `Gross price`
* `Net price`
* `VAT rate`
* `Referrers`
* `External item ID`
* `External variation ID`
* `External token ID`
* `Content`
* `Unit`
* `Variation name`
* `Variation ID`
* `Attribute values`

* `Model`
** Model name of the item

* `GTIN`
** Global Trade Item Number (GTIN) of the item

* `ISBN`
** ISBN code of the item

* `ASIN`
** Amazon Standard Ident Number (ASIN) of the item

* `Availability text`
** Name of the item availability of the net stock

* `Availability ID`
** ID of the item availability of the net stock

* `Availability text physical stock`
** Name of the item availability of the physical stock

* `Availability ID physical stock`
** ID of the item availability of the physical stock

* `Free text fields 1 to 20`
** Free text fields for the items as they are saved in the *Setup » Items » Free text fields* menu. +
*_Example:_* `Free text field 3` displays the text that is saved in *Field 3*.

* `URL to variation image`
** Returns the URL to the variation image.

* `Manufacturer name`

* `Warehouse ID`

* `Return comment`

* `Value of the return in percent`

* `Return reason ID`
** ID of the return reason as it is saved in the *Setup » Orders » Order types » Return* menu.

* `Return reason`
** Name of the return reason as it is saved in the *Setup » Orders » Order types » Return* menu.

* `Codes of a coupon`

* `Customs tariff number`

* `Release date`

* `Total price (unit price x quantity)`

* `Discount per order item`

* `URL to the item`
** Returns the URL to the item in the online shop.


--





[#variables-order-shipping]
[.collapseBox]
.Variables in the *Order / Shipping* sub-category
--

* `Possible delivery date`
* `Estimated shipping date`
* `Date when the return was received`
* `Estimated delivery date`
* `Return package number`
* `Total shipping costs`

* `Package number list`
** Package numbers/tracking numbers are saved in the orders *Settings* tab at the shipping service provider after the order was successfully registered.

* `Tracking URL`
** The tracking URL is used to track shipments. The URL is saved in the *Setup » Orders » Shipping » Settings* menu in the *Shipping service provider* tab.

* `Shipping service provider`
** Name of the shipping service provider as it is saved in the *Setup » Orders » Shipping » Settings* menu in the *Shipping service provider* tab.

* `Shipping service provider ID`
** Is automatically saved by the system. You can find the ID of the shipping service provider in the *Setup » Orders » Shipping » Settings* menu in the *Shipping service provider* tab.

* `Shipping profile`
** Name of the shipping profile as it is saved in the *Setup » Orders » Shipping » Settings* menu in the *Shipping profiles* tab.

* `Shipping profile ID`
** Is automatically saved by the system. You can find the ID of the shipping profile in the *Setup » Orders » Shipping » Settings* menu in the *Shipping profiles* tab.


* `Delivery note ID`
* Reorder Delivery date


--



[#variables-contact]
[.collapseBox]
.Variables in the *Contact* category
--

* `Contact ID`
* `First name`
* `Last name`
* `Full name`
* `Form of address`
* `Form of address`
* `Salutation business`
* `Salutation private`
* `Company name`
* `Language`

* `Class`
** Class that is assigned to the contact. Classes are created in the *Setup » CRM » Customer classes* menu.

* `Number`
** Additional number for the contact.

* `Title`
* `First and last name of the system user`
** First name and last name of the system user who is saved as owner in the contact data record.
* `Signature of the system user`
** Signature of the system user who is saved as owner in the contact data record, in text format.
* `Signature of the system user in HTML format`
** Signature of the system user who is saved as owner in the contact data record, in HTML format.
* `Account holder (contact)`
* `Bank name of the contact`
* `IBAN of the contact`
* `BIC of the contact`
* `Number of orders`
* `Newsletter: Confirmation by contact`
** Date when the contact has confirmed the newsletter receipt. +
Date format in the email: `mm-dd-yyyy`. +
In the contact data record, the timestamp in the format `00:00:00` is also saved in addition to the date in the format `dd-mm-yyyy`.



--



[#variables-contact-delivery-address]
[.collapseBox]
.Variables in the *Contact / Delivery address* sub-category
--

* `Delivery address First name and last name`
* `Delivery address Additional address information`
* `Delivery address First name`
* `Delivery address Last name`
* `Delivery address Company name`
* `Delivery address Telephone`
* `Delivery address Street`
* `Delivery address Postcode and town`
* `Delivery address Town`
* `Delivery address Postcode`
* `Delivery address Country`
* `Delivery address Country ID`
* `Delivery address Country ISO code 2`
* `Delivery address Country ISO code 3`
* `Delivery address State`

--


[#variables-contact-invoice-address]
[.collapseBox]
.Variables in the *Contact / Invoice address* sub-category
--

* `Invoice address First name and last name`
* `Invoice address Additional address information`
* `Invoice address First name`
* `Invoice address Last name`
* `Invoice address Company name`
* `Invoice address Telephone`
* `Invoice address Street`
* `Invoice address Postcode and town`
* `Invoice address Town`
* `Invoice address Postcode`
* `Invoice address Country`
* `Invoice address Country ID`
* `Invoice address Country ISO code 2`
* `Invoice address Country ISO code 3`
* `Invoice address State`

--




[.collapseBox]
.Variables in the *Contact / Options* sub-category
--

* `Email private`
* `Phone private`
* `Mobile private`
* `Fax private`
* `Email business`
* `Phone business`
* `Mobile business`
* `Fax business`
* `eBay name`
* `Email PayPal`
* `Additional contact person`

--



















[#variables-global]
[.collapseBox]
.Variables in the *Global* category
--

[cols="1,3"]
|====
|Variables in the *Global* category |Explanation

| `URL to checkout`
|Returns the URL to the checkout area of the order in the online shop.

| `URL to basket`
|Returns the URL to the basket in the online shop.

| `URL to Terms and Conditions`
|Returns the URL for the terms and conditions.

| `URL to online shop`
|Returns the URL of the online shop.

| `URL to new password`
|Returns the URL to a form that allows to create a new password. The contact enters their email address in this form.

| `URL to change password`
|Returns the URL for the *Change password* area in the online shop. The contact can enter a new password.

| `URL to confirm email address`
|Returns the URL to confirm the email address change of the contact.

| `Cancellation rights in HTML format`
|Go to *Setup » Client » [Select client] » Online store » Legal » [Expand language]*. Click on the *Cancellation rights* tab and save the text in the *HTML* tab.

| `Cancellation rights in plain text`
|Go to *Setup » Client » [Select client] » Online store » Legal » [Expand language]*. Click on the *Cancellation rights* tab and save the text in the *Text* tab.

| `Privacy policy in plain text`
|Go to *Setup » Client » [Select client] » Online store » Legal » [Expand language]*. Click on the *Privacy policy* tab and save the text in the *Text* tab.

| `Privacy policy in HTML format`
|Go to *Setup » Client » [Select client] » Online store » Legal » [Expand language]*. Click on the *Privacy policy* tab and save the text in the *HTML* tab.

| `Legal disclosure in plain text`
|Go to *Setup » Client » [Select client] » Online store » Legal » [Expand language]*. Click on the *Legal disclosure* tab and save the text in the *Text* tab.

| `Legal disclosure in HTML format`
|Go to *Setup » Client » [Select client] » Online store » Legal » [Expand language]*. Click on the *Legal disclosure* tab and save the text in the *HTML* tab.

| `Cancellation form in plain text`
|Go to *Setup » Client » [Select client] » Online store » Legal » [Expand language]*. Click on the *Cancellation form* and save the text in the *Text* tab.

| `Cancellation form in HTML format`
|Go to *Setup » Client » [Select client] » Online store » Legal » [Expand language]*. Click on the *Cancellation form* tab and save the text in the *HTML *tab.

| `Today’s date`
|Returns today’s date in the format `dd-mm-yyyy`.

| `Bank name (master data)`
|Bank name from the master data of your plentymarkets system. Is saved in the *Basics* assistant in the *Bank details* step. You can find the assistant in the *Setup » Assistants » Basic settings* menu. +
As an alternative, you can find the saved bank name in the *Setup » Settings » Bank* menu.

| `IBAN (master data)`
|IBAN from the master data of your plentymarkets system. Is saved in the *Basics* assistant in the *Bank details* step. You can find the assistant in the *Setup » Assistants » Basic settings* menu. +
As an alternative, you can find the saved IBAN in the *Setup » Settings » Bank* menu.

| `BIC (master data)`
|BIC from the master data of your plentymarkets system. Is saved in the *Basics* assistant in the *Bank details* step. You can find the assistant in the *Setup » Assistants » Basic settings* menu. +
As an alternative, you can find the saved BIC in the *Setup » Settings » Bank* menu.

| `Account holder (master data)`
|Account holder from the master data of your plentymarkets system. Is saved in the *Basics* assistant in the *Bank details* step. You can find the assistant in the *Setup » Assistants » Basic settings* menu. +
As an alternative, you can find the account holder in the *Setup » Settings » Bank* menu.

| `Signature in plain text`
|The signature is saved in the *Setup » Client » [Select client] » Email » Signature* menu in the *Plain text signature* area.

| `Signature in HTML format`
|The signature is saved in the *Setup » Client » [Select client] » Email » Signature* menu in the *HTML signature* area.

| `Coupon code (1) to (10)`
|Coupon codes are generated in the campaign in the *Orders » Coupons* menu. A coupon code can always be assigned to only one campaign to send this coupon code from the campaign in an email template.

| `EORI number`
|Unique identification number that is required for customs-related procedures.

|====

--




[#variables-newsletter]
[.collapseBox]
.Variables in the *Newsletter* category
--

* `URL to confirm newsletter subscription`
** Returns the URL to confirm the newsletter subscription.

--

[#automate-email-despatch]
== Automating the email despatch

You have multiple options in plentymarkets to automate the email despatch to your customers.

=== Setting up automatic emails

The *Setup» Client » [Select client] » Email » Automatic* menu contains various events that can be linked with a template. Select from the drop-down list the template that you <<#create-template, created>> before in the *CRM » EmailBuilder (Test phase)* menu. This ensures that the email template is sent to your contacts once the event occurs.

[IMPORTANT]
.Removing the link before deleting the email template
====
Deleting an email template that is linked with an event in the *Automatic email* area may lead to undesired effects. Therefore, first go to *Setup » Client » [Select client] » Email » Automatic* and remove the link by selecting the option *Do not send* from the drop-down list in the line of the event. Afterwards, delete the template in the *CRM » EmailBuilder (Test phase)* menu.
====

[.instruction]
Setting up the automatic email despatch:

. Go to *Setup » Client » [Select client] » Email » Automatic*.
. Select a template from the drop-down list in the line of the event. Note <<#table-events-automatic-email-dispatch>>.
. *Save* (icon:save[role="green"]) the settings.


[[table-events-automatic-email-dispatch]]
.Explanations about some events for the automatic despatch
[cols="1,3"]
|====
|Setting |Explanation

| *New order from online store*
|The contacts receive an email including the order confirmation after the purchase has been completed in the online store. +
*Note:* If your customers should be able to access the order processing in your online shop with this email to see the order status, you have to insert the variable `URL to checkout` in the email template that you select for this automatic event.

| *Send customer email to change password*
|The contacts receive an email with a link to the new password. The link has to be actively confirmed. The variable `URL to change password` has to be contained in the template.

| *Newsletter opt-in*
|The contacts receive an email when they have registered for the newsletter. The template should include the confirmation link that the contacts have to click in order to complete the newsletter registration process: `URL to confirm newsletter subscription`.

| *Newsletter opt-in confirmation*
|The contacts receive a confirmation email once they have activated the confirmation link that was sent with the email template for the *Newsletter opt-in* event.

| *Email when item becomes available*
|The contacts receive an email containing the information that a certain item is available again. Requirement: The contacts have entered their email address in the online store directly next to the item that could not be delivered at that time.

|====

[#set-up-event-procedures]
=== Setting up event procedures

It is also possible to set up event procedures in the *Setup » Orders » Events* menu. Define an event, activate one or more filters and decide which procedures your plentymarkets system should carry out automatically when the event occurs.

For example, you can use filters to trigger a procedure once a contact has placed a certain number of orders. The procedure could send an email that includes a coupon. For further information, refer to the <<automation/event-procedures#, Event procedures>> page.

[#email-despatch-to-multiple-email-addresses]
[discrete]
=== Email despatch to multiple email addresses

Go to *Setup » Orders » Events* to set up an <<automation/event-procedures#, event procedure>> that will send an email to your customers and employees when the event that you determined occurs.

Add in the event procedure the procedure *Customer > Send email* and select the appropriate template as well as the recipients to send the email to multiple recipients at the same time once the selected event occurs.

The following recipients are available:

* Customer
* Storage
* Invoice address from order 
* Invoice address from order 
* Contact email business 
* Contact email private 
* Contact email PayPal
* available owners

You can either send the same template to all recipients or select a separate template each.
