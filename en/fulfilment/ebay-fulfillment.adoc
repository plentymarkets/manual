= eBay Fulfillment integration guide (deprecated)
:lang: en
include::{includedir}/_header.adoc[]
:keywords: Inbound, Outbound, Fiege, EBFSKU, ebay sku, ebay customer support
:description: Learn how to set up eBay Fulfillment with Fiege in plentymarkets.
:position: 130
:url: fulfilment/ebay-fulfillment
:id: 688XH7L
:author: team-fulfillment

Adhering to the current e-commerce standards is essential for your business success. The customer expectations rise - deliveries should always be made free of charge, quickly and reliably. eBay Fulfillment allows you to adhere to these standards: All items meet the service standard requirements for eBay Plus and contribute to your company’s sales growth.


[TIP]
.New: eBay Fulfillment by Orange Connex
====
The eBay Fulfillment solution with Fiege is deprecated and will soon no longer be available. Therefore, use the new eBay Fulfillment by Orange Connex solution. An assistant will guide you step by step and you can easily set up eBay Fulfillment by Orange Connex in your plentymarkets system. Start now with link:https://cloud.forbusiness.ebay.com/fulfillment[eBay Fulfillment by Orange Connex^].

For further information, refer to the <<fulfillment/ebay-fulfillment-by-orange-connex#, eBay Fulfillment by Orange Connex>> page of the manual.
====


[[image-start-image]]
image::fulfilment/assets/Fiege-MegaCenter-Erfurt4.jpg[width=640, height=360]

In the eBay Fulfillment programme, leading e-commerce providers make an independent and competitive fulfilment and shipping network available: The pioneer of full-service logistics, *Fiege*, benefits from almost 150 years of logistics experience, innovative thinking and maximum flexibility. Through professional order management, synchronisation of stock movement as well as provision and upload of tracking numbers, the omni-channel ERP provider plentymarkets connects the different sales channels, fulfilment locations and logistics with each other.

[TIP]
.What’s new in the eBay Fulfillment plugin?
====
The following expandable section lists all important new features in the eBay Fulfillment plugin at a glance.
====

[.collapseBox]
.All new features at a glance
--
* <<fulfilment/ebay-fulfillment#80, Shipping service providers UPS and Deutsche Post DHL>>
* <<fulfllment/ebay-fulfillment#290, Automatic warehouse assignment>>
* <<fulfllment/ebay-fulfillment#270, Cancellation of inbound orders>>
* <<fulfilment/ebay-fulfillment#190, Status "Rejected">>
--

[#10]
== Plugin download and installation

[#20]
=== Downloading and installing the eBay OAuth2 plugin

Download the eBay OAuth2 plugin for free from plentyMarketplace. To be able to do this, you have to be logged into the plentymarkets back end. To do so, proceed as follows:

[.instruction]
Downloading and installing the eBay OAuth2 plugin:

. Go to *Plugins » Plugin overview*.
. Click on *plentyMarketplace* (see <<image-plugin-overview>>). +
→ A new browser tab opens.
. Enter *eBay OAuth2* in the search.
. On the link:https://marketplace.plentymarkets.com/en/plugins/channels/marketplaces/ebayoauth2_4787[eBay OAuth2 plugin^]{nbsp}icon:external-link[] page, click on *Go to checkout*.
. Buy the plugin. +
→ The plugin is unlocked for your system.
. In the *Plugins » Plugin overview* menu, select the *Not installed* option.
. Click on *Search* (icon:search[]) to find the plugin you have just purchased. +
→ The plugin is displayed.
. Click on *Install plugin* in the line of the plugin on the right side (see <<image-install-plugin>>). +
→ A new window opens.
. Select the latest version of the plugin and click on *Install*.
. Click on the globe (*Active*) on the far left in the line of the plugin (see <<image-activate-plugin>>).
. *Save* (icon:save[role="green"]) the settings. +
→ The plugin is saved and deployed.

[[image-plugin-overview]]
.*Plugins » Plugin overview* menu > plentyMarketplace
image::fulfilment/assets/eBay-Fulfillment-plugins-plugin-overview-plentyMarketplace.png[width=640, height=360]

[[image-install-plugin]]
.Installing a plugin
image::fulfilment/assets/eBay-Fulfillment-install-plugin.png[width=640, height=360]

[[image-activate-plugin]]
.Activating a plugin
image::fulfilment/assets/eBay-Fulfillment-activate-plugin.png[width=640, height=360]

Make sure that an account exists in your plentymarkets back end in the *Setup » Markets » eBay » Accounts » OAuth2* menu. If you do not have an account yet, add it in the *Setup » Markets » eBay » Accounts* menu.

icon:exclamation-triangle[role="red"] *_Important:_* If you change the login details at eBay at a later point in time, you have to change this data also in your plentymarkets system in the eBay account and in the eBay OAuth2 account. Otherwise, the plugin will not react properly.

[TIP]
.The first OAuth2 account always participates in the eBay Fulfillment programme
====
*_Important:_* If you use multiple OAuth2 accounts, the first account has to be registered for eBay Fulfillment.

Currently, eBay is only able to bill the eBay Fulfillment programme via one eBay account. You can operate multiple accounts in one system, but the billing process always takes place via the first account.
====

[#30]
=== Downloading and installing the eBay Fulfillment plugin

After you have been activated by eBay, go to the plentyMarketplace, purchase the link:https://marketplace.plentymarkets.com/plugins/en/integration/ebayfiege_6018[eBay Fulfillment plugin^]{nbsp}icon:external-link[] free of charge and install it. Proceed in the same way as described in the instructions in chapter <<fulfilment/ebay-fulfillment#20, Downloading and installing the eBay OAuth2 plugin>>.

[IMPORTANT]
.Different loading time when deploying the plugin
====
It is possible that the above steps 8 - 10 will need more time with the eBay Fulfillment plugin than with the previously installed OAuth2 plugin.
====

[#40]
== System settings for eBay Fulfillment

[#50]
=== Activating an order referrer

By deploying the eBay Fulfillment plugin, the order referrer *eBay Fulfillment* is automatically available in the *Setup » Orders » Order referrer* menu. You have to activate this order referrer.

[.instruction]
Activating an order referrer:

. In your plentymarkets back end, go to *Setup » Orders » Order referrer*.
. Search for *eBay Fulfillment*.
. Select the option (see <<image-activate-order-referrer>>).
. *Save* (icon:save[role="green"]) the settings.

[[image-activate-order-referrer]]
.Activating the order referrer *eBay Fulfillment*
image::fulfilment/assets/eBay-Fulfillment-activate-order-referrer.png[width=640, height=360]

[#60]
=== Creating an EBFSKU

Barcodes are used to identify items in plentymarkets. To uniquely identify the item between eBay Fulfillment and plentymarkets, create the barcode *EBFSKU*.

[.instruction]
Creating the EBFSKU:

. Open the *Setup » Item » Barcode* menu in your plentymarkets back end.
. Click on *New barcode*.
. Enter the name *EBFSKU*.
. Select the setting *CODE128* as *Type*.
. *Save* (icon:save[role="green"]) the setting. +
→ The barcode opens.
. Select *eBay Fulfillment* as referrer (see <<image-create-ebfsku>>).
. *Save* (icon:save[role="green"]) the setting again.

[WARNING]
.Item must have an EBFSKU
====
Note that eBay Fulfillment cannot manage items that have no EBFSKU. Therefore, shipments of items that have no EBFSKU will be rejected by the fulfilment service provider.
====

[[image-create-ebfsku]]
.Creating an EBFSKU in the *Setup » Item » Barcode* menu
image::fulfilment/assets/eBay-Fulfillment-create-ebfsku.png[width=640, height=360]

[#70]
=== Setting up a warehouse

Set up 2 warehouses for eBay Fulfillment. Note that additional costs may occur when you book another sales warehouse. The costs depend on your plentymarkets edition.

[.instruction]
Setting up warehouse 1 of warehouse type Sales:

. Open the *Setup » Stock » Warehouse* menu in your plentymarkets back end.
. Click on *New warehouse*.
. Enter the name, e.g. *eBay Fulfillment Sales* (see <<image-create-warehouse>>). +
→ *_Note:_* This warehouse is managed by eBay Fulfillment.
. Select *Sales* as *Warehouse type*.
. Select *Own warehouse* as *Logistics type*.
. *Save* (icon:save[role="green"]) the settings. +
→ The warehouse opens.
. Enter the address of the warehouse.
. For the option *Available for order referrers (with automatic warehouse selection)*, select the order referrers that should be used for this warehouse (see <<image-order-referrers-warehouse>>). +
→ Using the control resp. command button, you can select multiple referrers.
. *Save* (icon:save[role="green"]) the settings again.

[.instruction]
Setting up warehouse 2 of warehouse type Other:

. Open the *Setup » Stock » Warehouse* menu in your plentymarkets back end.
. Click on *New warehouse*.
. Enter the name, e.g. *eBay Fulfillment Exception*.
. Select *Other* as *Warehouse type*.
. Select *Own warehouse* as *Logistics type*.
. *Save* (icon:save[role="green"]) the settings. +
→ The warehouse opens.
. Enter the address of the warehouse.
. *Save* (icon:save[role="green"]) the settings again.

[[image-create-warehouse]]
.Creating a warehouse
image::fulfilment/assets/eBay-Fulfillment-create-warehouse.png[width=640, height=360]

[[image-order-referrers-warehouse]]
.Selecting the order referrers for the warehouse
image::fulfilment/assets/eBay-Fulfillment-order-referrers-warehouse.png[width=640, height=360]

[#80]
=== Setting up a shipping service provider and a shipping profile

Make sure that a shipping service provider and a shipping profile have been set up for all shipping service providers used for the eBay Fulfillment programme. Currently, Hermes, UPS and Deutsche Post DHL can be used as fulfilment service providers.

[IMPORTANT]
.Create a shipping profile and a shipping service provider
====
For each new fulfilment service provider, a new shipping service provider as well as a new shipping profile have to be available. Currently, the eBay Fulfillment programme can be carried out with Hermes, UPS and Deutsche Post DHL as fulfilment service providers.
====

[#90]
==== Activating countries of delivery

eBay Fulfillment offers shipping to the following countries:

* Germany
* Austria
* Italy
* Belgium
* Netherlands
* United Kingdom
* Spain
* France

To work correctly with these countries in plentymarkets, these countries of delivery have to be activated in your plentymarkets system.

[WARNING]
.Note
====
Due to the limited number of active countries of delivery, delivery restrictions via other markets might occur.
====

[.instruction]
Activating countries of delivery:

. Go to *Setup » Orders » Shipping » Settings*. +
→ The *Countries of delivery* tab opens.
. Use the drop-down list in the *Active* column to set countries of delivery to *Active*.
. In the *Language* column, select the language you want to activate for the country of delivery.
. *Save* (icon:save[role="green"]) the settings.

[#100]
==== Setting up the shipping service provider

In the plentymarkets back end, in the *Setup » Orders » Shipping » Options » Tab: Shipping service provider* menu, the shipping service provider has to be created and its tracking URL saved.

[.instruction]
Setting up the shipping service provider:

. Go to *Setup » Orders » Shipping » Settings » Tab: Shipping service provider*.
. Click on *New* in the *Overview* tab. +
→ A new line is added at the bottom of the overview.
. Enter the name of the shipping service provider in the *Name (en)* field. +
→ *_Note:_* This name is visible for your customers in the online store.
. In the *Name (back end)* field, enter the name of the shipping service provider or an alternative name for internal use. +
→ *_Note:_* This name is not visible for your customers. +
→ *_Tip:_* If you have already set up a shipping profile with this shipping service provider, use an other name, e.g._ eBay Fulfillment_ plus *name of the shipping service provider* (see <<image-create-shipping-service-provider>>.
. Select the shipping service provider from the drop-down list.
. Enter the tracking URL of the shipping service provider in the field *Tracking URL* (see <<table-tracking-urls>>). +
→ Contact your provider and ask for the tracking URL, if necessary.
. *Save* (icon:save[role="green"]) the settings. +
→ Follow this pattern to create the other shipping service providers.

[[image-create-shipping-service-provider]]
.Creating the shipping service provider
image::fulfilment/assets/eBay-Fulfillment-create-shipping-service-provider.png[width=640, height=360]

[[table-tracking-urls]]
.Currently valid tracking URLs
[cols="1,3"]
|====
|Shipping service provider |Tracking URL

|Hermes
| *+https://tracking.hermesworld.com/?TrackID=$PaketNr+*

|UPS
| *+http://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=[PaketNr]&loc=de_de+*

|Deutsche Post DHL
| *+https://www.deutschepost.de/sendung/simpleQueryResult.html?form.sendungsnummer=[PaketNr]+*

|====

[#110]
==== Setting up a shipping profile

In the plentymarkets back end in the *Setup » Orders » Shipping » Options » Tab: Shipping profiles* menu, a shipping profile has to be available with this shipping service provider.

[.instruction]
Setting up a shipping profile:

. Go to *Setup » Orders » Shipping » Settings » Tab: Shipping profiles*.
. Click on *New*.
. Select the shipping service provider that you have just created from the drop-down list (see <<image-set-up-shipping-profile>> where we used UPS eBay Fulfillment as an example).
. Enter the names in the fields *Name* and *Name (back end)*.
. In the *Client (stores)* area, select your online store.
. In the *Order referrer* area, select the referrers that you want to process with eBay Fulfillment.
. *Save* (icon:save[role="green"]) the settings.

[[image-set-up-shipping-profile]]
.Setting up the shipping profile using the example of UPS eBay Fulfillment
image::fulfillment/assets/eBayFulfillment_Versandprofil_einrichten.png[width=640, height=360]

[#120]
=== Creating order statuses

For a better overview, it is recommended that you create order statuses for inbound and outbound as well as for inbound and outbound orders that have not been sent.

If the inbound or outbound order could not be sent, go to *Setup » Orders » Shipping » Fulfilment » eBay Fulfillment » Settings*. For *Inbound order not sent* and *Outbound order not sent* set the statuses so that the orders can be found and checked accordingly.

[WARNING]
.Only use free, unused order statuses
====
Search for free, unused order statuses and use them. Do not overwrite order status that are already in use. This may cause malfunctions because they might be used in other areas in your system.

Select the statuses between 5 and 8.
====

[#130]
==== Order status for inbound order (used for event procedures)

[.instruction]
Creating an order status for inbound order:

. In your plentymarkets back end, go to *Setup » Orders » Status*.
. Click on *New status*.
. In the field *New status*, enter the number, e.g. *5.3*.
. In the field *Name for new status*, enter the name, e.g. *eBay Fulfillment Inbound*.
. *Save* (icon:save[role="green"]) the settings. +
→ The new order status *[5.3] eBay Fulfillment Inbound* is created.

[#140]
==== Order status for inbound order sent (automatic status update by plugin)

In case of a successful transmission of the inbound order to eBay Fulfillment, the order is automatically changed to the status *Inbound sent*. This is done if you have carried out the following settings:

[.instruction]
Creating the order status for eBay Fulfillment Inbound sent:

. In your plentymarkets back end, go to *Setup » Orders » Status*.
. Click on *New status*.
. In the field *New status*, enter the number, e.g. *5.31*.
. In the field *Name for new status*, enter the name, e.g. *eBay Fulfillment Inbound sent*.
. *Save* (icon:save[role="green"]) the settings. +
→ The new order status *[5.31] eBay Fulfillment Inbound sent* is created.

[#150]
==== Order status for inbound order not sent (automatic status update by plugin)

[.instruction]
Creating the order status for *Inbound order not sent*:

. In your plentymarkets back end, go to *Setup » Orders » Status*.
. Click on *New status*.
. In the field *New status*, enter the number, e.g. *5.5*.
. In the field *Name for new status*, enter the name, e.g. *eBay Fulfillment Inbound not sent*.
. *Save* (icon:save[role="green"]) the settings. +
→ The new order status *[5.5] eBay Fulfillment Inbound not sent* is created.

[#160]
==== Order status for outbound order (released for shipping, used in event procedure)

[.instruction]
Creating an order status for *outbound order*:

. In your plentymarkets back end, go to *Setup » Orders » Status*.
. Click on *New status*.
. In the field *New status*, enter the number, e.g. *5.4*.
. In the field *Name for new status*, enter the name, e.g. *eBay Fulfillment Outbound*.
. *Save* (icon:save[role="green"]) the settings. +
→ The new order status *[5.4] eBay Fulfillment Outbound* is created.

[#170]
==== Order status for Outbound order sent (automatic status update by plugin)

[.instruction]
Creating an order status for *Outbound order sent*:

. In your plentymarkets back end, go to *Setup » Orders » Status*.
. Click on *New status*.
. In the field *New status*, enter the number, e.g. *5.41*.
. In the field *Name for new status*, enter the name, e.g. *eBay Fulfillment Outbound sent*.
. *Save* (icon:save[role="green"]) the settings. +
→ The new order status *[5.41] eBay Fulfillment Outbound sent* is created.

[#180]
==== Order status for outbound order not sent (automatic status update by plugin)

[.instruction]
Creating an order status for *Outbound order not sent*:

. In your plentymarkets back end, go to *Setup » Orders » Status*.
. Click on *New status*.
. In the field *New status*, enter the number, e.g. *5.6*.
. In the field *Name for new status*, enter the name, e.g. *eBay Fulfillment Outbound not sent*.
. *Save* (icon:save[role="green"]) the settings. +
→ The new order status *[5.6] eBay Fulfillment Outbound not sent* is created.

[#190]
==== Creating an order status for rejected order by fulfilment service provider

[.instruction]
Creating an order status for *rejected order* by fulfilment service provider:

. In your plentymarkets back end, go to *Setup » Orders » Status*.
. Click on *New status*.
. In the field *New status*, enter the number, e.g. *5.7*.
. In the field *Name for new status*, enter the name, e.g. *Order rejected*.
. *Save* (icon:save[role="green"]) the settings. +
→ The new order status *[5.7] Order rejected* is created. +
→ Afterwards, you can filter this status manually or set up an event procedure. This allows you to further edit the orders with this status. How to set up event procedures, is described in the following.

[#200]
==== Order status for cancellation of inbound order

[.instruction]
Creating the order status for *Cancellation of inbound order*:

. In your plentymarkets back end, go to *Setup » Orders » Status*.
. Click on *New status*.
. In the field *New status*, enter the number, e.g. *8.2*.
. In the field *Name for new status*, enter the name, e.g. *eBay Fulfillment cancellation Inbound sent*.
. *Save* (icon:save[role="green"]) the settings. +
→ The new order status *[8.2] eBay Fulfillment cancellation Inbound sent* is created.

[#210]
=== Automation settings

In plentymarkets, it is possible to have routine tasks done by your system. When using the eBay Fulfillment services, the automatic sending of inbound notifications to eBay Fulfillment as well as the automatic booking of outgoing items facilitate your everyday life.

With the event procedures, plentymarkets provides you with an efficient tool for setting up such automatic processes that are reliably managed by your plentymarkets system. The basic principle of event procedures is simple: Certain events trigger specific procedures.

[#220]
==== Setting up an event procedure for eBay Fulfillment Inbound

[.instruction]
Setting up an event procedure for eBay Fulfillment Inbound:

. In your plentymarkets back end, go to *Setup » Orders » Events*.
. Click on *Add event procedure* (icon:plus-square[role="green"]).
. Enter the name *eBay Fulfillment Inbound*.

*_Triggering event_*

. From the *Event* drop-down list, select the option *Order change > Status change*.
. Select from the drop-down list *Status* the <<fulfilment/ebay-fulfillment#160, newly created status for inbound>>.
. *Save* (icon:save[role="green"]) the settings.

*_Filter criteria for orders_*

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order type*.
. Click on *Add*.
. Activate the option *Order*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Referrer*.
. Click on *Add*.
. Activate the option *Manual entry* only. +
→ *_Important:_* Do not activate any other options here.

*_Executing procedure_*

. Click on *Add procedure* (icon:plus-square[role="green"]).
 Select the *Plugins > Send Ebay inbound notification* procedure. +
→ *_Note:_* This procedure is only available if you have installed and deployed the eBay Fulfillment plugin. +
→ *_Note:_* Goods delivery notification to logistics partner = Inbound notification

. Select the option *Active* to activate the event procedure.
. *Save* (icon:save[role="green"]) the settings.

[#230]
==== Setting up an event procedure for eBay Fulfillment Outbound

[.instruction]
Setting up an event procedure for eBay Fulfillment Outbound:

. In your plentymarkets back end, go to *Setup » Orders » Events*.
. Click on *Add event procedure* (icon:plus-square[role="green"]).
. Enter the name *eBay Fulfillment Outbound*.

*_Triggering event_*

. From the *Event* drop-down list, select the option *Order change > Status change*.
. Select from the drop-down list *Status* the <<fulfilment/ebay-fulfillment#160, newly created status for outbound>>.
. *Save* (icon:save[role="green"]) the settings.

*_Filter criteria for orders_*

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order type*.
. Click on *Add*.
. Activate the option *Order*.
. Activate the option *Delivery order*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order warehouse*.
. Click on *Add*.
. Activate the option *eBay Fulfillment Sales*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Shipping > Country of delivery*.
. Click on *Add*.
. Select the options *Germany*, *Austria*, *Italy*, *Belgium*, *Netherlands*, *UK*, *Spain* and *France*.

*_Executing procedure_*

. Click on *Add procedure* (icon:plus-square[role="green"]).
. Select the procedure *Plugins > Send shipping release to logistics partner*. +
→ *_Note:_* This procedure is only available if you have installed and deployed the eBay Fulfillment plugin. +
→ *_Note:_* Shipping release to logistics partner= Outbound notification.
. Click on *Add*.

. Select the option *Active* to activate the event procedure.
. *Save* (icon:save[role="green"]) the settings.

[#240]
==== Setting up the event procedure for automated shipment tracking (sending the tracking URL) (optional)

With your plentymarkets system, it is possible to send a shipping confirmation via email to your customers. This requires that you <<fulfilment/ebay-fulfillment#280, saved the login details of your email server>> and created a corresponding email template in your system.

. In the plentymarkets back end, go to *Setup » Client » Standard » Email » Templates » General templates > Order: Shipping confirmation*.
. Click on the *Email message* tab. +
→ Here, you find a text that is saved in your system by default. You may change this text.
. Insert the variable `$TrackingURL` in the desired place of the text.
. *Save* (icon:save[role="green"]) the settings.

[IMPORTANT]
.Overview of all template variables
====
Click in the tab *Email templates* on the button *Template variables and functions* (on the right, next to the *save* button) to get an overview of all variables that you can insert in your email templates.
====

The following steps explain how you automatically send a shipping confirmation to your customers.

. In your plentymarkets back end, go to *Setup » Orders » Events*.
. Click on *Add event procedure* (icon:plus-square[role="green"]).
. Enter the name, e.g. *Automated Tracking Outbound*.

*_Triggering event_*

. From the *Event* drop-down list, select the option *Order change > Package number*.

*_Filter criteria for orders_*

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order type*.
. Click on *Add*.
. Activate the option *Order*.
. Activate the option *Delivery order*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order warehouse*.
. Click on *Add*.
. Activate the option *eBay Fulfillment Sales*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Referrer*.
. Click on *Add*. +
. Activate all referrers except eBay. +
→ *_Important:_* eBay sends an individual confirmation mail with the corresponding tracking URL.

*_Executing procedure_*

. Click on *Add procedure* (icon:plus-square[role="green"]).
. Select the procedure *Customer > Send email*.
. Click on *Add*.
. Within the procedure window, click on the arrow on the left-hand side so that the procedure overview opens.
. Click on *Add* (icon:plus-square[role="green"]).
. In the first field, select the option *Order: Shipping confirmation*.
. In the second field, select the option *Customer*. +
→ <<image-procedure-send-email>> shows the overview of a finalised procedure.

. Select the option *Active* to activate the event procedure.
. *Save* (icon:save[role="green"]) the settings.

[[image-procedure-send-email]]
.Settings within the procedure *Send email*
image::fulfilment/assets/eBay-Fulfillment-settings-procedure-send-email.png[width=640, height=360]

[#250]
==== Automated sending of an outbound order to eBay Fulfillment

In plentymarkets, it is possible to run the entire outbound process automatically without having to make any further <<fulfilment/ebay-fulfillment#450, manual settings>>. To implement this, create another event procedure as follows:

////
TODO

Note for the setup team: In systems of existing customers, check the other event procedures regarding overlaps and adapt them, if necessary.
////

. In your plentymarkets back end, go to *Setup » Orders » Events*.
. Click on *Add event procedure* (icon:plus-square[role="green"]).
. Enter the name, e.g. *Automation Outbound*.

*_Triggering event_*

. From the *Event* drop-down list, select the option *Order change > Status change*.
. From the *Status* drop-down list, select the option *Cleared for shipping status*.
. *Save* (icon:save[role="green"]) the settings.

*_Filter criteria for orders_*

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order type*.
. Click on *Add*.
. Activate the option *Order*.
. Activate the option *Delivery order*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order warehouse*.
. Click on *Add*.
. Activate the option *eBay Fulfillment Sales*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Payment method*.
. Click on *Add*.
. Activate all payment methods except *Cash on delivery*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Shipping > Country of delivery*.
. Click on *Add*.
. Select the options *Germany*, *Austria*, *Italy*, *Belgium*, *Netherlands*, *UK*, *Spain* and *France*.

*_Executing procedure_*

. Click on *Add procedure* (icon:plus-square[role="green"]).
. Select the procedure *Order > Change status*.
. Click on *Add*.
. Select the previously created status *eBay Fulfillment Outbound* from the drop-down list.

. Select the option *Active* to activate the event procedure.
. *Save* (icon:save[role="green"]) the settings.

[#260]
==== Setting up an event procedure for outgoing items

If eBay Fulfillment is able to process the order, the package number will automatically saved in the order. To then book the outgoing items and send the package number to eBay so that your customer can use the tracking service, set up another event procedure.

////
TODO

Note for the setup team: Check in the system of existing customers whether a similar event procedure has already been set up and adapt it, if required.

////

[.instruction]
Setting up an event procedure for outgoing items:

. In your plentymarkets back end, go to *Setup » Orders » Events*.
. Click on *Add event procedure* (icon:plus-square[role="green"]).
. Enter the name, e.g. *eBay Fulfillment outgoing items*.

*_Triggering event_*

. From the *Event* drop-down list, select the option *Order change > Package number*.
. *Save* (icon:save[role="green"]) the settings.

*_Filter criteria for orders_*

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order warehouse*.
. Activate the option *eBay Fulfillment Sales*.

*_Executing procedure_*

. Click on *Add procedure* (icon:plus-square[role="green"]).
. Select the procedure *Order > Book outgoing items*.
. Click on *Add*.

. Select the option *Active* to activate the event procedure.
. *Save* (icon:save[role="green"]) the settings.

[#270]
==== Setting up an event procedure for cancellation notification of the inbound order

Set up an event procedure that automatically sends a cancellation notification of the inbound order to eBay Fulfillment. eBay Fulfillment will then inform Fiege about the inbound cancellation.

[IMPORTANT]
.The email that will be sent has the following content:
====
*Subject*: Open advice note: Cancellation {XXXXX-XXXXX}

* *_Note:_* The variable will be automatically filled with the first 5 characters of the system EBFSKU and the plentymarkets order ID. +
Example: {123AB-45678}

*Content*: Account {ebay user ID} has cancelled their PO.

* *_Note:_* The eBay user ID will be automatically filled.
====

[.instruction]
Setting up an event procedure for the cancellation notification:

. In your plentymarkets back end, go to *Setup » Orders » Events*.
. Click on *Add event procedure* (icon:plus-square[role="green"]).
. Enter the name, e.g. *Inbound cancellation*.

*_Triggering event_*

. From the *Event* drop-down list, select the option *Order change > Status change*.
. Select from the drop-down list *Status* the <<fulfilment/ebay-fulfillment#200, newly created status for inbound cancellation notification>>.
. *Save* (icon:save[role="green"]) the settings.

*_Filter criteria for orders_*

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order type*.
. Click on *Add*.
. Activate the option *Order*.
. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Referrer*.
. Click on *Add*.
. Activate the option *Manual entry* only. +
→ *_Important:_* Do not activate any other options here.

*_Executing procedure_*

. Click on *Add procedure* (icon:plus-square[role="green"]).
. Select the procedure *Plugins > Send cancellation notification of inbound to logistics partner*. +
→ *_Note:_* This procedure is only available if you have installed and deployed the eBay Fulfillment plugin.

. Select the option *Active* to activate the event procedure.
. *Save* (icon:save[role="green"]) the settings.

[WARNING]
.Important
====
In order that the cancellation notification can be sent to the fulfilment service provider, it is required that the login details of the email inbox from which you want to send the emails are saved in the plentymarkets back end. +
How to proceed is described in the following chapter <<fulfilment/ebay-fulfillment#280, Saving the email server’s login details>>.
====

[#280]
=== Saving the email server's login details

In order that the cancellation notification can be sent to eBay Fulfillment, it is required that the login details of the email inbox from which you want to send the emails are saved in the plentymarkets back end.

[.instruction]
Saving the email server's login details:

. In the plentymarkets back end, go to *Setup » Client* » _Select client_ » *Email » Login details*.
. Carry out the desired settings. Note <<table-ebay-fulfillment-email-server-login-detailn>>.
. *Save* (icon:save[role="green"]) the settings.

[[table-ebay-fulfillment-email-server-login-details]]
.Saving the login details of the email server
[cols="1,3"]
|====

|Setting |Explanation

| *Test mode*
| *Active* = The test mode is activated. All emails are only sent to the saved email address. This allows you to test the settings before switching to the live mode. +
*Inactive* = The live mode is activated. +
*_Important:_* The test mode is only applied to this online store. The settings for additional clients (stores) are carried out in the client's menu.

| *Name of sender*
|Enter your name or the name of the online store. This name is displayed to the recipient. Avoid using special characters in order to allow for correct display.

| *Email address*
|Enter the email address as it is listed in the email programme.

| *Outgoing mail server/SMTP server*
|Enter the outgoing mail server as specified by the provider (usually smtp.domain.co.uk or mail.domain.co.uk).

| *User name*
|Enter the user name that matches the email address.

| *Password*
|Enter the password that matches the user name and email address.

| *Port*
|Enter the value *465* if *SSL* is used as encryption method. +
Enter the value *25* if *no encryption* is used. +
*_Note:_* Otherwise, ask your provider about the correct port.

| *Encryption*
| Select *SSL*, *TLS* or *No encryption*.

|====

[#290]
=== Settings in the eBay Fulfillment plugin

Now carry out the settings in the eBay Fulfillment plugin. The following screenshot serves as an example:

[[image-settings-ebay-fulfillment-plugin]]
.Settings in the eBay Fulfillment plugin (example)
image::fulfilment/assets/eBay-Fulfillment-plugin-settings.png[width=640, height=360]

. In the plentymarkets back end, go to *Setup » Orders » Fulfilment » eBay Fulfillment » Settings*.
. In the *General settings* area, carry out the following settings: +
- from the *Environment* drop-down list, activate the *productive* option +
- activate the *Item master data* option +
- activate the *Stock movements* option +
- from the *Sales warehouse* drop-down list, select the *eBay Fulfillment Sales* option +
- from the *Other warehouse* drop-down list, select the *eBay Fulfillment Exception* option +
- from the *Barcode* drop-down list, select the *EBFSKU* option.
. The option *Automatic assignment to the eBay Fulfillment warehouse* is activated by default. If a new eBay order is imported in your plentymarkets system, it is checked whether stock is available in the eBay Fulfillment warehouse. If stock is available, the eBay Fulfillment warehouse is automatically assigned for the order items. +
→ *_Note:_* Place the checkmark for this option if you want the eBay Fulfillment warehouse to be automatically assigned. +
→ *_Important:_* Pay attention to the explanations in the green box below these instructions.
. In the *Order settings* area, select the order statuses that you have just created according to the statuses in the drop-down lists.
. *Save* (icon:save[role="green"]) the settings.

[TIP]
.Automatic warehouse assignment only works if order splitting is allowed
====
When you activate the option *Automatic assignment to the eBay Fulfillment warehouse* in the settings of the plugin, the warehouse can only be assigned automatically if you allow the splitting of orders in the global warehouse settings. +
If you do not allow order splitting, then orders containing items that are not processed via eBay Fulfillment will be moved to the status *[4] In preparation for shipping*. In this case, we recommend that you set up an event procedure which will send you an email when an order is in status 4.
====

Now link the eBay shipping profile to the plentymarkets shipping profile.

. In the plentymarkets back end, go to *Setup » Orders » Fulfilment » eBay Fulfillment » Shipping profile mapping*.
. Click on *Add mapping*.
. In the *eBay shipping profile* area, click on *Find shipping profile* (icon:search[role="blue"]). +
→ All shipping profiles available for eBay Fulfillment are displayed.
. Select the shipping profile from the list (see <<image-link-shipping-profile>>).
. In the *plentymarkets shipping profile* area, click on *Find shipping profile* (icon:search[role="blue"]). +
→ All shipping profiles available for plentymarkets are displayed.
. Select the shipping profile from the list.

[[image-link-shipping-profile]]
.Linking the shipping profiles in the eBay Fulfillment plugin
image::fulfilment/assets/eBayFulfillment_link_shipping_profile.png[width=640, height=360]

[#295]
=== Assigning user rights for back end users

Users of the type *Back end* can only access limited areas and menus in the plentymarkets back end. Thus, their access to the system is limited. If users of this type should be able to access the plugin, a user of the type *Admin* has to assign at least the rights listed in <<table-ebay-fulfillment-user-rights>> to those users.

[.instruction]
Assigning user rights for back end users:

. Open the *Setup » Settings » User » Rights » User* menu in your plentymarkets back end.
. Use the search function (icon:search[role="blue"]) and open the user account that should be edited.
. In the *Authorisations* and *Plugins* areas, activate the rights as listed in <<table-ebay-fulfillment-user-rights>>.
. *Save* (icon:save[role="green"]) the settings.


[[table-ebay-fulfillment-user-rights]]
.Assigning rights for back end users
[cols="1,3"]
|====

|Setting |Explanation

2+| *Rights*

|Orders > Show
|Authorises the back end user to see orders.

|Orders > Order status > Show
|Authorises the back end user to see order statuses.

|Orders > Order status > Update
|Authorises the back end user to update order statuses.

2+| *Plugins*

|EbayFiege > Settings
|Authorises the back end user to see the *Settings* menu of the plugin.

|EbayFiege > Shipping profile links
|Authorises the back end user to see the *Shipping profile links* menu of the plugin.

|EbayFiege > Inbound packages
|Authorises the back end user to see the *Inbound packages* menu of the plugin.

|====

[#300]
== Item activation and inbound

[#310]
=== Setting up items and obtaining the EBFSKU

Set up the items that you would like to send via eBay Fulfillment. By activating the item, the EBFSKU is automatically transmitted to plentymarkets.

[IMPORTANT]
.Hourly check of the EBFSKU
====
The EBFSKU is checked automatically once an hour. Thus, after setting up the items, it can take up to one hour for the EBFSKU to become visible in the item data.
====

[.instruction]
Setting up items:

. In the plentymarkets back end, go to *Item » Edit items*.
. Open the variation that you would like to send via eBay Fulfillment. +
→ The main variation opens.
. In the *Sales prices* area, enter the desired sales price.
. Click on the *Availability* tab.
. In the *Markets* area, activate the options *eBay*, *eBay Fulfillment* and *WEB API*.
. Click on the plus sign to activate the markets.
. *Save* (icon:save[role="green"]) the settings.
. Go back to the *Settings* tab.
. In the *Availability* area, select the option *Active*.
. *Save* (icon:save[role="green"]) the setting. +
→ The item is activated and the EBSFKU is automatically transmitted to plentymarkets.

[WARNING]
.Availability and eBay sales price have to be saved
====
Item master data is only transmitted from plentymarkets to eBay Fulfillment when the availability and the eBay sales price are set.
====

[#320]
=== Setting up item packages (bundles)

A bundle, a so-called item package, consists of several items. The bundle price may be lower than the sum of the individual prices.

If you have already set up item packages in your plentymarkets system, there are still 2 setting options for the items that you have to carry out so that they can be processed by eBay Fulfillment.

[#330]
==== Bundle of several items as a unit
The bundle consists of several items that form a unit. This means that the bundle is offered as such a unit and is sent to eBay Fulfillment in a single package. An EBFSKU is assigned to the complete package.

[.collapseBox]
.Example of a bundle of several items as a unit
--
A somewhat abstract example of a "fixed" bundle is a car. The car is sold as a unit and it is not planned, for example, to just remove the steering wheel and then sell it, although the steering wheel can still be a single items.
--

[#340]
==== Bundle of several individual items

The bundle consists of several individual items. This means that you have to set the availability in each component of this package as described in chapter <<fulfilment/ebay-fulfillment#310, Setting up items and obtaining the EBSFKU>>. This means that each item in the package has its own EBFSKU. When submitting an order to eBay Fulfillment, each component of the item package is treated like an individual item order.

[.collapseBox]
.Example of a bundle of several individual items
--
You sell dining room chairs and dining room tables. You also offer a combination of the items as a bundle (1 dining room table and 4 dining room chairs). In contrast to the individual prices, the bundle price is as follows:

[[table-ebay-fulfillment-example-bundle]]
.Example calculation of a bundle
[cols="1,3,3"]
|====

| *Items* | *Unit price* | *Total price*

|Dining room chair
|EUR 59.99
|Price x 4 = EUR 239.96

|Dining room table
|EUR 299.99
|EUR 299.99

|
|
|EUR 539.95

3+|Bundle price = EUR 499.99

|====

[[image-edit-item]]
.Overview in the *Item » Edit items* menu
image::fulfilment/assets/eBay-Fulfillment-item-overview.png[width=640, height=360]

[[image-tab-stock]]
.Variation in the *Stock* tab
image::fulfilment/assets/eBay-Fulfillment-bundle-tab-stock.png[width=640, height=360]
--



[#350]
=== Setting up the labels

Now set up item labels. An item label is a note that you stick to the item or item packaging later.

[.instruction]
Setting up the label:

. Open the *Setup » Item » Labels* menu in your plentymarkets back end.
. Expand the *New template* area.
. Enter the name *EBFSKU Item Labels*.

*_Note that the following values are only given as an example. It might therefore be necessary to adjust the values to your label printer._*

. For the page, enter *80* and *40*.
. For the margin, enter *10* and *5*.
. For the label, enter *70* and *35*.
. For *Lines per page*, enter the value *1*.
. For *Columns per page*, enter the value *1*.
. For *Item ID*, enter the value *25* under *X* and the value *32* under *Y*. Select *5px* and *Normal* from the drop-down lists.
. Make the following settings in the *GTIN Barcode* line: +
→ e.g. for the coordinates and the mm specifications: X= 3, Y = 2, 25 mm, 25 mm (these are example values; here you then have to check whether the distances for label printing fit visually) +
→ from the *GTIN* drop-down list, select the *EBFSKU* option +
→ from the drop-down list *Format*, select the option *CODE128* +
→ select the option *Display GTIN*
. *Save* (icon:save[role="green"]) the settings.

Furthermore, you have the possibility to determine in the same menu, which item-related information you want to add to the label. Also in this case, you have to make sure that the position needs to carried out according to the settings of your label printer.

Possible selection fields (<<image-label-template>>) are:

* Language
* Item ID
* Variation ID
* Variation no.
* Variation name
* External variation ID
* Model
* Main variation ID
* Item name

By activating the option *Hide title*, you determine whether the title of the field should also be displayed (e.g. “Language: English”).

[[image-label-template]]
.Settings in the *Setup » Item » Labels* menu
image::fulfilment/assets/eBay-Fulfillment-label-template.png[width=640, height=360]

[#360]
=== Inbound

[#370]
==== What does inbound mean?

Inbound means that you supply eBay Fulfillment with items that they then deliver to your customers. The term inbound covers 2 aspects:

. first, it describes the transmission of data to eBay Fulfillment in the form of an advice note (goods delivery announcement)
. on the other hand, it is the process of physical goods receipt that you transfer from your warehouse to the warehouse of eBay Fulfillment

*_Note that following the given order is absolutely necessary for the correct processing with eBay Fulfillment._*

[#380]
==== Creating an inbound order

By deploying the eBay Fulfillment plugin, a contact record of eBay Fulfillment (e.g. Fiege) is automatically created in the menu *CRM » Contacts*.

Create an inbound order with the recipient address of your fulfilment service provider. To create an order manually, search (icon:search[role="blue"]) for the contact in the menu *CRM » Contacts*.

Enter the name in the *Name* field (e.g. Fiege). Open the contact record and create a new order by clicking on *New order* on the left side.

Add the items to the order that you want to send to your fulfilment service provider and set the <<fulfilment/ebay-fulfillment#630, item price to 0 EUR>>. *Save* the order.

[[image-item-price-to-zero]]
.Example of how to set the item price to 0 EUR in an inbound order
image::fulfilment/assets/eBay-Fulfillment-item-price-zero.png[width=640, height=360]

If the order contains all items as desired, set the order status to *eBay Fulfillment Inbound*. The automatic status change to *eBay Fulfillment Inbound sent* informs you that you can book the outgoing items in the respective order in the *Orders » Settings* menu.

icon:exclamation-triangle[role="red"] *Important:* It is absolutely necessary that your own warehouse is set in the order as the item warehouse. Your own warehouse is the outgoing warehouse that is used to send stock to eBay. If you do not select your own warehouse, this will lead to incorrect stock movements.

[[image-book-outgoing-items]]
.Booking outgoing items after the status change to *eBay Fulfillment Inbound sent*
image::fulfilment/assets/eBay-Fulfillment-book-outgoing-items.png[width=640, height=360]

[WARNING]
.Do not create the delivery note at the order
====
Do not create the delivery note at the order, but as described in chapter <<fulfilment/ebay-fulfillment#410, Inbound packages>>. Otherwise, the fulfilment service provider cannot stock the items.
====

[IMPORTANT]
.Did you change your login details at eBay?
====
Have you recently changed your login details (password and/or user name) at eBay? +
If you changed your login details at eBay, you also have to update this data in your plentymarkets system in the eBay account and in the eBay OAuth2 account. +
For further information, refer to the <fulfilment/ebay-fulfillment#520, Password changed>> chapter in the FAQ section.
====

[#390]
==== Generating and applying labels

Now create the EBFSKU labels in the order in the *Receipts* tab. Then print the labels and stick them on the items. To do so, proceed as described below.

[.instruction]
Generating the label:

. In the plentymarkets back end, go to *Orders » Edit orders*.
. Open the order that you want to send to eBay Fulfillment.
. Click on the *Receipts* tab.
. Select an option from the *Item labels* drop-down list. +
→ The label is created.
. *Save* (icon:save[role="green"]) the label on your computer.

Then print the label using an appropriate label printer and stick the label on the order items you want to send to eBay Fulfillment.

[#400]
==== Sending advice notes to the fulfilment service provider

To automatically send the advice notes (goods delivery notification) to eBay Fulfillment, you have to change the status of the order manually. To do so, open the order and change the status to *[5.3] eBay Fulfillment Inbound*. In case of a successful transmission, the order is automatically moved to the status *eBay Fulfillment Inbound sent*.


[#410]
==== Inbound packages

. In the plentymarkets back end, go to *Setup » Orders » Shipping » Fulfillment » eBay Fulfillment » Inbound Packages*.
. Enter the order ID.
. Click on *Search* (icon:search[role="blue"]).
. Click on *URL* in the line of the order. +
→ A file is generated and downloaded.
. Print the file and put it into the package.

Once you have carried out all the settings, there's nothing to stop your items from being stored in the eBay Fulfillment warehouse. To ensure a smooth transition, note that the notified quantity of items corresponds to the actual quantity of items shipped to the eBay Fulfillment warehouse.

[#420]
== Outbound

[#430]
=== What does outbound mean?

The term outbound describes the sales and distribution process that the fulfilment service provider takes over for you: It packs the items, stores them temporarily and then sends them to your customers.

[#440]
=== Sending the first item

As soon as stock was booked in the warehouse of eBay Fulfillment, the stock in the eBay Fulfillment warehouse will automatically be updated in your plentymarkets system. From this moment on and on condition that all settings in your plentymarkets system were carried out correctly, it is possible to transmit the first order to eBay Fulfillment.

If you have received orders for the same item that you sold from your own warehouse in the past, the plentymarkets system does not transmit an order to eBay Fulfillment. Only does the transmission take place when eBay Fulfillment updates the stock for the corresponding warehouse.

If you have already decided to <<fulfilment/ebay-fulfillment#250, send the eBay Fulfillment outbound orders automatically>>, nothing stands in the way of processing eBay Fulfillment orders. If you prefer sending the orders manually, proceed as described in the following steps.

[#450]
=== Manually sending an outbound order to eBay Fulfillment (standard process)

After receipt of an order in your plentymarkets system and payment of the order, the order is automatically set to status *[5] Cleared for shipping*, provided the items have sufficient stock. From here, you can manually forward the orders to eBay Fulfillment as follows:

. In the plentymarkets back end, go to *Orders » Edit orders*.
. Filter in the left area under *Warehouse* according to the eBay Fulfillment distribution warehouse you have named, e.g.: *eBay Fulfillment Sales*.
. Click on *Search* (icon:search[role="blue"]). +
→ An overview of all orders that you process via eBay Fulfillment is displayed.
. Open the order by clicking on the order ID.
. Select in the *Overview* tab in the *Status* area the previously created status *eBay Fulfillment Outbound* from the drop-down list. +
→ The order moves from here to the status *eBay Fulfillment Outbound sent* or *eBay Fulfillment Outbound not sent*.

*_Note:_* If the order could not be sent, check the settings or have a look in the chapter <<fulfilment/ebay-fulfillment#480, FAQ/Troubleshooting>>.

[IMPORTANT]
.Did you change your login details at eBay?
====
Have you recently changed your login details (password and/or user name) at eBay? +
If you changed your login details at eBay, you also have to update this data in your plentymarkets system in the eBay account and in the eBay OAuth2 account. +
For further information, refer to the <fulfilment/ebay-fulfillment#520, Password changed>> chapter in the FAQ section.
====

[#460]
=== Order splitting

Initial situation: An order contains 2 items A and B. Item A is in an own warehouse and item B is in the eBay Fulfillment warehouse. +
→ The items are split into different delivery orders.

[#470]
==== Splitting the delivery orders according to the item availability

Go to *Setup » Orders » Settings* and select from the line *Assignment of warehouses* the setting *b) a warehouse can be assigned for each stock unit* and in the line *Automatic warehouse selection* the setting *d) depending on the warehouse priority and the highest stock level*.

. In your plentymarkets back end, go to *Setup » Orders » Events*.
. Click on *Add event procedure* (icon:plus-square[role="green"]).
. Enter the desired name for the event procedure, e.g. *eBay Fulfillment splitting*.

*_Triggering event_*

. From the *Event* drop-down list, select the option *Order change > Status change (shipping preparation)*.
. *Save* (icon:save[role="green"]) the settings.

*_Filter criteria for orders_*

. Select the filter *Order > Order type*.
. Click on *Add*.
. Activate the option *Order*.

. Click on *Add filter* (icon:plus-square[role="green"]).
. Select the filter *Order > Order warehouse*.
. Click on *Add*.
. Activate the option *Several warehouses per order* in the filter.

*_Executing procedure_*

. Click on *Add procedure* (icon:plus-square[role="green"]).
. Select the procedure *Order > Generate delivery orders*.
. Click on *Add*.

. Select the option *Active* to activate the event procedure.
. *Save* (icon:save[role="green"]) the settings.

[#480]
== FAQ/Troubleshooting

[WARNING]
.Contact the eBay Customer Support in the following cases
====
Contact the eBay Customer Support when the following causes occur: +

* Orders that have already been transmitted to Fiege should be cancelled
* Package number is not visible in the order
* Stock differences +
(If you have determined that more/less stock is available in the warehouse than stated in the plentymarkets back end, then you can contact eBay that they ask Fiege about the current stock level.)
* Returning goods
* Labelling service
* General questions about the eBay Fulfillment contract
====

[#490]
=== No EBSFKU saved in the item

Possible causes for this are listed in the following:

[#500]
==== The item is not activated for eBay Fulfillment

Go to *Items » Edit item* and search (icon:search[role="blue"]) for the item. Open the item and check if the options *eBay Fulfillment* and *WEB API* are activated under *Availability*. After this is done, it might take up to an hour until the EBFSKU will be automatically saved in the item.

[#510]
==== Check the token

Check whether the token/your accounts are activated. If not, update the token in the menu *Setup » Markets » eBay » Accounts* and in the menu *Setup » Markets » eBay » OAuth2*.
Afterwards, go to *Plugins » Plugin overview* and save the plugin set once again. Select the active set and save the settings.

The EBFSKUs will be automatically saved in the item after approx. 1 hour.

[#520]
==== Password changed

*_Important:_* If you changed your eBay password, it is required that you update your eBay account and the eBay OAuth2 account in plentymarkets as well.

<<image-ebay-account-update-token>> shows how to update the token for the eBay account in the *Setup » Markets » eBay »Accounts* menu.

[[image-ebay-account-update-token]]
.Updating the token in the eBay account
image::fulfillment/assets/eBay-Konten-Token.png[width=640, height=360]

<<image-ebay-oauth2-account-update-token>> shows how to update the token for the eBay OAuth2 account in the *Setup » Markets » eBay » Accounts » OAuth2* menu.

[[image-ebay-oauth2-account-update-token]]
.Updating the token in the eBay OAuth2 account
image::fulfillment/assets/eBay-OAuth2-Konto.png[width=640, height=360]



[#530]
==== Pay attention to version updates

Pay attention if version updated are available and update the plugin in the *Plugins » Plugin overview* menu.

[#540]
=== Negative stock or stock differences

To avoid negative stock or stock differences in your plentymarkets system, make sure that your basic warehouse settings are correct.

[#550]
==== Unilateral sale

Your warehouse in the listing is the warehouse *eBay Fulfillment Sales*. With this setting, you make sure that this eBay item is only sold via the warehouse *eBay Fulfillment Sales*.

[#560]
==== Multi-Channel

If you sell this item also via other platforms, you can define your warehouse settings according to your individual requirements. To do so, use the warehouse selection and warehouse priorities.

Select as warehouse in the listing the option *Use basic settings*. The basic warehouse settings are carried out in the *Setup » Orders » Settings* menu.

A correct selection of the stock dependency in the eBay listing is also required for an ideal warehouse selection. For further information, refer to the chapter <<quick-start/quick-start-ebay#2800, Creating listings>> in the plentymarkets quick start.

*Important note:*
If you would like to exclude markets for eBay Fulfillment, do this by deactivating the referrers in the warehouse settings. To do so, go to *Setup » Stock » Warehouse* » _Select warehouse_ » *Settings*.

[#570]
=== Common inbound mistakes

Possible causes for this are listed in the following.

[#580]
==== Not possible to add items to the inbound order

If items cannot be found in the search when creating an inbound order, check whether the referrer *Manual entry* is activated for the price linked in the item.

Go to *Setup » Items » Sales price* _here price for eBay_ to carry out the settings.

[[image-manual-entry-referrer-sales-price]]
.Activating the manual referrer at the sales prices
image::fulfilment/assets/eBay-Fulfillment-sales-price.png[width=640, height=360]

[#590]
==== Warehouse selection for inbound order

When manually creating an order for the fulfilment service provider, do “NOT” select *eBay Fulfillment Sales* or *eBay Fulfillment Exception* as warehouse.

*_These warehouses are only managed by eBay Fulfillment._*

Select for the order the warehouse from which you want to take and book the items for shipment to the fulfilment service provider.

[#600]
==== Order is stuck in status "eBay Fulfillment Inbound"

A possible cause for this pending change of the status *Inbound* to *Inbound sent* or *Inbound not sent* is a missing standard shipping profile. This is saved in the *Setup » Client » Standard client » Orders* menu.

[[image-select-standard-shipping-profile]]
.Select the standard shipping profile
image::fulfilment/assets/eBay-Fulfillment-select-standard-shipping-profile.png[width=640, height=360]

The user also needs to have the necessary editing rights. You find this setting in the *Setup » Settings » User » Rights » User* menu. Enter the search criteria, open the corresponding user name and in the *Rights* area, click on the small grey arrow next to *Orders*. Activate the rights as you can see as an example in the following image.

[[image-activate-user-rights]]
.Activating user rights
image::fulfilment/assets/eBay-Fulfillment-activate-user-rights.png[width=640, height=360]

[#610]
==== Inbound not sent

All items/variations of the order have to be <<fulfilment/ebay-fulfillment#310, active>> and have an EBFSKU. Otherwise, the inbound order cannot be sent.

[#620]
==== Not possible to transfer inbound order

Check whether you subsequently made changes to the items in the order and/or whether further items were subsequently added to the order.

If the shipping packages have already been created - order search in the shipping centre with filters that apply also to the inbound order -, subsequent changes to the order cannot be applied automatically for the shipping packages, e.g. items could be “missing”.

Therefore, it is necessary that you delete the shipping packages for this order in the shipping centre. In case of a new search or when updating the search, the shipping packages are again generated automatically with the current data from the order.

If no subsequent changes were made to the order, check whether shipping packages were manually added to the order via the shipping centre or via a process. These cannot be filled with items automatically; empty shipping packages, however, are rejected by the API.

If you should require further shipping packages to register the inbound order with a fulfilment service provider, you can do this after transmission of the inbound order to the fulfilment service provider. This is possible because currently only the “total content” spread on the packages is decisive. Empty shipping packages are not allowed.

If this solution is not appropriate for you, the package content list would be useful for this purpose because you can fill the packages according to your needs. Thus, you can exactly determine how many packages should be used and which number of items may be contained in the packages.

However, you have to ensure that no shipping packages were generated automatically beforehand. This is due to the fact that the automatic generation cannot work smoothly in line with the package content list.
Delete the shipping packages that have already been created in the shipping centre, if necessary. This allows you to generate new shipping packages via the package content list.
As soon as one shipping package at least was created via the package content list, the automatism for the generation of shipping packages in the shipping centre does no longer apply for the order.

[#630]
==== Sales figures

Remember to set the item prices in the order to 0.00 EUR. By doing so, you make sure that the inbound orders do not have an influence on your sales figures.

[#640]
==== Stock maintenance

Once the inbound order was sent, you can manually book the outgoing items in the order or have them booked via an event procedure.

*Important note:*
If you change the settings in your system and manually change the status of the inbound order, e.g. to move the order again to the desired status after having made a correction in the order to control whether a possible error could be solved by means of the settings changes, then note the following:

By *manually changing/moving the order status*, the automated events may no longer apply. Therefore, it could be the case that an event procedure that should book the outgoing items automatically does no longer apply. Therefore, you have to book the outgoing items in the order manually.

[#650]
==== Not possible to change the status

If it is not possible to change the status, the outgoing items might have been already booked (status ≥ 7). Or the required user rights are not activated (see chapter <<fulfilment/ebay-fulfillment#600, Order is stuck in status "eBay Fulfillment Inbound">>).

The outgoing items booked can be reset in the order in the *Settings* tab in the *Outgoing items* area by clicking on *Reset*. After having carried out this setting, the order can again be set to status *5* and afterwards to the status *eBay Fulfillment Inbound*.  The order then moves to status *Inbound sent* automatically.

[#660]
==== Inbound: Difference between advice note and physical shipment

*Under-delivery:*

You have sent an <<fulfilment/ebay-fulfillment#370, advice note (goods delivery announcement)>> with your plentymarkets system to eBay Fulfillment. In this notification, you transfer a delivery of 15 pieces of a certain item. Actually, you only send only 13 pieces, however.

In order that the quantity is correct in the warehouse of eBay Fulfillment and that you can avoid deficiencies on your side, you simply forward the missing items to the warehouse of eBay Fulfillment.
→ In this case, 2 pieces.

*Over-delivery:*

If you have sent more items to the warehouse of eBay Fulfillment than notified before, send an advice note with the difference amount to your fulfilment service provider in order to synchronise the difference in the system.

[#670]
=== Common outbound mistakes

[#680]
==== Was the shipping release transmitted to Fiege?

Open the *Orders » Edit orders* menu. Search (icon:search[role="blue"]) for the order and open it. In the order, click on the *Properties* tab. If there is a value for *EbayFiege: Outbound Order ID* (e.g: _PL-XXXXX-123456_), then the outbound order has been successfully transmitted.

If you have any questions afterwards, contact the eBay CS (Customer Support).

[#690]
=== Outbound not sent

[#700]
==== Token no longer valid

See chapter <<fulfilment/ebay-fulfillment#510, Check the token>>.

[#710]
==== User rights not activated

See chapter <<fulfilment/ebay-fulfillment#600, Order is stuck in status "eBay Fulfillment Inbound">>.

[#720]
==== Tracking by means of logs (example: Packstation)

If the status of an order changes to *eBay Fulfillment Inbound not sent* or *eBay Fulfillment Outbound not sent*, you can have a look in the log for further details:

. In the plentymarkets back end, go to *Data » Log*.
. In the filter area on the left side, enter the plugin name *EbayFiege* in the field *Integration*.
. Enter the log level *Error* in the field *Level*.
. Click on *Search* (icon:search[role="blue"]).

After you have carried out the search, all events that were carried out on the system as well as their results will be listed. With the help of the *timestamp* when the status change was carried out in your order, you can find the corresponding log in the overview. When clicking on the desired log, a pop-up window opens where you can see the first details. By clicking on *Expand all* or on the arrow next to the last line, further details are displayed. In the last line of this report, you obtain the information that led to the status change.

*Example:*

You have transmitted an outbound order to eBay Fulfillment and the address contains a packstation, this outbound order will be refused automatically after the transmission because eBay Fulfillment does not deliver to packstations. The status of this order changes to *eBay Fulfillment outbound not sent*. By means of the time when the status was changed in the order, you can have a look in the list and search for the corresponding log entry. After clicking in the line of the log entry, the following information is displayed:

[[image-log-entry]]
.Log entry
image::fulfilment/assets/eBay-Fulfillment-log-entry.png[width=640, height=360]

In the last line that opens by clicking the arrow, you obtain detailed information that the outbound order could not be sent because the stated destination address is not supported by eBay Fulfillment.

[#730]
==== Change or cancel outbound

If the outbound has already been sent to eBay Fulfillment, the order should not be changed, for example to send the shipment by yourself. In order to obtain the editing status from the fulfilment service provider or to stop the order from being edited, contact the eBay Customer Support.

Currently, it is not possible to cancel the outbound order via the interface. Therefore, this has to be discussed with the eBay CS.
Cancelling the outbound order in the system does not result in the order being cancelled with Fiege.

[#740]
=== Order transmission to eBay Fulfillment is delayed

If the transmission of order to eBay Fulfillment is delayed, this could be caused by the settings of incoming PayPal payments.

Therefore, check the following points:

[#750]
==== Time zone

Log in to your PayPal account and check whether the time zone is correctly set. To do so, open this link:https://www.paypal.com/businessprofile/mysettings[PayPal link^]{nbsp}icon:external-link[]. The time zone should display *(CET01:00) Central European Time (Berlin, Paris, Rome)*.

[#760]
==== Immediate Payment Notifications

Log in to your PayPal account and check whether the Immediate Payment Notifications are activated. To do so, open this link:https://www.paypal.com/cgi-bin/customerprofileweb?cmd=_profile-ipn-notify[PayPal link^]{nbsp}icon:external-link[]. If the function is activated, enter the URL of your plentymarkets system there.

The URL is structured as follows:

*+https://www.MEINE-SHOP-ADRESSE.de/plenty/api/payment_notification.php?payment=PayPal+*

Replace *www.MY-PLENTYSTORE.co.uk* with your own domain.

Once you have saved these settings, completed payments are immediately transmitted to your system by PayPal and some transactions can be shipped considerably faster in the future.
