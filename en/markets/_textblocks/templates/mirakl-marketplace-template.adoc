:keywords: {marketplace}, Marketplace, {marketplace}.de, setting up {marketplace}, {marketplace} marketplace, multi-channel, multichannel, multi-channel {marketplace}, multichannel {marketplace}, multi channel {marketplace}
:description: Multi-Channel in plentymarkets: Set up the interface to the market {marketplace} in your plentymarkets system.

[IMPORTANT]
.Download the {marketplace} plugin
====
You need a plugin to link plentymarkets to {marketplace}. Visit the link:https://marketplace.plentymarkets.com/en/plugins/sales/marktplaetze/{marketplace}_{marketplace}[plentyMarketplace^]{nbsp}icon:external-link[] to download the {marketplace} plugin.

To use the {marketplace} plugin, you also need the Mirakl plugin. You can download Mirakl from plentyMarketplace as well.
====

:plugin: Mirakl

[.collapseBox]
Installing {plugin}
--
include::../../../plugins/_textblocks/instructions/plugin-installieren-en_gb.adoc[]
--

:plugin: {marketplace}
:priority: 1

[.collapseBox]
Installing {plugin}
--
include::../../../plugins/_textblocks/instructions/plugin-installieren-en_gb.adoc[]
--

[#100]
== About {marketplace}

{marketplace-info}

[#200]
== Registering with {marketplace}

{marketplace-registration}

== About automatic data exchange

After installing and setting up the plugin, the automatic processes described in <<#data-exchange-{marketplace}>> become available:

[[data-exchange-{marketplace}]]
[cols="1,3"]
.Frequency of data exchange
|====
|Data |Interval

2+| Item data

| Item export
| daily

| Stock synchronisation
| Every 15 minutes

| Price synchronisation
| Every 15 minutes

2+| Order data

| Order import
| Every 15 minutes

|====

[#600]
== Activating the order referrer

// Activate order referrer

:market: {marketplace}
:referrer: {marketplace}
:referrer-option: pass:quotes[option *{marketplace}*]

include::../../_textblocks/instructions/activate-referrer.adoc[]

[#500]
== Defining a sales price

:referrer-price: {marketplace}

include::../../_textblocks/instructions/define-sales-price.adoc[]

[#700]
== Setting the variation availability

:market-availability: {marketplace}
:option-availability: {marketplace}

include::../../_textblocks/instructions/variation-availability.adoc[]

// Important: For some marketplaces, the web API needs to be activated in addition to the marketplace. Define the :web-api: attribute to include the related text.

[#1300]
== Generating the API key

To create the connection for {marketplace} between plentymarkets and Mirakl, you need an API key. To generate the API key, proceed as follows:

[.instruction]
Generating the API key:

. Open the Mirakl back end.
. Click on the user icon (icon:user[]).
. Go to the *API keys* tab.
. Generate a new API key for {marketplace}.
. Copy the API key to your clipboard. You need this key to set up your {marketplace} account in plentymarkets.

[#1400]
== Carrying out account settings in the assistant

Use the *{marketplace} - Wizard* assistant in the *Setup » Assistants » Plugins » _Select plugin set_* to set up your {marketplace account in plentymarkets.

:menu-path: {marketplace}
:assistant-name: {marketplace}
:number-of-boxes: Info box

include::../../_textblocks/instructions/assistant-basic-instructions.adoc[]

// Depending on the size of the assistant, use either one collapsed box or one collapsed box for each step in the assistant.

[.collapseBox]
.Options in the assistant
--
[[table-{marketplace}-basic-settings-assistant]]
[width="100%"]
[cols="1,2"]
|======
|Setting |Explanation

| Authentication
| Select the API environment and enter the <<#1300, API key>>. You can determine the API environment from the URL of your Mirakl account.

| Data exchange
| Select processes for data exchange. This selection determines which data is exchanged between plentymarkets and Mirakl.

| Refund mapping
| Enter what reason to transfer to Mirakl when there’s a refund. You can add reasons for multiple statuses.

| Cancellation mapping
| Enter what reason to transfer to Mirakl when an order gets cancelled. You can add reasons for multiple statuses.

| Warehouse selection
| Select the warehouse you want to use for stock export.

| Shipping profile mapping
| For each shipping profile in plentymarkets, enter the corresponding abbreviation of the shipping service provider. To find the abbreviations, go to *Information » Shipping* in Mirakl.

|======
--

[#900]
== Setting up the item export

Item data is exported to {marketplace} via marketplace catalogues. Go to *Data » Catalogs* to create catalogues. Is this your first time working with catalogues? Then read up on the basic principle of <<en/data/exporting-data/managing-catalogues, catalogues first>>.

If you want to sell your products in multiple {marketplace} product categories, create a separate catalogue for each of them. Link the {marketplace} data fields with the item data saved in plentymarkets in the marketplace format afterwards. Once you’ve activated a catalogue, plentymarkets automatically exports the catalogue templates to {marketplace} daily.

[IMPORTANT]
.Error log
====
If there’s a problem during export, you can find the related log entries on Mirakl and not the plentymarkets log.
====

[#1200]
=== Creating properties

Now you can create the properties in the *Setup » Settings » Properties » Configuration* menu that are specified by {marketplace}.

For {marketplace}, you need the following properties:

* Logistics class (Logistikklasse, <<#1210, click for details>>)
* Leadtime to ship (Versandvorlaufzeit, <<#1220, click for details>>)
* Reverse charge (<<#1230, click for details>>)
* Properties for marketplace data fields without a corresponding field in plentymarkets (<<#1240, click for details>>)

[#1210]
==== Creating the logistics class property

For each variation, you need to export a shipping profile code to {marketplace}. You can configure shipping profiles in the Mirakl back end. For a list of shipping profiles, refer to the *Informations » Carrier costs* menu in the Mirakl back end. You can find the code in the *Logistics class* column in brackets behind the name of the logistics class.

:property: Logistics class (Logistikklasse)

include::../../_textblocks/instructions/properties-creation.adoc[]

:property: Logistics class (Logistikklasse)
:property-area: Item
:property-type: Short text
:property-name: {marketplace} logistics class

include::../../_textblocks/instructions/properties-creation-table.adoc[]

[#1220]
==== Creating the leadtime to ship property

For each variation, you need to export a leadtime to ship in days to {marketplace}. This way, you can tell {marketplace} how many days you need to ship a variation. {marketplace} accepts values between 1 and 45.

:property: Leadtime to ship (Versandvorlaufzeit)

include::../../_textblocks/instructions/properties-creation.adoc[]

:property: Leadtime to ship (Versandvorlaufzeit)
:property-area: Item
:property-type: Short text
:property-name: {marketplace} leadtime to ship (Versandvorlaufzeit)

include::../../_textblocks/instructions/properties-creation-table.adoc[]

[#1230]
==== Creating the reverse charge property

For each variation, you need to specify if the reverse charge mechanism applies to this variation for cross-border business processes. {marketplace} accepts the values *true* and *false*.

* false = The reverse charge mechanism isn’t applied.
* true = The reverse charge mechanism is applied. This means that instead of you, your customers have to pay VAT to the tax authorities. +
*_Note:_* Observe the legal requirements for the reverse charge mechanism and consult your tax adviser on the details.

:property: Reverse charge

include::../../_textblocks/instructions/properties-creation.adoc[]

:property: Reverse charge
:property-area: Item
:property-type: Short text
:property-name: {marketplace} reverse charge

include::../../_textblocks/instructions/properties-creation-table.adoc[]

[#1240]
==== Creating additional properties

In addition to the properties described in the previous sections, you need properties for all data fields of the marketplace whose data you want to export, but that don’t exist in plentymarkets by default. For further information on the properties you need, check the documentation of the marketplace. Is this your first time working with properties? For further information, refer to the <<welcome/general-functions/properties#, Properties>> page of the manual.

[#902]
=== Creating a catalogue in the assistant

:catalogue-assistant-name: {marketplace} Catalogue
:number-of-boxes: Info box
:anchor-additional-fields:
:catalogue-path: pass:quotes[*Setup » Assistants » Plugins »* _Select plugin set_.]
:catalogue-note: pass:quotes[Only select bottom level categories. You can find a better overview of the category hierarchy on Miracle by going to *My account » My product data settings*.

include::../../_textblocks/instructions/catalogue-assistant-config.adoc[]

////
TODOs:
*  +

*   +

*
////

// Depending on the size of the assistant, use either one collapsed box or one collapsed box for each step in the assistant.

[.collapseBox]
.Options in the assistant
--
[[table-{marketplace}-catalogue-assistant]]
[width="100%"]
[cols="1,2"]
|======
|Setting |Explanation

| Settings
| Select a {marketplace} category for offering your items. Then, enter a name for the corresponding category in plentymarkets. +
{catalogue-note}

|======
--

[#map-data-fields]
=== Mapping data fields in the catalogue

include::../../_textblocks/instructions/catalogue-map-data-fields.adoc[]

ifeval::[”{marketplace}” == "Conrad"]
include::../instructions/catalogue-mirakl-conrad-mapping.adoc[]
endif::[]

////


=== _Example:




////

[#475]
== Linking variations to a {marketplace} catalogue category

After you created a marketplace format for {marketplace} with the *{marketplace}* assistant or manually, the property *{marketplace}* is created in your plentymarkets system. A new selection value is added to the *{marketplace} category group* property for each category selected in the *Settings* step of the assistant. In order for your variations to be exported in the appropriate catalogue, they have to be linked to the *{marketplace} category group* property in the *Properties* tab of a variation.

[.instruction]
Linking a variation to a category:

. Go to *Item » Edit item »* _Open item_.
. Click on the *Variations* tab.
. Open the variation that should be linked.
. Open the *Properties* tab.
. In the *Variation properties* area, select the property *{marketplace} category group* from the *Properties* drop-down list and click on *Add* (icon:plus-square[role="green"]). +
→ The property is added.
. Select the desired category group from the *Value* drop-down list for the *{marketplace} category group* property. +
→ The variation will be exported in this catalogue. +
*_Example:_*If you pick the value *{category-example}*, the catalogue variation is exported for the *{category-example}* category.
. Repeat steps 5 and 6 for all categories where you want to offer the variation.
. *Save* (icon:save[role="green"]) the settings.

=== Linking properties with variations and saving values

include::../../_textblocks/instructions/properties-link.adoc[]

[#{marketplace}]
=== Activating the catalogue export

:interval: Daily
:market: {marketplace}

include::../../_textblocks/instructions/catalogue-activation.adoc[]


[#480]
== Setting up event procedures

Set up an <<automation/event-procedures#, event procedure>> to automatically update the order status on {marketplace} whenever specific events occur. You can set up the following event procedures:

  

* Report order confirmation to {marketplace}
* Report shipping confirmation to {marketplace}
* Report order cancellation to {marketplace}
* Report refund to {marketplace}

How to set up the event procedures in plentymarkets is described in the following chapters.

[IMPORTANT]
.Additional procedures
====
In addition to the event procedures listed above, the {marketplace} plugin provides several other event procedures. These procedures exist because order processing differs between plentymarkets and Mirakl.

However, we recommend that you only use the procedures described in detail.
====

ifeval::[”{marketplace}” == "Conrad"]
[#1000]
=== Report order confirmation to {marketplace}

:table-event-procedure: <<#{marketplace}-event-procedure-order-confirmation>>

include::../../../_includes/textblocks/instructions/EA.adoc[]

[#table-{marketplace}-event-procedure-order-confirmation]
.Event procedure to send an order confirmation to {marketplace}
[cols="1,2,2"]
|===
| *Setting*
| *Option*
| *Selection*

| *Event*
| *Status change*
| Select an event, for example [3] *Waiting for payment*.

| *Filter*
| *Order > Referrer*
| *{marketplace}*

| *Procedure*
| *Plugins > {marketplace}: Accept order*
|
|===
endif::[]

ifeval::[”{marketplace}” == "Conrad"]
[#1005]
=== Report order cancellation to {marketplace}

:table-event-procedure: <<#{marketplace}-event-procedure-order-cancellation>>

include::../../../_includes/textblocks/instructions/EA.adoc[]

[#{marketplace}-event-procedure-order-cancellation]
.Event procedure to send an order cancellation to {marketplace}
[cols="1,2,2"]
|===
| *Setting*
| *Option*
| *Selection*

| *Event*
| *Status change*
| Select an event, e.g. *[8] Cancelled*.

| *Filter*
| *Order > Referrer*
| *{marketplace}*

| *Procedure*
| *Plugins > {marketplace}: Cancel order*
|
|===
endif::[]

ifeval::[”{marketplace}” == "Voelkner"]
[#1008]
=== Report order cancellation to {marketplace}

:table-event-procedure: <<#{marketplace}-event-procedure-order-cancellation>>

include::../../../_includes/textblocks/instructions/EA.adoc[]

[#{marketplace}-event-procedure-order-cancellation]
.Event procedure to send an order cancellation to {marketplace}
[cols="1,2,2"]
|===
| *Setting*
| *Option*
| *Selection*

| *Event*
| *Status change*
| Select an event, for example [7] *Outgoing items booked*.

| *Filter*
| *Order > Referrer*
| *{marketplace}*

| *Procedure*
| *Plugins > {marketplace}: Upload invoice*
|
|===
endif::[]

[#1010]
=== Report shipping confirmation to {marketplace}

:table-event-procedure: <<#{marketplace}-event-procedure-shipping-confirmation>>

include::../../../_includes/textblocks/instructions/EA.adoc[]

[#{marketplace}-event-procedure-shipping-confirmation]
.Event procedure to send shipping confirmations to {marketplace}
[cols="1,2,2"]
|===
| *Setting*
| *Option*
| *Selection*

| *Event*
| *Status change*
| Select an event, for example [7] *Outgoing items booked*.

| *Filter*
| *Order > Referrer*
| *{marketplace}*

| *Procedure 1*
| *Plugins: {marketplace}: Update the carrier tracking information for a payment*
|

| *Procedure 2*
| *Plugins > {marketplace}: Validate shipping*
|
|===

[#1020]
=== Report order cancellation to {marketplace}

:table-event-procedure: <<#{marketplace}-event-procedure-order-cancellation>>

include::../../../_includes/textblocks/instructions/EA.adoc[]

[#{marketplace}-event-procedure-order-cancellation]
.Event procedure to send a cancellation to {marketplace}
[cols="1,2,2"]
|===
| *Setting*
| *Option*
| *Selection*

| *Event*
| *Status change*
| Select an event, e.g. *[8] Cancelled*.

| *Filter*
| *Order > Referrer*
| *{marketplace}*

| *Procedure*
| *Plugins > {marketplace}: Cancel the order item*
|
|===

[#1030]
=== Report refund to {marketplace}

:table-event-procedure: <<#{marketplace}-event-procedure-refund>>

include::../../../_includes/textblocks/instructions/EA.adoc[]

[#{marketplace}-event-procedure-refund]
.Event procedure to send refunds to {marketplace}
[cols="1,2,2"]
|===
| *Setting*
| *Option*
| *Selection*

| *Event*
| *Status change*
| Select an event, e.g. *[11] Credit note*.

| *Filter*
| *Order > Referrer*
| *{marketplace}*

| *Procedure*
| *Plugins > {marketplace}: Refund order lines*
|
|===

ifeval::[”{marketplace}” == "Conrad"]
[#1100]
== Archiving unconfirmed orders

When an order was rejected or cancelled, or there’s a credit note for an order, you should archive the order. You can do this automatically by using the procedure manager.

You have to create a separate procedure for each status.

[#1110]
=== Archiving rejected orders

[.collapseBox]
.Setting up a procedure:
--
[.instruction]
Setting up a procedure:

. Go to *Setup » Orders » Procedures*.
. Click on the *New action* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-rejected-orders}>>.
. Click on the *Filter* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-rejected-orders}>>.
. Click on the *Procedure* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-rejected-orders}>>.
. *Save* (icon:save[role="green"]) the settings. +
→ The procedure is created.

--

[[#marketplace-procedure-manager-rejected-orders]]
.Procedure manager settings
[cols="1,3"]
|===
|Tab |Setting

| *Status*
| Activate the option *Active*. +
Select when the procedure should be carried out each day. +
Enter a name.

| *Order type*
| From the *Status* drop-down list, select the option *[7] Outgoing items booked*. +
From the *Last status change* drop-down list, select the option *Enter the days*. Enter the value `2` in the new text field. +
From the *Order referrer* list, select the option {marketplace}.

| *Procedure*
| Select a final status from the *Change order status* drop-down list, for example 7.99.

|===

[#1120]
=== Archiving cancelled orders

[.collapseBox]
.Setting up a procedure:
--
[.instruction]
Setting up a procedure:

. Go to *Setup » Orders » Procedures*.
. Click on the *New action* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-cancelled-orders}>>.
. Click on the *Filter* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-cancelled-orders}>>.
. Click on the *Procedure* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-cancelled-orders}>>.
. *Save* (icon:save[role="green"]) the settings. +
→ The procedure is created.

--

[[#marketplace-procedure-manager-cancelled-orders]]
.Procedure manager settings
[cols="1,3"]
|===
|Tab |Setting

| *Status*
| Activate the option *Active*. +
Select when the procedure should be carried out each day. +
Enter a name.

| *Order type*
| From the *Status* drop-down list, select the option *[8] Cancelled*. +
From the *Last status change* drop-down list, select the option *Enter the days*. Enter the value `2` in the new text field. +
From the *Order referrer* list, select the option {marketplace}.

| *Procedure*
| Select a final status from the *Change order status* drop-down list, for example 8.99.

|===

[#1130]
=== Archiving order with credit notes

[.collapseBox]
.Setting up a procedure:
--
[.instruction]
Setting up a procedure:

. Go to *Setup » Orders » Procedures*.
. Click on the *New action* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-credit-notes}>>.
. Click on the *Filter* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-credit-notes}>>.
. Click on the *Procedure* tab.
. Carry out the desired settings according to <<{marketplace-procedure-manager-credit-notes}>>.
. *Save* (icon:save[role="green"]) the settings. +
→ The procedure is created.

--

[[#{marketplace}-procedure-manager-credit-notes]]
.Procedure manager settings
[cols="1,3"]
|===
|Tab |Setting

| *Status*
| Activate the option *Active*. +
Select when the procedure should be carried out each day. +
Enter a name.

| *Order type*
| From the *Status* drop-down list, select the option *[11] Credit note*. +
From the *Last status change* drop-down list, select the option *Enter the days*. Enter the value `2` in the new text field. +
From the *Order referrer* list, select the option {marketplace}.

| *Procedure*
| Select a final status from the *Change order status* drop-down list, for example 11.99.

|===

endif::[]

////
TODO:

* Is there anything special about the catalogue? Update include files if necessary.

////
