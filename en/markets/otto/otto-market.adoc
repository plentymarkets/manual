= OTTO Market
:lang: en
include::{includedir}/_header.adoc[]
:keywords: OTTO Market, OTTO, marketplace, Otto assistant, Otto category group, Otto marketplace, Otto setup, setting up Otto
:description: Multi-Channel in plentymarkets: Set up the interface to OTTO Market in your plentymarkets system.
:position: 20
:url: markets/otto/otto-market
:id: SMKVRT7
:author: team-multi-channel

:ea-queue:

This page provides information about OTTO market, OTTO's marketplace model.

[#100]
== OTTO Market

OTTO market is OTTO's marketplace. You are shown as the seller of your products. However, communication with customers is managed by OTTO. +

Connecting to this market allows for the following automatic processes to take place:

* Order import once an hour
* Stock synchronisation every 15 minutes +
*_Note:_* If stock for a variation drops to 0, this variation is deactivated automatically after 15 days. This is done to protect the product’s ranking on OTTO Market. If new stock is booked for such a variation, the variation is reactivated during the nightly item export.
* Update of item data including price synchronisation once every night
* Import of return announcements by customers once per hour
* Update of category groups/catalogue templates twice a week
* Update of the brands list every three hours

[#200]
== Setting up an account

Use the assistant *Base settings - OTTO Market* in the *Setup » Assistants » Omni-Channel* menu to quickly and conveniently set up OTTO Market in plentymarkets. Moreover, you set up the data transfer to OTTO Market. Keep the API access data at hand that you received from OTTO Market.

:menu-path: Setup » Assistants » Omni-Channel
:assistant-name: Base settings - OTTO Market
:number-of-boxes: Info box

include::../_textblocks/instructions/assistant-basic-instructions.adoc[]

[.collapseBox]
.Options in the assistant
--
[[table-otto-market-basic-settings-assistant]]
[width="100%"]
[cols="1,2"]
|======
|Setting |Explanation

2+|Step *Settings*

| *Select the client that should be used to sell your items.*
a| From the drop-down list *Client*, select a client. This client is used to generate the item URL in the catalogue and OTTO Market orders are assigned to this client.

| *Would you like to activate your OTTO market user account?*
a| _Not activated_ = The settings are saved but the data exchange with OTTO Market is not started. +
_Activated_ = Data exchange with OTTO Market is started once the assistant is completed. +
*_Recommendation:_* Check all settings before activating the user account.

2+|Step *API access data*

| *Enter the API access data.*
a| * *API user* (mandatory input) = Enter the user name for the API interface that you received from OTTO Market.
* *Password* (mandatory input) = Enter the password for the API interface that you received from OTTO Market.

2+|Step *Data exchange*

| *Would you like to import OTTO market orders into plentymarkets?*
| Activate to automatically import orders once an hour. +
*_Note:_* You need to activate this option to export item data and stock information.

| *Which data would you like to transfer to OTTO market?* +
(only shown if you activated *Import orders*)
a| Select the data to be exported. +
*_Note:_* You need to automatically import orders to export item data and stock information.

* *Item data* = Item data is synchronised once a day during the night.
* *Stock information* = Stock is synchronised every 15 minutes. +
*_Note:_* If stock for a variation drops to 0, this variation is deactivated automatically after 15 days. This is done to protect the product’s ranking on OTTO Market. If new stock is booked for such a variation, the variation is reactivated during the nightly item export.

| *Would you like to import return announcements from OTTO market into plentymarkets?*
| Activate to import returns that customers create on OTTO Market once per hour. Each returned order item is shown as a separate return in the *Orders* tab of an order.

| *Select the order status for newly imported return announcements.* +
(only shown if you activated *Import return announcements*)
| From the drop-down list, select the status to be assigned to return announcements during import. +
*_Note:_* A return announcement does not guarantee that the customer actually sends the product back to you. As such, select a status that does not trigger any unwanted event procedures, e.g. event procedures for creating credit notes.

| *Would you like to replace the stock amount for variations with no stock limitation?*
a| Activate *Replace stock* to enter a stock amount.

| *Stock amount* +
(only shown if you activated *Limit stock*)
| Enter the stock amount. This stock amount is sent if the setting *Limit* of a variation is set to *None* or *Do not administer stock for this variation* and stock is less than or equal to 0.

2+|Step *Shipping service provider*

| *Link plentymarkets shipping service provider DHL with:*
| OTTO Market shipping service provider (drop-down list)

2+|Step *Summary*

| Summary
| Shows a summary of your settings. Expand (icon:chevron-down[role="darkGrey"]) and check your settings.
|======
--

[#275]
== Activating the order referrer

:market: OTTO Market
:referrer: OTTO Market
:referrer-option: pass:quotes[option *OTTO Market*]

include::../_textblocks/instructions/activate-referrer.adoc[]

[#300]
== Setting the variation availability

:market-availability: OTTO Market
:option-availability: OTTO Market

include::../_textblocks/instructions/variation-availability.adoc[]

// Web API NOT required!

If you deactivate the market availability for OTTO Market of a variation in the *Item » Edit item »* _Open item_ *» Tab: Variation ID» Tab: Availability*, the variation is deactivated on OTTO Market within 15 minutes. If you reactivate the availability of such a variation, the variation is only reactivated on OTTO Market during the nightly item export.

[#350]
== Setting the availability for images

The availability *OTTO Market* has to be saved for an image in the *Item » Edit item »* _Open item_ *» Tab: Images* menu so that item images are displayed on OTTO Market.

[.instruction]
Setting the availability for images:

. Go to *Item » Edit item »* _Open item_ *» Tab: Images*.
. Activate the option *OTTO Market* in the *Availability* drop-down list.
. *Save* (icon:save[role="green"]) the settings. +
→ The variation image is displayed on OTTO Market.


[#400]
== Defining a sales price

:referrer-price: OTTO Market

include::../_textblocks/instructions/define-sales-price.adoc[]


[#425]
== Activating the payment method

:paymentmethod: Otto Payment
:folder: International

include::../_textblocks/instructions/activate-payment-method.adoc[]

[#450]
== Setting up the item export

Item data is exported to OTTO Market via catalogues. Use the assistant *Create catalogues - OTTO Market* to create a marketplace format for every OTTO category group. Is this your first time working with catalogues? Then read up on the basic principle of <<en/data/exporting-data/managing-catalogues, catalogues first>>. For further information about the plentymarkets data sources that can be linked, refer to the <<data/exporting-data/managing-catalogues#_mapping_data_sources, Mapping data fields>> chapter.

[IMPORTANT]
.Items cannot be deleted at OTTO Market
====
An item cannot be deleted at OTTO Market, neither by plentymarkets nor by OTTO. It is only possible to mark the item as *not available* at OTTO Market. Therefore, make extra sure that the correct sources are mapped in the catalogue prior to transferring your items.
====

=== Creating a catalogue in the assistant

:catalogue-assistant-name: Create catalogues - OTTO Market
:number-of-boxes: info boxes
:catalogue-path: pass:quotes[*Setup » Assistants » Omni-Channel*]
:catalogue-note: You need a separate catalogue for each OTTO category group.
:mapping-fields: more

include::../_textblocks/instructions/catalogue-assistant-config.adoc[]

[.collapseBox]
.Step *Name and category group*
--
[[table-otto-market-catalogue-assistant]]
[width="100%"]
[cols="1,2"]
|====
| Setting | Explanation

| *Enter a name for the catalogue.*
a| Enter a name for the catalogue.

| *Select the OTTO category group that should be added to the catalogue.*
| Select an OTTO category group from the drop-down list. +
*_Note:_* You need a separate catalogue for each OTTO category group.
|====
--

[.collapseBox]
.Step *Required fields*
--
In this step of the assistant, you decide which variation data saved in plentymarkets you want to send to the market. To do so, you are going to map each mandatory field of the market with the data field in plentymarkets that contains the data that you want to export to the market. Each market specifies their own mandatory fields. Instead of mapping an existing data field, you can also create a new data field for some fields.

'''
*Parent SKU* = From the drop-down list, select the data field in plentymarkets that contains the parent SKU.

'''
*SKU* = From the drop-down list, select the data field in plentymarkets that contains the SKU.

'''
*Select data source* = A data field that already exists in plentymarkets will be exported to OTTO Market. Select the data field from the drop-down list Data field. +
*_Note:_* The mappings you create will not be checked in terms of logic. As such, check your mappings carefully before starting the export.

'''
*Create property* = Creates a property and maps this property to the data field. This automatically created property will be saved in the <<welcome/general-functions/properties#table-create-property, Setup » Settings » Properties » Configuration>> menu.

The property is created with the following settings:

* Section = Item
* Property type = _depending on the market’s requirements_
* Language = German
* Name = Field of the OTTO category group
* Group = OTTO Market

'''
*Creating a sales price* = Creates a sales price and maps this sales price to the data field. You can check and edit this sales price in the <<en/item/settings/prices#400, Setup » Item » Sales prices>> menu.

The sales price is created with the following settings:

* Subscription interval = None
* Internal name = OTTO Market
* External name = OTTO Market
* Minimum quantity = 1
* Live conversion = No
* Currency = Euro
* Display = Always display for new items
* Client = ALL
* Class = ALL
* Country = Germany

'''
*Create barcode* = Creates the barcode *OTTO Market* and maps this barcode with the data field. If a barcode with the name *OTTO Market* already exists in the system, that barcode is mapped instead. You can check and edit this barcode in the <<en/item/settings/barcodes#100, Setup » Item » Barcodes>> menu.
--

[.collapseBox]
.Step *Summary*
--
[[table-otto-market-catalogue-assistant]]
[width="100%"]
[cols="1,2"]
|====
| Setting | Explanation

| Summary
| Shows a summary of the catalogue settings. Expand (icon:chevron-down[role="darkGrey"]) and check your settings.

|====
--

[#600]
=== Mapping additional data fields in the catalogue (not in assistant)

You have already mapped important mandatory fields for the OTTO category group in the assistant. However, after you have completed the assistant, you need to map additional data fields to send more information regarding your products to OTTO Market.

TIP: Map at least the data fields *Brand*, *Delivery type* and *Category* with plentymarkets data fields.

include::../_textblocks/instructions/catalogue-assistant-mapping-data-fields.adoc[]

[#602]
=== _Example:_ Mapping the data field "Stock"

An example of how to map the data field *Stock* to item data saved in plentymarkets is provided below. Use the data field *Stock* to select from which warehouse stock is to be exported to OTTO Market.

[.instruction]
Mapping the data field "Stock":

. Go to *Data » Catalogues*.
. Click on the catalogue. +
→ The catalogue opens.
. Navigate to the OTTO Market data field *Stock*.
. Click on *Add data field*. +
. In the list that opens to the left, click on the folder *Stock*. +
→ All warehouses saved in plentymarkets are displayed in the drop-down list.
. Click on the plus symbol for the warehouse from which you want to export the stock to OTTO Market. +
*_Optional:_* To transfer stock from multiple warehouses to OTTO Market, click on *Add fallback data field* (icon:link[role="yellow"]) and add another warehouse. The total stock of the selected warehouses is exported.
*_Note:_* If you do not map the data field *Stock* to a warehouse, then the sum of the net stock of all distribution warehouses (data field *Virtual warehouse*) will be exported to OTTO Market.
. *Save* (icon:save[role="green"]) the settings.

[#701]
== Linking data fields created in the assistant with variations

:property-group: OTTO Market

include::../_textblocks/instructions/assistant-link-sources.adoc[]

[#475]
== Linking variations with OTTO category groups

After you created a marketplace format for OTTO Market with the *OTTO Market Creating catalogues* assistant or manually, the property *OTTO category group* is created in your plentymarkets system. A new selection value is added to the *OTTO category group* property for each OTTO category group selected in the *Name and category group* step of the assistant. In order for your variations to be exported in the appropriate catalogue, they have to be linked to the *OTTO category group* property in the *Properties* tab of a variation.

[.instruction]
Linking a variation with an OTTO category group:

. Go to *Item » Edit item »* _Open item_.
. Click on the *Variations* tab.
. Open the variation that should be linked.
. Open the *Properties* tab.
. In the *Variation properties* area, select the property *OTTO category group* from the *Properties* drop-down list and click on *Add* (icon:plus-square[role="green"]). +
→ The property is added.
. Select the desired category group from the *Value* drop-down list for the *OTTO category group* property. +
→ The variation will be exported in this catalogue. +
*_Example:_* If you select the value *Betten* (Beds), then the variation will be exported in the catalogue for the OTTO category group *Betten*.
. *Save* (icon:save[role="green"]) the settings.

[#2000]
== Activating the catalogue export to OTTO Market

:interval: once a day during the night
:market: OTTO Market

include::../_textblocks/instructions/catalogue-activation.adoc[]

[#500]
== Setting up event procedures

Set up <<automation/event-procedures#, event procedures>> to automatically inform OTTO Market about order status changes. The following event procedures can be set up for OTTO Market:

* Versandinformation an OTTO melden (Send shipping confirmation to OTTO)
* Auftragsstornierung an OTTO melden (Send order cancellation to OTTO)
* Retoure an OTTO melden (Send return to OTTO)
* Ablehnung der Retoure an OTTO melden (Send rejection of return to OTTO)

How to set up the event procedures in plentymarkets is described in the following chapters.

[IMPORTANT]
.Sequence of event procedures
====
Note that event procedures for OTTO market must be triggered in a specific sequence. First, the event procedure <<Generating return labels, Generate return label>> must be triggered and afterwards the event procedure <<Sending shipping confirmations to OTTO, Send shipping confirmation to OTTO>>. If no return label was created, the shipping confirmation cannot be sent to OTTO Market.
====

[#550]
=== Generating return labels

When OTTO Market orders are imported into your plentymarkets system, return labels must be generated for those orders before the shipping confirmation is sent to OTTO Market. An event procedure for creating a return label automatically creates a tracking number for a return (retTrackingNumber) which is saved for the order. This is to ensure that a tracking number exists if customers wish to return an item. +

To ensure that the tracking number is sent to OTTO Market along with the order confirmation, you have to create a return label. Return labels can be created with the shipping service provider plugins link:https://marketplace.plentymarkets.com/en/plugins/integration/dhlretoureonline_6714[DHL Retoure Online^], link:https://marketplace.plentymarkets.com/en/plugins/integration/glsshipping_6463[GLS Shipping^], and link:https://marketplace.plentymarkets.com/en/plugins/integration/hermesshippinginterface_5437[Hermes^].

*_Note:_* At the moment, return labels can be created with DHL, Hermes, and GLS Shipping.

[IMPORTANT]
.Install plugins
====
In order to generate return labels, the plugins *DHL Retoure Online*, *Hermes*, or *GLS Shipping* must be installed, activated and set up in your plentymarkets system, depending on which shipping service provider you want to use. You can download the plugins in the link:https://marketplace.plentymarkets.com/en/plugins/fulfillment-stock/shipping[plentyMarketplace^]{nbsp}icon:external-link[].
====

How to set up an <<automation/event-procedures#, event procedure>> to create a DHL return label is described below.

In order to create a return label with GLS Shipping, select the procedure *Plugins > GLSShipping: Register return label* instead. For further information, refer to the GLS Shipping plugin link:https://marketplace.plentymarkets.com/en/plugins/integration/glsshipping_6463[user guide^].

With Hermes, return labels cannot be created via event procedures. Before the shipping label for OTTO Market is created, the return label for Hermes must be created via the <<fulfilment/shipping-centre#, shipping centre>> or via a <<automation/processes/procedures#, procedure>> in a process. For further information, refer to the Hermes plugin link:https://marketplace.plentymarkets.com/en/plugins/integration/hermesshippinginterface_5437[user guide^].

:table-event-procedure: <<#dhl-return-label-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[dhl-return-label-otto]]
.Event procedure to create a DHL return label
[cols="1,3,3"]
|====
|Setting |Option |Selection

| *Event*
| *New order*
|

| *Filter 1*
| *Order > Order type*
| *Order*

| *Filter 2*
| *Order > Referrer*
| *OTTO Market*

| *Procedure*
| *Plugins > Generate DHL Retoure Online label*
|
|====

[#700]
=== Sending shipping confirmations to OTTO

Set up an <<automation/event-procedures#, event procedure>> to inform OTTO Market that an item has been shipped.

[TIP]
.Save sender address
====
Shipping confirmations will only be sent to OTTO Market if the seller’s sender address was saved. You can save the address in the settings of a warehouse under *Setup » Stock » Warehouse »* _Select warehouse_ *» Settings*. You have to save the address for the warehouse that is used in the respective order.
====

:table-event-procedure: <<#shipping-confirmation-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[shipping-confirmation-otto]]
.Event procedure to send a shipping confirmation to OTTO Market
[cols="1,3,3"]
|====
|Setting |Option |Selection

| *Event*
| *Status change: e.g. status [7] Shipped*
|

| *Filter 1*
| *Order > Order type*
| *Order*

| *Filter 2*
| *Order > Referrer*
| *OTTO Market*

| *Procedure*
| *Plugins > Versandinformation an OTTO melden* (Send shipping confirmation to OTTO)
|
|====

[#800]
=== Sending order cancellations to OTTO

Set up an <<automation/event-procedures#, event procedure>> to inform OTTO Market about the cancellation of an order. It might be required to cancel orders because of different reasons. For example, if the customer cancels an order, select *Status [8.1] Cancelled by customer*.

:table-event-procedure: <<#order-cancellation-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[order-cancellation-otto]]
.Event procedure to send an order cancellation to OTTO Market
[cols="1,3,3"]
|====
|Setting |Option |Selection

| *Event*
| *Order change: Status change*
| Select an event, e.g. *[8.1] Cancelled by customer* +
*_Note:_* Orders that are cancelled by OTTO Market are imported to plentymarkets with the status *[8] Cancelled*. As such, select a different status to make sure that you do not notify OTTO Market of a cancellation they triggered.

| *Filter 1*
| *Order > Order type*
| *Order*

| *Filter 2*
| *Order > Referrer*
| *OTTO Market*

| *Procedure*
| *Plugins > Auftragsstornierung an OTTO melden* (Send order cancellation to OTTO)
|
|====

[#900]
=== Sending returns to OTTO

In order that OTTO Market accepts the return, you have to create an order of the type *Credit note*. Set up an <<automation/event-procedures#, event procedure>> for that.

[[image-return-otto-credit-note]]
.Event procedure to create an order of the type *Credit note*
image::markets/otto/assets/otto-market-return-credit-note.png[width=640, height=360]


:table-event-procedure: <<#return-otto-credit-note>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[return-otto-credit-note]]
.Event procedure to create an order of the type *Credit note*
[cols="1,3,3"]
|====
|Setting |Option |Selection

| *Event*
| Select an event, for example *Order change: Status change* +
*_Note:_* Select a status that suits your workflow. Select the status *[9.11] Send return to OTTO*, for example.
|

| *Filter 1*
| *Order > Order type*
| *Return*

| *Filter 2*
| *Order > Referrer*
| *OTTO Market*

| *Procedure*
| *Order > Create credit note (order)*
|
|====

Set up another <<automation/event-procedures#, event procedure>> to inform OTTO Market about a return.

[[image-return-otto]]
.Event procedure to send returns to OTTO Market
image::markets/otto/assets/otto-market-accept-return.png[width=640, height=360]

:table-event-procedure: <<#return-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[return-otto]]
.Event procedure to send returns to OTTO Market
[cols="1,3,3"]
|====
|Setting |Option |Selection

| *Event*
| Select an event, for example *Order generation: New credit note*.
|

| *Filter 1*
| *Order > Order type*
| *Credit note*

| *Filter 2*
| *Order > Referrer*
| *OTTO Market*

| *Procedure*
| *Plugins > Retoure an OTTO melden* (Send return to OTTO)
a| *_Notes:_*

* The procedure *Send return to OTTO* triggers a credit note and the buyer receives a refund. The credit note document created by OTTO is automatically attached to the order of the type *Credit note*.
* OTTO will refund the complete sales price of an order item. You cannot notify OTTO Market of a partial refund for an order item. As such, even if you adjust the price of an order item, this does not affect the refund document that OTTO creates.
|====

[#1000]
=== Sending return rejections to OTTO

Set up an <<automation/event-procedures#, event procedure>> to inform OTTO Market about the rejection of a return.

:table-event-procedure: <<#return-rejection-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[return-rejection-otto]]
.Event procedure to send the rejection of a return to OTTO market
[cols="1,3,3"]
|====
|Setting |Option |Selection

| *Event*
|Select an event, for example *Order change: Status change* +
*_Note:_* Select a status that suits your workflow. For example, you can create the status *[9.12] Reject OTTO return*.
|

| *Filter 1*
| *Order > Order type*
| *Return*

| *Filter 2*
| *Order > Referrer*
| *OTTO Market*

| *Procedure*
| *Plugins > Ablehnung der Retoure an OTTO melden* (Send rejection of return to OTTO)
|
|====


[#1050]
== OTTO Market order management

This chapter informs you how orders are processed at OTTO Market.

[#1100]
=== Order import

OTTO Market orders are imported into plentymarkets with status *[3] Waiting for payment*. After an order was confirmed by OTTO Market, the order changes to status *[5] Shipment process started*. A payment is created for the order in plentymarkets and the order is marked as *paid*. If customers paid an OTTO Market order per bank transfer, it might take longer to confirm the order than for other payment methods. In plentymarkets, the payment method is always *OTTO Payment*. +

If customers do not pay for an order, the order will be cancelled by OTTO Market after some time. A cancellation will be sent to plentymarkets. In plentymarkets, the unpaid order automatically changes to status *[8] Cancelled*.

[#1200]
=== Invoice import

Invoices for OTTO Market orders are generated by OTTO Market and automatically imported into plentymarkets after you sent a shipping confirmation to OTTO Market. Shipping confirmations are sent with the event procedure <<Sending shipping confirmations to OTTO Market, Send shipping confirmation to OTTO>>. The invoice documents can be accessed in the *Receipts* tab of the main order after the shipping confirmation was sent. This means that you cannot create invoices for OTTO Market in plentymarkets. +

OTTO Market creates invoices as soon as an item was shipped. Therefore, invoices are also created for partial deliveries.

[#1400]
=== Credit note import

Credit notes and partial credit notes for OTTO Market orders are generated by OTTO Market and automatically imported into plentymarkets after you sent a returns confirmation to OTTO Market. Once the return has been confirmed, the credit note documents are available in the *Receipts* tab of the order. This returns confirmation is sent with the event procedure *Send return to OTTO*. When you notify OTTO of a return, the components of the individual order items of the refund/return are sent to OTTO. This means that OTTO will refund the complete sales price of any order item. You cannot notify OTTO Market of a partial refund for a particular order item. As such, even if you adjust the price of an order item, this does not affect the refund document that OTTO creates.

Because OTTO Markets creates credit notes when the return of an item is confirmed, credit notes are also generated for partial returns.

[#1300]
== FAQ

[qanda]

Which product title is shown at OTTO Market?::
The product title which is displayed on OTTO Market is composed of the following OTTO Market fields that can be mapped in the catalogue: *Brand* + *Model* + *Specific characteristics* \+ all fields that have the information *Namenbildend* indicated in parentheses.

Why aren't my items being exported to OTTO Market?::
You can find out why some of your items are not exported to OTTO Market and therefore are not available on the online market by looking at the following logs.
+
[.instruction]
. In the *Log*, enter *Otto itemexport* into the *Integration* drop-down list and select *Plenty\\Modules\\Otto\\Item\\Services\\ItemExportService*.
. In the *Level* drop-down list, enter both *warning* and *error* one after the other.
. Open the logs containing the message *Variation invalid*. +
→ In the log, you will receive the variation ID and the reason for the rejection or the missing characteristic. +
*_Tip:_* This example shows variation ID 30170 and the missing productDescription.brand. This means that the manufacturer or the brand is missing.
. Next, search for the variation listed in the *log* to make sure that you will find the correct item. +
*_Tip:_* The manufacturer can be found in the *Global* tab of a variation.
. In the *Audio » Radios* catalogue, the brand *AudioAffairs* is not mapped. This leads to the item being rejected and causes the error message.
. Click on *Add brand* (icon:plus-square[role="green"]) to add the brand *AudioAffairs*.
+
[[filters-item-export-log]]
.Search terms for OTTO Market in the log
[cols="1, 1, 1" grid=none]
|===
a|image::markets/otto/assets/otto-item-export.png[Search terms OTTO market logs]
a|image::markets/otto/assets/level-warning-error.png[Log level]
a|image::markets/otto/assets/variation-id.png[Variation ID]
|===

How can I assign a return package to the correct order in my plentymarkets system?::
An example of a DHL return label is provided below. The label contains all necessary data.
+
[[dhl-return-label]]
.DHL return label
image::markets/otto/assets/dhl-return-label.png[DHL return label]

How do I find OTTO Market orders in my plentymarkets system?::
As this question frequently arises in the plentymarkets forum, a short explanation is provided below.
+
The *PositionID* (example: 715e9369-01e3-4d09-ae91-8688dfa139b2) and the *SalesOrderID* (example: 4245eac7-4647-4f76-8c48-261afb19aa96) are frequently mentioned in the plentymarkets forum. However, these IDs are not relevant for you as seller. You cannot see these IDs. They serve to identify an order and the order positions in the plentymarkets database.
+
Orders with the order referrer *OTTO Market* receive the usual order ID from your plentymarkets system. However, to identify the order, an external order number is saved for the order. With this number, the order can be clearly assigned.
+
Screenshots illustrating how OTTO Market orders are created in plentymarkets and in the *Mein Konto* (My account) area at OTTO Market are provided below.
+
[[otto-market-order-number]]
."Mein Konto” (My account) area at OTTO Market
image::markets/otto/assets/otto-market_order-number.png[OTTO market order number]
+
The order number is saved as external order number at the order in plentymarkets.
+
Find a screenshot of the menu for searching the order with the external order number below:
+
[[otto-market-external-order-number]]
.Searching for the external order number
image::markets/otto/assets/otto-market_search_external-order-number.png[Search external order number]
+
The external order number can be found in the *Settings* tab of an order (*Ext. order number*).
+
[plentymarkets-external-order-number]]
.Searching for the external order number
image::maerkte/otto/assets/plentymarkets_externe-auftragsnummer.png[externe Auftragsnummer in plentymarkets]
+
If customers have further questions concerning an order, you can find an order by searching for the external order number.
+
Additionally, you can use the *Referrer* filter to filter OTTO Market orders.

The log shows an error. How can I solve this error?::
+
* *Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique.*
+
This error is also indicated as “SKU 1234 not generated” or “0:sku” in the log.
+
How SKUs should be generated is defined in the catalogue. There is a distinction between the *Parent SKU* and the *Variation SKU*. The data field selected here should be a data record which exists only once. Hence, it is not possible to use the same SKU for different items. For example, you could use the *Item ID* and the *Variation ID*. Both IDs are generated when the item is created in plentymarkets and only exist once. However, it might happen that the item export is carried out with errors because of missing information in the catalogue. The SKU is created anyway and can now be found in the *Availability* tab of a variation. During the next export, your plentymarkets system will try again to create an SKU from the data fields selected in the catalogue. However, as this SKU already exists, the error “Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique." / “SKU 1234 not generated.” occurs.
+
As such, you need to add a fallback data field to the catalogue. The solution looks like this:
+
[[add-source]]
.Add data field
image::markets/otto/assets/otto-market-add-source.png[Add source]
+
[IMPORTANT]
.Add data field
====
When adding another data field, it is mandatory to use the *Add fallback data field* button (icon:link[role="yellow"]) on the right-hand side of the catalogue.   Do _not_ use the option *Add data field* (icon:plus-square[role="green"]) because in this case, your SKUs would be created twice and the error cannot be resolved.
====
+
This adds a *_second_* data field. During the next export, the first data field will be retrieved first. Because the SKU is already included in this source, the second data field will be ignored. If the first data field does not contain an SKU, then a new SKU will be generated using the second data field.
+
* *Code: 200009 - ATTRIBUTE_CHANGE_DENIED* or *title: Der Wert dieses Feldes kann nicht geändert werden.* (title: The value of this field cannot be changed.)
+
These errors indicate that you changed an OTTO item attribute. However, OTTO does not accept the change and it is not possible the change the attribute for this item. The indicated attribute can relate to a variation attribute or a title attribute. Other OTTO attributes are important here, too.
+
[TIP]
.Items cannot be deleted at OTTO Market
====
An item _cannot be deleted_ at OTTO Market, neither by plentymarkets nor by OTTO. It is only possible to mark the item as *not available* at OTTO Market. Therefore, you should always make sure that the correct data fields are mapped in the catalogue prior to transferring your items.
====
+
* *productDescription.brand*
+
This error indicates that the variation’s brand that should be exported has not been mapped in the catalogue. The brand can be linked to the variation in two different ways:
+
* via the *Manufacturer* setting in an item’s *Global* tab
* via property
+
Make sure that a source is saved for the brand in the catalogue and that the data field is linked to the item.
+
* *mediaAssets.IMAGE*
+
This error indicates that either you did not select a data field as the source in the catalogue or that none of your item images is linked to the referrer *OTTO Market*. To do so, open an item’s *Images* tab and activate the referrer *OTTO market* as described in the <<Setting the availability for images, Setting the availability for images>> chapter.
+
* *delivery.type*
+
This error indicates that the shipping method is not linked. The shipping method can be defined via two different data fields:
+
* via a shipping profile
* via property
+
Make sure that the data field saved in the catalogue is linked to the item. For the shipping profile, activate the shipping profile in the item’s *Global* tab. For the property, activate the property for the desired variation.
+
* *productDescription.category*
+
This error indicates that the category mapping in the catalogue is missing. In the catalogue, check whether at least one category of the desired variation is linked to an OTTO Market category.
+
* Error messages concerning order processing: *Carrier ID (X) not mapped in OTTO market config.*
+
Check whether shipping service providers were linked to OTTO Market. This is done in the *Shipping service provider* step of the *OTTO Market Basic settings* assistant in the *Setup » Assistants » Omni-Channel* menu.
