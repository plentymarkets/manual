= Kauflux
:lang: en
include::{includedir}/_header.adoc[]
:author: team-multi-channel
:keywords: Kauflux, market, marketplace, marketplace Kauflux, kauflux.de, setting up Kauflux, Kauflux setup, multichannel, multi-channel, multi channel, market place, Kauf lux, market Kauflux
:description: Multi-Channel in plentymarkets: Set up the interface to the market Kauflux in your plentymarkets system.
:position: 120
:url: markets/kauflux
:id: GKYZVIJ

link:https://www.kauflux.de/[Kauflux.de^]{nbsp}icon:external-link[] is an open marketplace with independent providers from various fields. Kauflux.de markets your items and services and provides you with direct contact to buyers.

[#100]
==  Registering with Kauflux

You have to register with link:http://www.kauflux.de/konto[Kauflux^]{nbsp}icon:external-link[] before you can set up Kauflux in your plentymarkets system.

[IMPORTANT]
.Install plugins
====
You need the following plugins to send item data to Kauflux: +
link:https://marketplace.plentymarkets.com/en/plugins/sales/marktplaetze/elasticexport_4763[Elastic Export^]{nbsp}icon:external-link[] +
link:https://marketplace.plentymarkets.com/en/plugins/channels/marktplaetze/elasticexportkaufluxde_4737[Kauflux^]{nbsp}icon:external-link[]
====

[#200]
==  Setting up Kauflux in plentymarkets

Carry out the following basic settings in order to transfer item data to Kauflux.

[.instruction]
Setting up Kauflux in plentymarkets:

. Go to *Setup » Markets » Kauflux » Settings*.
. Carry out the desired settings. Pay attention to the explanations given in <<#basic-settings-kauflux>>.
. *Save* (icon:save[role="green"]) the settings.

[[basic-settings-kauflux]]
.Basic settings for Kauflux
[cols="1,3"]
|====
|Setting |Explanation

| *Exchange period*
|Enter the exchange period for the items. The exchange period is specified in days. If you would like to forbid items from being exchanged, then enter the value *0*.

| *Order referrer*
|Select the order referrer for Kauflux.

| *Type of stock management*
|Select whether you would like to transfer your stock and if so, whether you would like it to be *publicly* visible or not.

| *API URL for the order import*
|Kauflux uses this link to transfer orders to plentymarkets. This link is needed for importing orders from Kauflux and not for creating the item catalogue. The item catalogue is created with the elastic export in the *Data » Elastic export* menu. Further information in German can be found on link:https://www.kauflux.de/shop-anmelden/automatischer-auftragsdatenexport[Kauflux^]{nbsp}icon:external-link[].
|====

[#250]
== Activating the order referrer

In order to link items, properties etc. with Kauflux, you have to activate the order referrer *Kauflux* in the *Setup » Orders » Order referrer* menu.

[.instruction]
Activating the order referrer for Kauflux:

. Go to *Setup » Orders » Order referrer*.
. Activate the option *Kauflux*.
. *Save* (icon:save[role="green"]) the settings.

[#300]
== Setting the variation availability

You need to activate all variations that you want to sell on Kauflux. This is done in the *Availability* tab of a variation within the *Item » Edit item »* _Open item_ *» Tab: Variation ID* menu.

[TIP]
.Selling all variations of an item on Kauflux
====
To sell all variations of an item on Kauflux, carry out the settings described below for the main variation. The settings are then passed on to all variations of the item.
====

[.instruction]
Setting the variation availability for Kauflux:

. Go to *Item » Edit item »* _Open item_ *» Tab: Variation ID » Tab: Settings*.
. Open the variation that you want to sell on Kauflux.
. In the *Availability* area, activate the option *Active*.
. Click on the *Availability* tab.
. In the *Markets* area, click in the selection field. +
→ A list of all available markets is displayed.
. Activate the option *Kauflux*.
. Click on *Add* (icon:plus-square[role="green"]). +
→ The market is added.
. *Save* (icon:save[role="green"]) the settings.

[#350]
== Defining SKU manually

:referrer-sku: Kauflux

include::_textblocks/instructions/sku-manually.adoc[]

[#400]
== Defining a sales price

:referrer-price: Kauflux

include::_textblocks/instructions/define-sales-price.adoc[]

[#500]
== Linking characteristics

In order to use properties for the Kauflux market, each characteristic must be linked with Kauflux in the characteristic's settings.

[.instruction]
Linking a characteristic:

. Go to *Setup » Item » Characteristics*.
. Expand the property (icon:plus-square-o[]).
. Activate the option *Kauflux*.
. *Save* (icon:save[role="green"]) the settings.

[#600]
== Linking categories

Go to *Setup » Markets » Kauflux » Category link* to link your online store categories with the categories on Kauflux. You need the Kauflux CSV file for setting up a category link. This file contains the *category IDs* for Kauflux. You can download the link:http://support.expeedo.de/f/kl/kauflux-Kategorien.xls[Kauflux CSV file^]{nbsp}icon:external-link[] from the seller area on the Kauflux website. In the next steps, export a list of categories in your online store, link these categories and then import the category links.

[.instruction]
Exporting links:

. Go to *Setup » Markets » Kauflux » Category link*.
. Click on the *Export link* button. +
*→* A CSV file with your online store categories is generated.
. Open the online store CSV file.

[.instruction]
Entering category IDs:

. Open the Kauflux CSV file.
. For each category in your online store, search for the corresponding *category IDs* in the CSV file from Kauflux.
. Enter the category IDs from the Kauflux CSV file into the *KaufluxCat* column in the exported online store CSV file.
. Save the exported online store CSV file on your computer's hard drive.

[.instruction]
Importing links:

. Go to *Setup » Markets » Kauflux » Category link*.
. Click on *Select file* next to *File*.
. Select the online store CSV file that you saved on your computer's hard drive.
. Click on *Open*.
. *Save* (icon:save[role="green"]) the settings. +
→ The links are imported and displayed in the *Links* area.

[#700]
== Transmitting item data to Kauflux

[IMPORTANT]
.Install plugins
====
You need the following plugins to send item data to Kauflux: +
link:https://marketplace.plentymarkets.com/en/plugins/sales/marktplaetze/elasticexport_4763[Elastic Export^]{nbsp}icon:external-link[] +
link:https://marketplace.plentymarkets.com/en/plugins/channels/marktplaetze/elasticexportkaufluxde_4737[Kauflux^]{nbsp}icon:external-link[]
====

=== Setting up the data format KaufluxDE-Plugin in plentymarkets

By installing this plugin you will receive the export format *KaufluxDE-Plugin*. Use this format to exchange data between plentymarkets and Kauflux.de using the elastic export. You also need to install the Plugin *Elastic export* from the plentyMarketplace first before you can use the format in plentymarkets.

Once both plugins are installed, you can create the export format *KaufluxDE-Plugin*.

[.instruction]
Creating an export format:

. Go to *Data » Elastic export*.
. Click on *New export*.
. Carry out the settings. Pay attention to the explanations given in <<#kauflux-data-format>>.
. *Save* the settings. +
→ The export format *KaufluxDE-Plugin* is given an ID and it appears in the overview within the *Exports* tab. +
*_Note:_* There are no item filters set by default. If you do not set any item filters, all items are transmitted during the export.

[[kauflux-data-format]]
.Settings for the data format *KaufluxDE-Plugin*
[cols="1,3"]
|====
|Setting |Explanation

2+| *Settings*

| *Name*
|Enter a name. The export format is listed under this name in the overview in the
*Exports* tab.

| *Type*
|Select the type *item* from the drop-down list.

| *Format*
|Select *KaufluxDE-Plugin*.

| *Limit*
|Enter a number. If you want to transfer more than 9999 data records to Kauflux, then the output file will not be generated again for another 24 hours. This is to save resources. If more than 9999 data records are necessary, the setting *Generate cache file* has to be active.

| *Generate cache file*
|Activate if you want to transfer more than 9999 data records to Kauflux. We recommend that you do not activate this setting for more than 20 export formats. This is to ensure a high performance of the elastic export.

| *Provisioning*
|Select the *URL*. Use this option to generate a token for authentication in order to allow external access.

| *Token, URL*
|If you selected the option *URL* under *Provisioning*, then click on *Generate token*. The token is entered automatically. The URL is entered automatically if the token was generated under *Token*.

| *File name*
|The file name must have the ending *.csv* or *.txt* for Kauflux to be able to import the file successfully.

2+| *Item filters*

| *Add item filters*
|Select the items you wish to export and transfer. There are no filters set by default. Select an item filter from the drop-down list and click *Add*. It is possible to add multiple item filters from the drop-down list one after the other. +
*Variations* = Select *Transfer all* or *Only transfer main variations*. +
*Markets* = Select one or more order referrers. The selected order referrer has to be active at the variation for the item to be exported. +
*Currency* = Select a currency. +
*Category* = Activate to transfer the item with its category link. Only items belonging to this category will be exported. +
*Image* = Activate to transfer the item with its image. Only items with images will be exported. +
*Client* = Select a client. +
*Stock* = Select which stocks you want to export. +
*Flag 1 - 2* = Select a flag. +
*Manufacturer* = Select one, several or *ALL* manufacturers. +
*Active* = Select *Active*. Only active variations will be exported.

2+| *Format settings*

| *Product URL*
|Choose the URL that you wish to transfer to Kauflux. You can choose between the item’s URL and the variation’s URL. URLs of variations can only be transferred in combination with the Ceres store.

| *Client*
|Select a client. This setting is used for the URL structure.

| *URL parameter*
|Enter a suffix for the product URL if this is required for the export. If you activated the *transfer* option for the product URL further up, then this character string is added to the product URL.

| *Order referrer*
|Select the order referrer that should be assigned during the order import from the drop-down list. The selected referrer
 will be added to the product URL so that sales can be analysed later.

| *Market account*
|Select an market account from the drop-down list.

| *Language*
|Select the language from the drop-down list.

| *Item name*
|Select *Name 1*, *Name 2*, or *Name 3*. These names are saved in the *Texts* tab of the item. Enter a number into the *Maximum number of characters (def. Text)* field if desired. This specifies how many characters are exported for the item name.

| *Preview text*
|Select the text that you want to transfer as preview text. Enter a number into the *Maximum number of characters (def. Text)* field if desired. This specifies how many characters are exported for the item name. Activate the option *Remove HTML tags* if you want HTML tags to be removed during the export. If you only want to allow specific HTML tags to be exported, then enter these tags into the field * Permitted HTML tags, separated by comma (def. Text)*. Use commas to separate multiple tags.

| *Description*
|Select the text that you want to transfer as description. Enter a number into the *Maximum number of characters (def. Text)* field if desired. This specifies how many characters are exported for the description. Activate the option *Remove HTML tags* if you want HTML tags to be removed during the export. If you only want to allow specific HTML tags to be exported, then enter these tags into the field * Permitted HTML tags, separated by comma (def. Text)*. Use commas to separate multiple tags.

| *Target country*
|Select the target country from the drop-down list.

| *Barcode*
|Select the ASIN, ISBN or an EAN from the drop-down list. The barcode has to be linked to the order referrer selected above. If the barcode is not linked to the order referrer, it will not be exported.

| *Image*
|Select *Position 0* or *First image* to export this image. +
*Position 0* = An image with position 0 is transferred. +
*First image* = The first image is transferred.

| *Image position of the energy label*
|This option is not relevant for this format.

| *Stock buffer*
|The stock buffer for variations with limitation to the net stock.

| *Stock for variation without stock limitation*
|The stock for variations that are not limited to stock.

| *Stock for variations with no stock administration*
|The stock for variations without stock administration.

| *Live currency conversion*
|Activate this option to convert the price into the currency of the selected country of delivery. The price has to be released for the corresponding currency.

| *Sales price*
|Select gross price or net price from the drop-down list.

| *Offer price*
|This option is not relevant for this format.

| *RRP*
|Activate to transfer the RRP.

| *Shipping costs*
|Activate this option if you want to use the shipping costs that are saved in a configuration. If this option is activated, then you are able to select the configuration and the payment method from the drop-down lists. Activate the option *Transfer flat rate shipping charge* if you want to use a fixed shipping charge. If this option is activated, a value has to be entered in the line underneath.

| *VAT note*
|This option is not relevant for this format.

| *Item availability*
|Activate the *overwrite* option and enter item availabilities into the fields *1* to *10*. The fields represent the IDs of the availabilities. This overwrites the item availabilities that are saved in the menu *System » Item » Item availability*.
|====

=== Available columns for the export format

<<#kauflux-columns>> shows the columns available for the export file.

[[kauflux-columns]]
.Available columns for the export format
[cols="1,3"]
|====
| *Column name* | *Explanation*

|ProductID
|The item ID of the variation.

|BestellNr
|The SKU of the variation.

|EAN
|According to the format setting *Barcode*.

|Hersteller
|The *name of the manufacturer* of the item. The *external name* saved in the *Setup » Item » Manufacturers* menu is preferred if existing.

|BestandModus
|The *type of stock management*, according to *Setup » Markets » Kauflux » Settings*.

|BestandAbsolut
|The net stock of the variation. If a variation is not limited to its net stock, the stock is set to 999.

|Liefertyp
|Shipment type: V = Versand (Shipping).

|VersandKlasse
|According to the format setting *Shipping costs*.

|Lieferzeit
|The name of the item availability saved in the *Setup » Item » Item availability* or the translation according to the format setting *Item availability*.

|Umtausch
|The exchange period after delivery in days, according to *Setup » Markets » Kauflux » Settings*.

|Bezeichnung
|According to the format setting *Item name*.

|KurzText
|According to the format setting *Preview text*.

|DetailText
|According to the format setting *Description*.

|Keywords
|The keywords of the item.

|Bild1
|URL of the image. Variation images are prioritised over item images.

|Bild2
|URL of the image. Variation images are prioritised over item images.

|Bild3
|URL of the image. Variation images are prioritised over item images.

|Gewicht
|The overall weight in grams.

|Preis
|The sales price of the variation.

|MwSt
|The VAT in %.

|UVP
|The recommended retail price (RRP) of the variation. If the RRP is activated in the format setting and is higher than the sales price, the RRP is exported.

|Katalog1
|The name of the category.

|Flags
|The store special of the item.

|ExtLinkDetail
|The URL path of the item depending on the chosen *client* in the format settings.

|Status
|Status of the item: +
*0* = visible +
*1* = blocked +
*2* = hidden

|FreeVar1
|Free text field 1

|FreeVar2
|Free text field 2

|FreeVar3
|Free text field 3

|InhaltMenge
|The lot of the variation (example: 250).

|InhaltEinheit
|The unit for the lot (example: ml).

|InhaltVergleich
|The comparative amount of the net content quantity for the automatic calculation of a commercial quantity.

|HerstellerArtNr
|The model of the variation.
|====

=== Exporting item data

After you set up Kauflux in plentymarkets, you can export your item data. To do so, go to *Data » Elastic export*.

For an automatic item data export, you have to copy the complete URL and save it at Kauflux. The prerequisites for this are that you have carried out at least one export of your item data manually and that you have assigned the individual fields in Kauflux. Additionally, the automatic item data export from Kauflux has to be activated.

[#800]
=== Exporting variation data

During the export, variation data is exported as additional CSV fields. If you would like to import this CSV or ZIP file into Kauflux, you are asked to map the categories.

[TIP]
.Example
====
The variation fields *colour*, *size* and *length* are displayed in the mapping. For all variation fields, you have to select *GroupParam* as the mapping field so that these fields can be saved as variations on Kauflux.de. The field *GroupID* serves exclusively to identify the items that belong together in a group.
====

[#900]
== Importing orders

Orders from Kauflux can be imported into your plentymarkets system automatically. You have to save the API URL at Kauflux. This URL is found under *Setup » Markets » Kauflux » Settings*. After completing this step, orders are automatically imported into your plentymarkets system and displayed in the *Orders » Edit orders* menu.

[#1000]
== Sending an email when orders are imported

It is possible to send automatic emails when orders are imported into plentymarkets. Go to *Setup » Client »* _Select client_ *» Email » Templates* to create and activate an email template for Kauflux.

[.instruction]
Sending an email when orders are imported:

. Go to *Setup » Client »* _Select client_ *» Email » Automatic*.
. Select the previously created email template for the *New order from Kauflux* option.
. *Save* (icon:save[role="green"]) the settings.

Click on *Edit email template* to access the *Setup » Client »* _Select client_ *» Email » Templates* menu and edit the email template.
