= Checkout
:lang: en
// include::{includedir}/_header.adoc[]
:position: 30

*CMS » Web design » Order process » Checkout*

== Checkout

The checkout is the second step of the order process. The customer lands in the checkout by clicking on the go to checkout button.

[WARNING]
.Legal regulations
====
If your online store is run in Germany, then please make sure that you comply with the legal regulations for the order process that went into effect on August 1st, 2012. Further information can be found in sections 2 and 3. Here you will also find information about the possibilities that plentymarkets provides for you. For further information (in German), refer to our link:https://www.plentymarkets.co.uk/blog/Onlinehandel-in-Deutschland-Buttonloesung-und-neue-Informationspflichten/b-882/[blog^].
====

== Checkout: Editing the design

This section has already been preconfigured. However, you have a wide range of possibilities for changing it.

You can customize the following areas in the *Checkout* menu:

* *Customer registration* +
Here you can select which fields a customer should be required to fill out during the registration process, which fields should be optional and which fields should not be displayed at all. The customer registration is intended e.g. for B2B customers. Use a template function to display the registration.
* *Login* +
Customers land in this area after clicking on the *Go to checkout* button. The customer can then choose to go through the checkout process as a *guest*, to *register* with the online store or to log in to the store if they has already registered in the past. You can use notes to inform the customer about these options.
* *Forgot your password* +
Customers land in this area if they click on the *forgot your password* link within the *login* area (how would you like to proceed to the checkout?).
* *Invoice address* +
Customers land in this area after clicking on *next* within the login area. Different fields will be displayed depending on whether the customer decided to register with your online store or go through the order process as a guest. You can either decide to have the street and house number displayed in 2 lines, i.e. one under the other, or you can decide to have them displayed in one line, i.e. one next to the other. You can also select whether you want to have the ZIP code and city be displayed in one or two lines. Furthermore, you can use CSS to determine e.g. which order the *street* and *house number* should be displayed in. For example, you could create an English layout with the *house number* to the left of the street and a German layout with the house number to the right of the street. Do so by locating the corresponding line in the CSS and replacing *float: left;* with *float: right;*. Be sure to enter the words *house number + street* into the corresponding field so that your customer knows which information to enter. Note the information given further below about additional address information.
* *Delivery address* +
The same fields are displayed as in the *invoice address* area. The fields *Packstation*, *PostIdent No.* and *Packstation No.* will only be displayed if you allow customers to use a Packstation as their delivery address and if the customer selects a shipping method that allows for this. Note the information given further below about additional address information.
* *DHL Postfinder* +
In this submenu, you can configure the settings for DHL Postfinder.
* *Payment method* +
The customer was already given the opportunity to select a payment method in the shopping cart area. As such, you can decide to skip the selection of payment methods in this area. However, be sure to then change how the rest of the headlines are numbered. If you select the option *do not show* and the customer makes so many changes to previous entries that the payment method they selected in the shopping cart is no longer available, then your decision to not show the payment method will be overruled. The customer will automatically land at this step of the checkout process. +
The same is true for the options *bank information*, *MPay 24 credit card*, *MPay 24 Maestro and MPay 24 mobile* since they require the customer to enter additional information.
* *Shipping method* +
The customer was already given the opportunity to select a shipping method in the shopping cart area. As such, you can decide to skip the selection of shipping methods in this area. However, be sure to then change how the rest of the headlines are numbered. If you select the option *do not show* and the customer makes enough changes to previous entries that the shipping method they selected in the shopping cart is no longer available, then your decision to not show the shipping method will be overruled. The customer will automatically land at this step of the checkout process.
* *Order overview* +
Here the customer is once again presented with a summary of the information that they entered. The customer can then submit their order by clicking on the *place order* button. The order will be created in your system. The *order overview* area includes the option *position*. You can use this option to determine which information you want to have displayed first, second, third, etc.

[IMPORTANT]
.Additional address information can not be applied to all shopping service providers
====
This field is intended for additional address entries, e.g. apartment 12 a. These entries can be entered by the customer himself during the order process or in the My account area. Some shipping service providers do not process this field. This means that it will not appear on the label. This can also result in undeliverable shipment.

Additional address information is not transmitted to the following shipping service providers at the moment:

DHL Freight +
DHL Supply Chain +
Swiss Post

You can save or show a note in the areas mentioned in order to inform your customers about this. Or you can hide the field by using e.g. JavaScript.
====

[TIP]
.Tip: Item details
====
Use the *Item* section to determine which information should be given about items. For example, this is important in Germany in light of regulations for consumer protection in e-commerce. Not only can you control the exact wording of item information, but you can also decide which information should be displayed or not (<<image-checkout-submenu-order-overview>> , number 10).
====

[WARNING]
.Button: Place order
====
Please make sure that the button you are using complies with current legal regulations in your country. In Germany e.g. the button text of the *place order button* has to be formulated in such a way that it becomes clear that the customer has to pay. This means that *place order* is not specific enough. The law requires a formulation that could be literally translated as *Order with liability to pay* or something similar in meaning. link:http://www.gesetze-im-internet.de/bgb/__312j.html[The German standard text^] for the *place_order* button was changed in plentymarkets accordingly. Make sure that you stay up-to-date on this topic and ask a legal adviser if you have any questions.
====

== Example: menu settings and their appearance in the online store

We will now describe the procedure based on the *order overview* submenu. You will learn how to edit or delete the elements found within this section.

The elements, which we will describe below, are numbered in <<image-checkout-submenu-order-overview>>. <<image-checkout-implentation-settings-order-overview>> shows you how these elements are displayed in the store's order overview. The same numbers are also used here and correspond to the settings made in <<image-checkout-submenu-order-overview>>.

[[image-checkout-submenu-order-overview]]
.checkout; options in the submenu *order overview*
image::omni-channel/online-store/setting-up-clients/_cms/web-design/editing-the-web-design/order-process/assets/EN-CMS-Web-Design-Order-Process-Checkout-01.png[]

=== Settings in the Order overview submenu

The blue numbers used in <<image-checkout-submenu-order-overview>> are also used in <<image-checkout-implentation-settings-order-overview>>. This allows you to compare the finished store layout with the entries made in the backend. However, numbers 9 is not shown again in <<image-checkout-implentation-settings-order-overview>>. This is because the items shown in <<image-checkout-implentation-settings-order-overview>> are not things that customers can subscribe to. Numbers 12 and 13 are also missing.  If they were used here, then they would be displayed under number 11.

.checkout; options in the submenu *order overview*
[cols="1,3,3"]
|====
|No. |Setting |Explanation

|*1*
|*Title*
|The title that you enter here will appear as the heading of the area.

|*2 - 10*
|*Position*
|The position numbers determine in which order the elements are displayed. If you don't want one of the elements to be displayed in the order overview, then you can hide it by going to the *CSS* section. Enter *{display:none;}* at the appropriate area within the code. +
*Tip:* Conversely, if a particular element is not displayed, then find this element within the code and remove the text *{display:none;}*. +
*_Important:_* Choose position 9 for the *Items* section (or whichever number will cause the items to be displayed directly above the "place order" button at the end of the order overview). This is a legal requirement in some countries. For example, this requirement is part of the so-called "shopping cart solution" in Germany. +
If you made individual changes to the online store's design, then make sure that you assign the position numbers accordingly.

|*10*
|*Item*
|The title that will be displayed for the *item overview* within the order overview.

|*10*
|*Item headlines*
|The titles that will be displayed for the different areas of the *item overview*. +
Change the headlines by simply overwriting the entries in the text fields.

|*10*
|*Item details*
|Place check marks next to the *item details* that you want to have displayed in the order overview. +
*All* of the item details are selected by default. +
You can also use <<item/managing-items#2, properties>> to provide information about items.

|*11*
|*Text after totals*
|The text that you enter will be displayed directly below the order total. +
You can also enter general notes, e.g. regarding additional costs or other important information. If you enter text, then the information will always be displayed regardless of which country the items are being sent to.

|*12*
|*Note for EU deliveries*
|The text that you enter will be displayed directly below the order total. If you entered information for *text after totals*, then the note for EU deliveries will appear below it. +
You can also enter general notes, e.g. regarding additional costs or other important information. This field will only be displayed if the country of delivery is an EU member state. Please keep this in mind when writing the note.

|*13*
|*Note for export shipments*
|The text that you enter will be displayed below the order total. If you entered information for *Text after totals*, then the note for EU deliveries will appear below it. +
You can also enter general notes, e.g. regarding additional costs or other important information. This field will only be displayed if the country of delivery is not an EU member state. Please keep this in mind when writing the note.

|*14*
|*Text above/in front of button*
|Enter a note here e.g. to remind customers to check all of the entries that they made.

|*15*
|*Text behind*
|The text that you enter will be displayed below the order overview.
|====


=== The settings displayed in the online store

[[image-checkout-implentation-settings-order-overview]]
.checkout; implementation of the settings in the submenu *order overview*
image::omni-channel/online-store/setting-up-clients/_cms/web-design/editing-the-web-design/order-process/assets/EN-CMS-Web-Design-Order-Process-Checkout-02.png[]

== Setting up customer registration (B2B)

Seller registration is of particular interest for B2B stores. The seller fills out a form. This creates a customer account. Later on, the shop owner still has to manually assign a customer class to the account so that the seller can make purchases with the desired discount.

The registration can be accessed in the online store by a URL, which is displayed by the template variable *$BaseURL4Links-OrderShowQQCustomerRegistration/* Insert this template variable, instead of a URL, into a link.

[source,xml]

----
<a href="{% Link_CustomerRegistration() %}" title="Registration">REGISTER HERE</a>

----


You can configure the design of the registration page by going to *CMS » Web design » Order process » Checkout* and clicking on the *Customer registration* submenu.

[TIP]
.Tip: Use the template function
====
Alternatively, you can insert the template function *% Link_CustomerRegistration() %}* into the template to open the customer registration. You can find this function by clicking on the *Template variables and template functions* icon (<<image-checkout-template-variables-functions>> , green arrow), clicking on the *General* folder and then on the *PageDesignFunctions* folder.
====

.checkout; *customer registration* submenu
image::omni-channel/online-store/setting-up-clients/_cms/web-design/editing-the-web-design/order-process/assets/EN-CMS-Web-Design-Order-Process-Checkout-03.png[]

In this submenu, you can determine which fields should be *mandatory* for customers to fill out.

[WARNING]
.Telephone number as a mandatory field
====
It is useful to have a telephone number where you can contact customers in case of questions. If a telephone number is not listed, then you will receive an error message for shipments to other countries when transferring data to DHL Intraship. This is because DHL has made the telephone number a mandatory field for foreign shipments.
====

== Image gallery, template variables and template functions

[[image-checkout-template-variables-functions]]
.checkout; template variables and template functions
image::omni-channel/online-store/setting-up-clients/_cms/web-design/editing-the-web-design/order-process/assets/EN-CMS-Web-Design-Order-Process-Checkout-04.png[]

=== Image gallery

Click on the <<omni-channel/online-store/cms#image-gallery, Image gallery>> link (<<image-checkout-template-variables-functions>> , blue arrow) to open the image gallery. Here you can select the images that you want to save in the area.

For further information about inserting images from the image gallery, refer to the table in the <<omni-channel/online-store/cms#web-design-editing-the-web-design-order-process-shopping-cart, Shopping cart>> page of the manual.

=== Template variables and template functions

Click on the icon to access an overview of all the template variables and functions that can be used in this area (<<image-checkout-template-variables-functions>> , green arrow). If you copy the desired template variable or function and paste it, e.g. into a note or the CSS, then the content will be displayed during the checkout process.

[IMPORTANT]
.Example: Displaying prices
====
Template variables such as *$ItemAmountNetDot* are used for displaying numerical values (prices). The last part of the variable, here dot, indicates the separator that is used, e.g. before the amount of cents. You can use these template variables to customize how prices, shipping costs etc. are displayed in a particular language. For example, you could use a comma as the separator for monetary amounts in a German design and you could use a period as the separator for an English design.
====

[WARNING]
.Dot variables
====
If you would like to use these template variables elsewhere for transmitting data, then you have to use the dot variables as only those are suitable for the transfer of data.
====

The template variables and template functions are found under *CMS » Web design*. Click on the icon *Template variables and template functions*. The *Basket* folder contains several other folders. They correspond to the different sections within the checkout area. The available functions and variables are listed.

== Design example

Here you can find a design example and the corresponding CSS code that can be used for your store's checkout area.

=== Displaying the checkout area in tabs

The following CSS code can be used to display different parts of the checkout in tabs rather than in submenus - how they are displayed by default (<<image-checkout-displayed-tabs>>).

[[image-checkout-displayed-tabs]]
.checkout; displayed in tabs
image::omni-channel/online-store/setting-up-clients/_cms/web-design/editing-the-web-design/order-process/assets/EN-CMS-Web-Design-Order-Process-Checkout-05.png[]

The width of the tabs is not saved in the default layout. Rather, it is determined by the following CSS code. Because of this, there is a maximum character length that can be used when creating titles for the tabs. You may need to shorten some of the titles accordingly. The names of the tabs are saved in the submenus under *CMS » Web design » Order process » Checkout*. They can be changed as desired. Make changes to the *Title* fields as necessary (see <<image-checkout-displayed-tabs>>).

[.instruction]
Inserting CSS code for displaying the checkout area in tabs:

. Copy the following code.
. Go to *CMS » Web design*.
. Open the *Layout » CSS » CSSOrder* submenu.
. Insert the code underneath any existing code.
. *Save* the settings.

*Code for displaying the checkout area in tabs:*

[source,plenty]
----
/* TAB CHECKOUT */

/* parent container */
#PlentyOrderCheckoutAccordion {
position: relative;
padding-top: 1px;
}
/* anchors */
#PlentyOrderCheckoutAccordion > a {
position: absolute;
top: 0;
left: 0;
}
/* tabs */
.AccordionTitle {
position: absolute;
top: 0;
white-space: nowrap;
overflow: hidden;
background: #ffffff !important;
border: 1px solid #eeeeee;
border-bottom: 2px solid #CCCCCC;
font-size: 12px;
line-height: 26px;
padding: 5px 10px;
/*text-align: center;*/
}
/* tabs hover */
.AccordionTitle:hover {
background: #f9f9f9 !important;
}
/* individual tabs */
#PlentyOrderWebLoginTitle { left: 0; width: 138px; }
#PlentyOrderWebInvoiceDetailsTitle { left: 140px; width: 158px; }
#PlentyOrderWebShippingDetailsTitle { left: 290px; width: 118px; }
#PlentyOrderWebPaymentMethodTitle { left: 420px; width: 108px; }
#PlentyOrderWebShippingMethodTitle { left: 530px; width: 98px; }
#PlentyOrderWebOrderOverviewTitle { left: 630px; width: 78px; }
/* current tab */
.CurrentAccordionTitle {
background: #cccccc !important;
border: 1px solid #CCCCCC !important;
border-bottom: 2px solid #CCCCCC !important;
}
/* tabs hover */
.CurrentAccordionTitle:hover {
background: #CCCCCC !important;
}
/* content */
#PlentyOrderCheckoutAccordion > .AccordionPane {
margin-top: 43px;
} <font face="Times"<span style="white-space: normal;"
</span></font>
----
