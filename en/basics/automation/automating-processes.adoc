= Automating processes
:lang: en
include::{includedir}/_header.adoc[]
:keywords: Automating processes, Best Practice, Orders
:position: 40

**System » Orders » Events**

== Automating processes

Routine tasks make up a significant portion of the daily business. To a large extent, you can let your plentymarkets system take care of these for you. For example sending emails to your customers or employees is a very time-consuming task that however is absolutely necessary for your business. plentymarkets includes different easy to use and efficient tools that will help you to automate these routine tasks. These tools are e.g. the **event procedures** or the **procedure manager** that will help you to control and enable automatic processes. Practical examples are given to teach you more about the basic functions of event procedures and the procedure manager.

=== Requirements

Certain prerequisites need to be fulfilled before you can automate processes. For example, you need to set up an **Email template** before you can send it with an event procedure. The prerequisites are listed for the practical examples given on this page.

== Event procedures

The basic principle is easy to understand: Similar to a switch function, certain **events** in the online store trigger specific **procedures**. This is controlled with an event procedure. The simplest example is the order confirmation, in which the **event new order** is always followed by the **procedure: emailing**. The email template needs to be selected in the event procedure.

=== Creating an event procedure

The following steps describe the general approach when setting up an event procedure. Further options may be displayed depending on which event was selected. You should not **activate** the procedure until you have finished configuring all of the settings. Of course you can also **deactivate** event procedures by simply removing the check mark. The event procedure will then no longer be carried out. The event procedure will be inactive without deleting it and you can reactivate it at any time.

[.instruction]
Creating an event procedure:

. Go to <<basics/automation/event-procedures#, System » Orders » Events>>.
. Click on the **green plus icon** in the lower left corner to create a **new event procedure**.
. Enter a **name**.
. Select the desired **option** as the **event**.
. If **further options** appear afterward, then select the desired option here as well.
. **Save** the settings. +
→ The event procedure will be created.
. Click on the **green plus icon** to create one or more **filters** of the desired filter type. +
→ The filter will be added.
. Mark the desired **option** in the filter.
. Click on the **green plus icon** to create one or more **procedures** of the desired procedure type. +
→ The procedure will be added.
. Within the procedure, select the desired **option** or carry out the **setting**.
. Place a check mark next to the option **Active**.
. *Save* the settings.

image::basics/automation/assets/ENG-BestPrac-Auftraege-Vorgaenge-automatisieren-01.png[]

__Image 1: configuring an **event procedure**; **procedures** tab__

== Examples: Event procedures

Here are some examples for automatic procedures that are triggered using event procedures. The first examples show you how to automatically send **Email templates**. The next example shows you how to automatically **change the status** of an order.

[TIP]
.Tip: **Email templates**
====
Keep the required **Email template** in mind and set it up before configuring the event procedure.
====

=== Sending an email template to a customer

You can use event procedures to automatically send **__E-mail templates__** to your **__customers__** when certain events occur. Go to **System » Client » Select client » Email » Templates** to set up **Email templates**. You can send your customers:

* **order confirmations** to let them know that you **__received the order__**.
* **messages** if the customer paid the **__wrong amount__**.

==== Sending customers an order confirmation

Proceed as described in section 2.1 to create the event procedure.

The following table shows the necessary **__settings__**:

[cols="1,3"]
|====
|Section |Configuration

|**Event**
|Select the option **Order generation » New order** as the **event**.

|**Filter**
|Add the filter **Order &gt; Order type** and then place a check mark next to **Order**.

|**Procedures**
|Add the procedure **Customer &gt; Send email**. Click on the plus icon to add the desired template, e.g. **confirmation of a store order** and recipient, e.g. the **customer**.
|====

__Table 1: event procedure: **settings** for **order confirmation**__

==== Informing customers about a partial payment

Proceed as described in section 2.1 to create the event procedure.

The following table shows the necessary **__settings__**:

[cols="1,3"]
|====
|Section |Configuration

|**Event**
|Select the option **Payment &gt; Partial payment** as the **event**.

|**Filter**
|Add the filter **Order &gt; Order type** and then place a check mark next to **Order**.

|**Procedures**
|Add the procedure type **Customer &gt; Send email**. Click on the plus icon to add the template, e.g. **partial payment received** for the **customer**.
|====

__Table 2: event procedure: **settings** for **partial payment notification**__

=== Sending an email template to a member of your own staff

You can also use event procedures to send your **__employees__** an **Email template** when certain events occur. You can inform your employees:

* when the customer enters some kind of **__special request or note__** about the order into the My account area of the online store.
* when an order switches to order status **__[5] Cleared for shipping__**.

==== Informing employees about special requests

Proceed as described in section 2.1 to create the event procedure.

The following table shows the necessary **__settings__**:

[cols="1,3"]
|====
|Section |Configuration

|**Event**
|Select the option **Order change &gt; Order note from customer** as the **event**.

|**Filter**
|Add the filter **Order &gt; Order type** and then place a check mark next to **Order**.

|**Procedures**
|Add the procedure type **Customer &gt; Send email**. Click on the plus icon to add the desired template for the **employee**. +
The email will be sent to the selected employee's email address. You can only select email addresses here that were previously saved in the user data in the <<basics/working-with-plentymarkets/manage-users#, System » Settings » User » Accounts>> menu. +
**Tip:** Insert the wildcard character **$CustomerSpecialWishes** into the email template. This wildcard character will display the text entered by the customer.
|====

__Table 3: event procedure: **settings** for **special request notifications**__

==== Informing employees about a change of status

Proceed as described in section 2.1 to create the event procedure.

The following table shows the necessary **__settings__**:

[cols="1,3"]
|====
|Section |Configuration

|**Event**
|Select the option **Order change &gt; Status change** as the **event** and select the status **[5] Cleared for shipping**.

|**Filter**
|Add the filter **Order &gt; Order type** and then place a check mark next to **Order**.

|**Procedures**
|Add the procedure type **Customer &gt; Send email**. Click on the plus icon to add the desired template for the **__employee__**, e.g. **Shipping confirmation of order**. +
The email will be sent to the selected employee's email address. You can only select email addresses here that were previously saved in the user data in the <<basics/working-with-plentymarkets/manage-users#, System » Settings » User » Accounts>> menu.
|====

__Table 4: event procedure: **settings** for **change of status notification**__

=== Changing the order status

You can also use event procedures to automatically change the **status** of your **__orders__**. For example, you can:

* **__Create an invoice__** when the order status changes to **[5] Cleared for shipping** and then give this order status **[6] Currently being shipped** after the invoice was created.

==== Generating invoices and changing statuses

Proceed as described in section 2.1 to create the event procedure.

The following table shows the necessary **__settings__**:

[cols="1,3"]
|====
|Section |Configuration

|**Event**
|Select the option **Order change &gt; Status change** as the **event** and select the status **[5] Cleared for shipping**.

|**Filter**
|Add the filter **Order type** and then place a check mark next to **Order**.

|**Procedures**
|Create the procedure type **Order &gt; Change status** and then select the status **[6] Currently being shipped**. +
Create the procedure type <<order-processing/orders/order-documents#, Documents>> &gt; Invoice**. If needed, activate the options **Payment due** and **Early payment discount**. Carry out the desired settings. Enter a **comment** if needed. +
**Note:** This event procedure will **__only__** generate the invoices. Set up a second event procedure to send your customers the invoice that was just created as an **__E-mail attachment__**. If you set up an event procedure that simultaneously creates and sends the invoice, then the email may accidentally be sent before the invoice was fully created. This is why we recommend that you set up two separate event procedures.
|====

__Table 5: event procedure: **generating invoices** and **changing order statuses**__

[NOTE]
.Automating detailed fulfillment processes
====
You can automate certain fulfillment processes as an alternative to event procedures. Go to **Orders » Fulfillment** to specify which **__fulfillment documents__** should automatically be created for **__orders that have a certain status__**. You can also specify that the **__orders should be set in a different status__** once the documents were created. In this menu you can configure detailed fulfillment processes. For further information, refer to the <<order-processing/fulfilment#, Standard fulfillment in detail>> page of the manual.
====

=== Assigning give-aways to an order

You can use event procedures to give your customers a certain item from your portfolio **__free of charge__** if their purchase reaches a certain value. Detailed instructions on the <<item/_give-aways-free-gifts#, Give-away>> page of the manual describe how this can be done with the help of an event procedure.

== Procedure manager

Use the procedure manager to configure automatic processes that **__will be carried out every day at a previously defined point in time__**. Unlike the event procedures, the processes carried out with the procedure manager are usually not triggered by certain events. Rather, they occur after a specific **__amount of time__** has passed. For example, you could send an automatic payment reminder to all customers that have not paid their invoice within the last 7 days.

=== Configuring a new procedure

The following steps describe the general approach when setting up a **procedure**. Procedures are **__activated__** in the **Settings** tab. However, it may be better to wait and activate the procedure after you have finished configuring the settings. You can **deactivate** procedures by simply removing the check mark. The procedure will then no longer be carried out. The procedure will be inactive without deleting it and you can reactivate it at any time. Proceed as described below to configure procedures.

image::basics/automation/assets/ENG-BestPrac-Auftraege-Vorgaenge-automatisieren-02.png[]

__Image 2: configuring a **new procedure**; **filter** tab__

[.instruction]
Configuring a new procedure:

. Go to <<basics/automation/procedure-manager#, System » Orders » Procedures>>.
. Click on the **New procedure** tab to create a **new procedure**. +
→ The editing menu is composed of these three tabs: **Settings**, **Filter** and **Procedure**.
. Click on the **Settings** tab.
. Set the **__time__** at which you want the procedure to be carried out.
. Enter a **name**.
. Place a check mark next to the option **Active**.
. Click on the **Filter** tab.
. Select the desired filters.
. Click on the **Procedure** tab.
. Select the desired procedure(s).
. *Save* the settings.

== Examples: Procedure manager

=== Reminder / dunning letter for eBay customers

After retrieval, listings from eBay receive either order status **[1] Incomplete data** or **[3] Waiting for payment**. This status depends on the setting selected in the **System » Listings » Checkout** menu. If **status [1]** was assigned, then it can easily be found out whether a customer completed the order process or not. If the customer has successfully completed the order process, the order receives the status **[3] Waiting for payment** or **[5] Cleared for shipping**. The following settings are recommended if you want to send a notification to all customers who have not successfully completed the order process. For further information, refer to the <<omni-channel/online-store/setting-up-clients/order-process#, Checkout>> page of the manual.

Proceed as described in section 4.1 to configure the procedure manager.

The following table shows the necessary **__settings__**:

[cols="1,3"]
|====
|Tab |Setting

|**Settings**
|Set the **time** at which you want the procedure to be carried out. Enter a **name** and place a check mark next to the option **Active**.

|**Filter**
|Select **[1] Incomplete data** as the **status**. Select **Enter the days** from the **Last status change** option. Enter **2** into the field. +
This search will find all of the eBay orders that have been **__in status 1 for exactly two days__**.

|**Procedure**
|Select the **Email template** that you created for this situation from the **Send email template** drop-down.
|====

__Table 6: procedure manager: **settings** for a **reminder/dunning letter for eBay**__

=== Payment reminders

Defaulting customers can be contacted with a similar procedure. Here, we assume the typical situation with the payment method **cash in advance**. An order including this payment method directly receives status **[3] Waiting for payment**.

Proceed as described in section 4.1 to configure the procedure manager.

The following table shows the necessary **__settings__**:

[cols="1,3"]
|====
|Tab |Setting

|**Settings**
|Set the **time** at which you want the procedure to be carried out. Enter a **name**. Place a check mark next to the option **Active**.

|**Filter**
|Under **Status**, select the option **[3] waiting for payment**. Select **Enter the days** from the **Last status change** option. Enter **7** into the field. +
This search will find all of the orders that have been **__in status 3 for exactly seven days__**.

|**Procedure**
|Select the **Email template** that you created for this situation from the **Send email template** drop-down.
|====

__Table 7: procedure manager: **settings** for **payment reminders**__

[TIP]
.Tip: **Procedure variations:**
====
We recommend creating several variations of this procedure. That way, it would be possible to send another, more clearly formulated email a few days later. Again, a few days after that, the next procedure could be executed, which would automatically set the order status to **8**. This would cancel the order irreversibly. This change of status will also cause the stock units reserved for this order to be released again.
====

=== eBay payment reminders

The eBay dispute process can be started with plentymarkets. The customer receives a request for payment via eBay. This process can also be started with the procedure manager. We recommend that you select the filter settings for this procedure according to the settings for the procedure **payment reminder** in the section above. As the procedure, however, select **eBay: start dispute process**.

The dispute process is intended for orders that have been waiting for payment for at least **__4 days__**. In plentymarkets, these orders are referred to as **__outstanding orders__**. Go to <<omni-channel/multi-channel/ebay#, Settings » Markets » eBay » Data exchange>> to view and import these orders. You have to **__import__** these outstanding orders before you can start the dispute process with the procedure manager.

Proceed as described in section 4.1 to configure the procedure manager.

The following table shows the necessary **__settings__**:

[cols="1,3"]
|====
|Tab |Setting

|**Settings**
|Set the **time** at which you want the procedure to be carried out. Enter a **name**. Place a check mark next to the option **Active**.

|**Filter**
|Select **[1] Incomplete data** as the **status**. Select **Enter the days** from the **Last status change** option. Enter **10** into the field. +
This search will find all of the eBay orders that have been **__in status 1 for exactly ten days__**.

|**Procedure**
|Select **Start dispute process** from the **eBay** drop-down list.
|====

__Table 8: procedure manager: **settings** for **eBay payment reminders**__

=== eBay feedback

plentymarkets gives you the possibility to automatically evaluate a purchaser positively after the purchase has been made or when you received a positive evaluation. In order for this to happen you will need to set up a procedure in the **procedure manager** and you will need to save some **feedback texts**. This procedure is the only one that can be set up with the procedure manager that does not depend on a certain point in time but is rather triggered by an event. For further information, refer to the **Automatic feedback** page of the manual.
