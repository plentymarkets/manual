= Managing plugins
:lang: en
include::{includedir}/_header.adoc[]
:keywords: plugins, extensions, features
:description: How to manage plugins in the plentymarkets back end.
:position: 1

Manage and deploy plugins that you purchased on the link:https://marketplace.plentymarkets.com/[**plentyMarketplace**, window="_blank"] or your own developed plugins in the **Plugins** menu. Install new plugins, change the state of existing plugins or delete plugins. Find out how to create your own plugins on **link:http://developers.plentymarkets.com/[plentyDevelopers, window="_blank"]**.

[NOTE]
.Plugin functionalities are extended continuously
====
The plentymarkets plugin module and the possibilities for editing plugins are extended continuously. The number of available plugins will increase over time.
====

toc::[]
[#10]
== Purchasing plugins

**link:http://marketplace.plentymarkets.com/de/[plentyMarketpace, window="_blank"]** is the new platform for distributing software extensions for plentymarkets developed by plentymarkets or external authors. This platform makes plugins easily accessible and ensures that you can benefit from the advantages the new technology offers. Proceed as described below to purchase a plugin.

[.instruction]
Purchasing a plugin:

. Go to **link:http://marketplace.plentymarkets.com/de/[plentyMarketplace, window="_blank"]**.
. Click on **Login**.
. Enter the user name and password. +
→ Use your access data that you also use for the service center.
. Click on **Login**.
. Select a plugin from a category.
. Click on **Buy plugin** in the detail view of the plugin. +
→ The **Checkout** window will open.
. Accept the terms and conditions.
. Click on **Order now**. +
→ The purchased plugin is now available in the **Plugins » Purchases** menu.

[#20]
== Installing plugins

After purchasing a plugin on plentyMarketplace, the plugin will be available in the **Plugins » Purchases** tab where it can be installed.

[.instruction]
Installing a plugin:

. Go to **Plugins » Purchases**. +
→ All plugins purchased on plentyMarketplace will be displayed here.
. Click on **Install plugin** in the line of the plugin. +
→ The **Install plugin** window will open.
. Select the plugin version from the drop-down menu. +
→ The newest plugin version is pre-selected.
.  Click on **Install**. +
→ The plugin will be installed and available in the plugin overview.

[#30]
== Managing plugins

The **Plugins » Plugin overview** menu lists the plugins of the plentymarkets Inbox. In the card view the plugins are displayed in the form of cards. A plugin card contains the following information:

* Status
* Available updates
* Icon
* Name
* Version
* Source
* Author

As an alternative to the card view, you can switch to the table view. The following table explains the information displayed in the columns of this table view.

.Table view of the menu **Plugins » Plugin overview**
[cols="a,a"]
|====
|Column |Explanation

|**Name**
|Name of plugin

|**Version**
|Version of the plugin in the inbox. This version may differ from the version of the plugin deployed in **Stage** or **Productive**. As soon as a new version of a plugin from the source **plentyMarketplace** is available, the **Update** button will be displayed.

|**Active**
|Activate the plugins in Stage or Productive. Activated plugins will only be deployed in the respective mode after clicking on **Deploying plugins in Stage** or **Deploying plugins in Productive**. +
Grey icon = Plugin is not active. +
Blue icon = Plugin is active. The version of the deployed plugin will be displayed.

|**Stage**
|The plugin's status in Stage.

|**Productive**
|The plugin's status in Productive.

|**Source**
|The plugin source, e.g. **Git** or **plentyMarketplace**.

|**Type**
|Plugin type. +
**template** = Plugins that register routes and display template content. +
**export** = Plugins that contain export formats for exporting CSV files.

|**Client**
|Activate the plugin for a client. +
Click on the magnifying glass to display the available clients. +
Select the clients for which you want to deploy the plugin. +
→ Plugins marked as active are deployed for the selected plugins at the next deployment.

|**Added**
|Date on which the plugin was added to the **Plugins » Plugin overview** menu.

|**Author**
|Author of the plugin

|**Procedures**
|**Delete** = Deletes plugins from the list and the plentymarkets Inbox. +
__**Note:**__ Active plugins will stay active in Stage/Productive until the next deployment. +
**Set position** = Sets the order of the plugins in the list and during deployment.
|====

[#40]
== Adding own plugins

As an alternative to the plentyMarketplace, you can add your own plugins to the inbox of your plentymarkets system. Proceed as described below to copy a plugin repository managed via <<plugins/managing-plugins#90., **Git versioning** >> to the plentymarkets Inbox and manage it in the plentymarkets back end.

Add a Git repository to your plentymarkets inbox to benefit from version control and to deploy Git-based repositories. To do so, proceed as described below.

[.instruction]
Adding a Git repository to the plentymarkets Inbox:

. Go to **Plugins » Git**.
. Click on **New plugin**. +
→ The **Settings** window is displayed.
. Enter the login details of the Git repository. Pay attention to the explanations given in table 2.
. Click on **Test connection**. +
→ The connection to the Git repository is verified and established.
. Select the branch of the repository from the drop-down menu.
. **Save** the settings. +
→ The plugin repository is copied to the plentymarkets Inbox and plugin is added to the list. +
→ The plugin is added to the **Git** menu.

[#45]

.Adding Git plugins
[cols="a,a"]
|====
|Setting |Explanation

|**Remote URL**
|Enter the Git repository's URL.

|**User name**
|Enter user name. The user name is part of the user data of the hosting provider (e.g. GitHub) of your Git repository. The user data is only required for adding private repositories. When adding a public repository, enter a value into the field, e.g. **Guest**.

|**Password**
|Enter password. The password is part of the user data of the hosting provider (e.g. GitHub) of your Git repository. The user data is only required for adding private repositories. When adding a public repository, enter a value into the field, e.g. **Guest**.

|**Test connection**
|Verify and establish connection to Git repository.

|**Branch**
|Becomes selectable after the connection to the Git repository is established by clicking on **Test connection**. Select the branch to be copied to the plentymarkets Inbox.

|**Auto fetch**
|Activate to retrieve changes pushed to the Git repository automatically. The changes are retrieved and shown in the commit list, but not merged. +
__**Note**__: The autofetch function can reduce performance slightly.
|====

[#50]
== Deploying plugins

The **Plugins » Plugin overview** menu serves as your inbox for plugins. From the plentymarkets Inbox, you deploy plugins in Stage and/or Productive. Stage provides a preview mode for testing plugins. During deployment in Stage, all plugins activated for the Stage mode are deployed. During deployment in Productive, all plugins activated for the Productive mode are deployed. Plugins deployed in Productive are visible to customers and/or users. The following table illustrates the difference between Stage and Productive.

[#55]

.Stage vs Productive
[cols="a,a"]
|====
|Mode |Explanation

|**Stage**
|Stage provides a preview mode. Deploy plugins in Stage to test them before you publish them by deploying them in Productive. In Stage, you can test a plugin's behaviour or check that any changes you made to the plugin files lead to the expected results. Stage is recommended for plugin development. Plugin resources, e.g. images and CSS files, will be loaded immediately and changes made to the plugin will be displayed after plugin deployment.

|**Productive**
|Plugins deployed in Productive are published for the selected clients. This means that a plugin integrates into your productive plentymarkets system and, depending on the plugin type, is visible to your customers. As such, you should test plugins thoroughly before deploying them in Productive.
|====

You need to deploy the plugins in the following cases:

* New plugins were added.
* Plugins were activated.
* Plugins were updated.
* Plugins were modified.
* Plugins were deactivated.
* Errors were corrected.

[WARNING]
.Read and write permissions to the data base of plugins deployed in Stage
====
Plugins deployed in Stage are in a preview mode. However, with the respective permissions, these plugins can access, change or even delete data in the data base of your productive plentymarkets system. Note that changes made to a plugin in Stage can result in data loss in the live system.
====

Proceed as described below to deploy plugins. Table 4 explains the options of the menu bar you need to deploy plugins.

[.instruction]
Deploying plugins in Stage:

. Go to **Plugins » Plugin overview**.
. Activate or deactivate plugins in **Stage**. +
→ Changes made after the last deployment will be highlighted in the menu bar.
. Point your cursor over the **More** button. +
→ The context menu will open.
. Click on **Select clients**. +
→ The **Select clients** window will open.
. Activate the clients.
. **Save** the settings. +
→ The activated clients will be linked.
. Click on **Deploy plugins in Stage** in the menu bar. +
→ The activated plugins are checked and deploy process is started. +
→ The colour of the icon of deployed plugins changes to green.

[.instruction]
Deploying plugins in Productive:

. Go to **Plugins » Plugin overview**.
. Activate or deactivate plugins in **Productive**. +
→ Changes made after the last deployment will be highlighted in the menu bar.
. Point your cursor over the **More** button. +
→ The context menu will open.
. Click on **Select clients**. +
→ The **Select clients** window will open.
. Activate the clients.
. **Save** the settings. +
→ The activated clients will be linked.
. Click on **Deploy plugins in Productive** in the menu bar. +
→ The activated plugins are checked and deploy process is started. +
→ The colour of the icon of deployed plugins changes to green.

.Options in the menu bar for deploying plugins
[cols="a,a"]
|====
|Setting |Explanation

|**Switch to table view; +
Switch to card view**
|Click to switch between card view and table view.

|**Deploying plugins in Stage**
|Checks all activated plugins and deploys them in the preview mode **Stage**. In this mode, a preview of the active plugins is deployed to allow you to test their functionality. Changes made after the last deployment are highlighted in yellow. +
**__Note__**: All plugins marked as active are compiled sequentially during deployment of plugins in Stage. This may take several minutes. If an error occurs, none of the plugins are deployed.

|**Plugin log (Stage)**
|Overview of deployment processes of plugins in Stage. Failed processes will be highlighted. Errors that occurred during the last deployment of plugins in Stage will be displayed in a list.

|Deploy plugins in Productive
|Checks all plugins and deploys them in the productive mode **Productive**. In this mode, active plugins are run and published. Changes made after the last deployment are highlighted in yellow. +
**__Note__**: All plugins marked as active are compiled sequentially during deployment of plugins in Productive. This may take several minutes. If an error occurs, none of the plugins are deployed.

|**Plugin log (Stage)**
|Overview of deployment processes of plugins in Productive. Failed processes will be highlighted. Errors that occurred during the last deployment of plugins in Stage will be displayed in a list.

|**Switch to Stage; +
Switch to Productive**
|**Switch to Stage** = Change the mode from the productive mode Productive to the preview mode Stage. All plugins deployed in Stage will be displayed when opening the online store in the browser. The plugins are only visible to the users of your plentymarkets system. The mode will be set back to Productive automatically after 120 minutes. +
**__Important:__** The mode of deployed plugins will be changed to the preview mode, the data base, however, will not be changed. With the respective permissions, these plugins can access, change or even delete data in the data base of your productive system. +
**Change to Productive** = Change the mode from Stage back to Productive.

|**Deploy automatically**
|Activate to deploy plugins in **Stage** automatically when updates are available. Plugins must already be active in **Stage**.
|====

[#60]
== Updating plugins

Plugin updates will be shown both on plentyMarketplace and in the plentymarkets back end. For new available versions the **Update plugin** flag will be displayed in the upper right corner of a plugin card in the plugin overview. Proceed as described below to install a new version of a plugin purchased on plentyMarketplace.

[.instruction]
Updating a plugin:

. Go to **Plugins » Plugin overview**.
. Point your cursor over the **More** button. +
→ The context menu will open.
. Click on **Update plugin**. +
→ The **Update plugin** window will open.
. Select the version from the drop-down menu.
. Click on **Update plugin**. +
→ The plugin will be updated to the new version.

[NOTE]
.Updating to an older version not possible
====
When updating a plugin, only newer versions of the plugin can be installed. If you want to reset the plugin to an older version, delete the plugin first and reinstall the plugin with the desired version.
====

[#70]
== Editing plugins

Plugin files can be edited directly in the plentymarkets Inbox. Which files you can edit depends on the plugin type. Proceed as described below to edit plugin files.

[IMPORTANT]
.Users with no programming or layout experience
====
Do not edit the plugin files yourself if you do not have programming and/or layout experience. We recommend that you work with one of our partners to customise layout plugins.
====

[.instruction]
Editing plugins:

. Go to **Plugins » Plugin overview**.
. Double click on the plugin. +
→ The plugin detail view will open in which you can edit the plugin files.
. Carry out the changes as desired.
. **Save** the changes.
. For plugins that are linked to a Git repository, push the changes from the **Git** menu.
. Deploy active plugins again to publish the changes.

[#80]
== Deleting plugins

Delete plugins that are active neither in Stage nor in Productive. Proceed as described below to delete a plugin.

[.instruction]
Deleting plugins:

. Go to **Plugins » Plugin overview**.
. Check the plugin's state in Stage and Productive.
. Point your cursor over the **More** button. +
→ The context menu will open.
. Click on **Delete plugin**. +
→ The **Delete plugin** window will open.
. Click on **Delete plugin**. +
→ The plugin is removed from the list. +
→ The plugin files are removed from the plentymarkets Inbox. +
→ If the plugin is linked to a Git repository, the repository is removed from the list in the **Git** menu.

[#90]
== Viewing the plugin log

Find a history of plugin deployment processes in the plugin log. Each process is listed individually. Detailed information about the last process is displayed in the **Result** column in case the plugin deployment failed. Plugin logs for the preview mode **Stage** and the productive mode **Productive** are listed individually.

[.instruction]
Viewing the plugin log:

. Go to **Plugins » Plugin overview**.
. Click on **Plugin log (Stage)** or **Plugin log (Productive)**. +
→ The plugin log will open.
. In the line of the latest process, click on the **More** button. +
→ The detailed log view will open.

[#100]
== Git based version control

The **Plugins » Git** menu provides a basic Git client. This allows you to version control plentymarkets plugins. plentymarkets version control is based on the distributed version control system **link:https://git-scm.com/[Git, window="_blank"]**. Git allows you to manage changes made to plugin files by yourself or other users in a Git repository.

Version control offers the following advantages:

* Logging: Changes are logged in commits and can be reviewed at any time.
* Recovery: Every version of every file can be recovered. This means that changes can be reverted at any time.
* Cooperation: Several users can work on the same repository simultaneously.
* Troubleshooting: Errors can be located and corrected more quickly.

[TIP]
.Terminology
====
Many plentymarkets users are familiar with other Git clients with an English user interface. Therefore, the **Plugins » Git** menu is only available in English now. The terminology used in the plentymarkets Git client is based on that used by GitHub. Check the **link:https://help.github.com/articles/github-glossary/[GitHub glossary, window="_blank"]** for definitions.
====

[#110]
=== Example workflow

If you are not familiar with Git or similar distributed version control systems, familiarise yourself with the basic concepts of version control before working with the plentymarkets Git client. The **link:https://help.github.com/categories/bootcamp/[GitHub Bootcamp, window="_blank"]** offers a good introduction to version control. To help you understand version control in plentymarkets and to get you started, a basic workflow using Git is described below. This can serve as a model for your own workflows.

. Create a Git repository.
. Save a local copy of the Git repository on your local drive.
. Edit repository files on your local drive. Where applicable, copy any changes made by other users from the Git repository to the version history of your local repository.
. Push local changes to the Git repository.
. Copy the Git repository to the plentymarkets Inbox from the **Plugins » Git** menu.
. Deploy the plugin in Stage.
. Test the plugin in Stage.
. Make any corrections on your local drive and repeat the process described.
. Deploy the finalised plugin in Productive.

[#120]
=== Updating an Inbox repository

Proceed as described below to copy the current version of a Git repository by either **fetching** or **pulling** it to your Inbox repository.

[.instruction]
Copying a Git repository to the Inbox repository:

. Go to **Plugins » Git**.
. Click on the repository.
. Select either **Fetch** or **Pull**. Pay attention to the explanations given in table 5. +
→ The new commits are displayed in the commit list.

.Fetch vs Pull
[cols="a,a"]
|====
|Setting |Explanation

|**Fetch**
|Retrieves the latest commits from the Git repository and saves them without merging them into the Inbox repository. The current version of the repository files in the Inbox remains unchanged. Any changes you made without committing them to the Git repository will not be overwritten.

|**Pull**
|Synchronises the Inbox repository with the Git repository. The current version of the repository files in the Inbox is overwritten with the current version of the Git repository. Any changes you made to the Inbox repository without pushing them to the Git repository will be overwritten after you confirm your selection.
|====

[#130]
=== Retrieving commit information

A list of all the commits of a repository are shown in the **Plugins » Git** menu. The commit that corresponds to the current version of the repository is shown with a check mark. The following table explains the view:

.Git management
[cols="a,a"]
|====
|Setting |Explanation

|**Fetch**
|Retrieves commits from the Git repository but does not merge these changes into the Inbox repository.

|**Pull**
|Retrieves commits from the Git repository and merges these changes into the Inbox repository.

|**Pull to Stage**
|Retrieves commits from the Git repository, merges these changes into the Inbox repository and starts deploying the plugins in Stage.

|**Pull to Productive**
|Retrieves commits from the Git repository, merges these changes into the Inbox repository and starts deploying the plugins in Productive.

|**Push**
|Publishes the changes made to the Inbox repository to the Git repository.

|**Settings**
|<<plugins/managing-plugins#45., **Connection settings** >> of the repository

|**Uncommitted changes**
|Only visible if changes were made to the Inbox repository that have not been pushed to the Git repository.

|**Description**
|Commit message that was entered to describe this commit.

|**ID**
|ID of the commit. Automatically assigned by the system; ID cannot be edited.

|**Information**
|Detailed commit information: +
**Author** = Name of the commit's author. +
**__Tip:__** Link the author's email address to **link:https://en.gravatar.com/[Gravatar, window="_blank"]** (optional). For authors without Gravatar, the Gravatar logo is displayed to the right. +
**Commit ID** = ID of the commit. Automatically assigned by the system; ID cannot be edited. +
**Parent ID** = ID of the previous commit, i.e. of the commit that was modified to create this commit. +
**Description** = Complete commit message.

|**Author**
|Name of the user who saved the commit to the Git repository. This is the user name saved in the Git based version control system (e.g. GitHub, Bitbucket). +

|**Date**
|Date on which the commit was merged into the Git repository.

|**Files**
|Shows the files that were changed in this commit. Click on the file name to view the changes. +
Red = Deletions +
Green = Additions +
If more than one file was changed, click on a different file in the list **File** to view the changes made to that file.
|====

[#140]
=== Setting the Inbox repository to a different commit

Your Inbox contains all versions of the repository that were saved in commits. You can set the Inbox files of a repository to any commit in the commit list. To do so, proceed as follows.

[.instruction]
Setting the Inbox repository to a different commit:

. Open the menu **Plugins » Git**.
. Click on the repository. +
→ The commit that the repository is currently using is shown with a check mark. +
→ A list of all commits is displayed.
. Click on the commit you want to set the repository to. +
→ In the **File** area to the left, a list of the files changed in this commit are displayed. In the bottom right corner, the changes made to the file are displayed. If more than one file was changed, click on a different file in the list **File** to view the changes made to that file.
. Use your mouse to right-click on the commit.
. Click on **Set to selected commit**. +
→ The files of the Inbox repository will be set to this version.
. Deploy the plugins again in Stage or Productive.

