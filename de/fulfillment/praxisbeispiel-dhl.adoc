= Praxisbeispiel: DHL Shipping (Versenden)
:lang: de
include::{includedir}/_header.adoc[]
:keywords: DHL Shipping (Versenden), plugin, DHL Plugin, DHL-Plugin, Plugin DHL
:description: Erfahre, wie du das DHL Shipping (Versenden)-Plugin in plentymarkets einrichtest.
:position: 45
:url: fulfillment/praxisbeispiel-dhl
:id: S6ALNG3

Diese Seite beschreibt, wie du das DHL Shipping (Versenden)-Plugin in plentymarkets einrichtest. Wir gehen die nötigen Schritte durch, damit deine Kunden im Webshop DHL als Versandart auswählen und Du anschließend die Anmeldung über das DHL Shipping erfolgreich durchführen kannst.

== DHL Shipping Plugin kaufen, installieren und bereitstellen

In diesem Kapitel wird beschrieben, wie du das DHL Shipping-Plugin im plentyMarketplace kaufst und es anschließend im plentymarkets Backend installierst und bereitstellst.

=== Kaufen

Als erstes musst du die Grundlage schaffen, um in Zukunft erfolgreich mit DHL zu arbeiten. Hierzu ist es nötig, dass du dir das link:https://marketplace.plentymarkets.com/de/plugins/integration/DHLShipping_4871[DHL Shipping Plugin^] aus unserem plentyMarketplace herunterlädst.

.DHL Shipping Plugin kaufen
image::fulfillment/assets/DHL_Shipping_Plugin_kaufen.png[width=640, height=360]

Das Plugin ist kostenfrei und kann durch einen Klick auf *Zur Kasse* gekauft werden. Bitte folge den weiteren Anweisungen im plentyMarketplace.

=== Installieren

Nachdem du das Plugin gekauft hast, musst du dieses in deinem plentymarkets System installieren. Das Plugin findest du nach dem Kauf im Menü *Plugins » Plugin-Übersicht*. Aktiviere für die Anzeige des neu gekauften Plugins den Filter *Nicht installiert* und bestätige die Suche (icon:search[role="blue"]). Dort musst du das Plugin mit einem Klick auf *Plugin installieren* (icon:download[role="purple"]) installieren.

.DHL Shipping Plugin installieren
image::fulfillment/assets/DHL_Shipping_Plugin_installieren2.png[width=640, height=360]

=== Aktivieren und bereitstellen

Sobald das Plugin installiert ist, musst du es für die spätere Einrichtung noch in deinem Plugin-Set bereitstellen. Hierzu sind folgende Schritte nötig:

Du findest das Plugin in der Auflistung im Menü *Plugin » Plugin-Übersicht*.

Mit einem Klick auf die Weltkugel (icon:globe[]) am Plugin (*Nicht aktiv*) aktivierst du das Plugin. Wenn du eine Änderung an einem Plugin vorgenommen hast, musst du das Plugin-Set für das System bereitstellen. Das machst du mit einem Klick auf *Plugin-Set speichern & bereitstellen* (icon:save[role="green"]). Dieser Vorgang kann einen Moment dauern:

.DHL Shipping Plugin aktivieren und Plugin-Set bereitstellen
image::fulfillment/assets/DHL_Shipping_Plugin_bereitstellen_und_speichern.png[width=640, height=360]

Sollte während oder nach dem Bereitstellungsvorgang eine Fehler auftauchen, erscheint eine Info-Schaltfläche. Mit einem Klick wird dir der Log-Eintrag gezeigt, der auf einen Fehler oder eine Fehlerquelle hinweist. Ist dieser Vorgang erfolgreich gelaufen, wird die Schaltfläche nicht eingeblendet.

.DHL Shipping Plugin bereitstellen Fehler
image::fulfillment/assets/DHL_Plugin_bereitstellen_error.png[width=640, height=360]

.Plugin-Log
image::fulfillment/assets/DHL_Shipping_Plugin_Log_error.png[width=640, height=360]

[NOTE]
.Plugin-Set
====
Beachte bitte, dass das DHL Shipping Plugin für das *Plugin-Set* mit den *Standardmandanten* aktiviert werden muss, damit die Menüpunkte nach dem Bereitstellen angezeigt werden und du die weiteren Einstellungen durchführen kannst.
====

Wie du das Plugin im Detail einrichtest, wird in einem späteren Abschnitt beschrieben.

Doch zunächst musst du einige Einstellungen im plentymarkets Backend vornehmen, bevor du das DHL Shipping-Plugin konfigurierst.

== Lieferländer aktivieren

Da das Plugin jetzt grundlegend verfügbar ist, kannst du die nächsten Schritte in Angriff nehmen. In diesem Teil solltest du dir vorher Gedanken machen, in welche Länder du liefern möchtest. Wenn du die Länder festgelegt hast, kannst du diese im Menü *Einrichtung » Aufträge » Versand » Optionen » Tab: Lieferländer* aktivieren. Diese stehen dann für den nächsten Schritt bereit. Beachte bitte, dass in plentymarkets besondere Regionen wie z.B. Helgoland oder die Kanarischen Inseln als eigenes "Lieferland" einzustellen sind.

Für die Lieferländer hast du folgende Auswahlmöglichkeiten:

[[table-lieferlaender-aktivieren]]
.Optionen für die Anzeige Lieferländer
[cols="1,3"]
|====
|Option |Beschreibung

|Inaktiv
|Das Lieferland ist nicht aktiv.

|Aktiv
|Das Lieferland ist uneingeschränkt aktiv.

|Backoffice aktiv
|Lieferländer mit dieser Eigenschaft sind nur im plentymarkets System und nicht im Webshop sichtbar.

|Lieferant aktiv
|Lieferländer mit dieser Eigenschaft stehen für die Einstellung als Standardlieferland im Menü *Einrichtung » Mandant* » _Mandant wählen_ » *Bestellvorgang » Einstellungen* nicht zur Verfügung.
|====

.Lieferländer aktivieren
image::fulfillment/assets/Lieferlaender_aktivieren.png[width=640, height=360]

== Regionen erstellen

Die aktivierten Lieferländer musst du jetzt in Regionen zusammenfassen. Die Versandregionen findest du im Menü *Einrichtung » Aufträge » Versand » Optionen » Tab: Regionen*. Füge die Länder, für die auch die gleichen Versandkonditionen gelten sollen, in einer gemeinsame Region zusammen.

[TIP]
.Beispiel für unterschiedliche Versandkosten
====
Wenn du für Spanien und Frankreich z.B. 14,90 € Versandkosten verlangen möchtest, dann kommen diese beiden Länder zusammen in eine Region. Soll hingegen für Italien 20,90 € genommen werden, muss dafür eine neue Region erstellt werden.
====

Auf der linken Seite in der Region siehst du alle verfügbaren Lieferländer. Auf der rechten Seite siehst du alle Lieferländer, die bereits mit dieser Region verknüpft sind. Füge nun alle aktiven Lieferländer einer Region hinzu. Bitte beachte dabei, dass jedes Lieferland nur in einer Region vorhanden sein kan.

.Regionen einrichten
image::fulfillment/assets/Regionen_einrichten.png[width=640, height=360]

== Versanddienstleister erstellen

Außer den Lieferländern und den dazu passenden Regionen benötigst du noch den richtigen Versanddienstleister, um eine Brücke zwischen dem Plugin und den Versandprofilen zu schaffen. Den Versanddienstleister konnfigurierst du im Menü *Einrichtung » Aufträge » Versand » Optionen » Tab: Versanddienstleister*.

Hier wählst du einen Namen für den Versanddienstleister aus und wählst aus dem Dropdown-Menü den Dienstleister *DHL Shipping (Versenden)* aus.

.Versanddienstleister erstellen
image::fulfillment/assets/Versanddienstleister_erstellen.png[width=640, height=360]

[NOTE]
.Tracking-URL
====
Außerdem kannst du in diesem Menü bereits die TrackingURL *+http://nolp.dhl.de/nextt-online-public/set_identcodes.do?lang=de&zip=$PLZ&idc=$PaketNr+* für den späteren E-Mail-Versand hinterlegen.
====

== Versandprofil erstellen

Alle Menüpunkte, die du bisher eingerichtet hast, treffen im Versandprofil aufeinander. Hierzu wechselst du in das Menü *Einrichtung » Aufträge » Versand » Optionen » Tab: Versandprofile*. Mit einem Klick auf die Schaltfläche *Neu* (icon:plus-square[role="green"]) erstellst du ein neues Versandprofil und landest direkt im Tab *Base*. Das Tab *Portotabelle* ist erst nach dem ersten Speichern sichtbar.

=== Base

Im Tab *Base* legst du die grundsätzlichen Einstellungen für dein Versandprofil fest.

[[table-feldnamen-versandprofil]]
.Feldnamenbeschreibungen im Versandprofil
[cols="1,3"]
|====
|Feldname |Beschreibung

|Versanddienstleister
|Wähle hier den zuvor angelegten Versanddienstleister aus.

|Name & Name (Backend)
|Wähle hier einen Namen für das Front- und Backend in der jeweiligen Sprache aus.

|Markierung
|Hier kannst du dem Profil eine Markierung geben. (z.B. das DHL Logo)

|Priorität
|Die Priorität bestimmt die Reihenfolge der im Webshop angezeigten Versandprofile.

|Kategorie
|Die Kategorieoption ermöglicht eine zusätzliche Priorisierung der Versandprofile. Ein konkretes Anwendungsbeispiel findest du link:https://knowledge.plentymarkets.com/fulfillment/versand-vorbereiten#1300[hier].

|Artikel Portoaufschlag
|Hiermit kannst du am Artikel hinterlegte Portoaufschläge aktivieren.

|Postident
|Diese Option musst du aktivieren, wenn ein Postident nötig ist. Z.B. bei FSK18 Ware.

|Bei neuen Artikeln aktivieren
|Diese Option aktivieren, damit das Profil immer an neuen Artikeln aktiv ist.

|Nachnahme
|Option aktivieren, damit der Kunde im Ceres-Checkout im Webshop die Zahlungsart Nachnahme wählen kann.

|Inselzuschlag
|Es wird der eingestellte Portoaufschlag bei einer Lieferung zu bestimmten Inseln anhand der definierten Liste in plentymarkets berechnet.

|Mandanten (Shops)
|Hier wählst du die Mandaten aus, welche mit diesem Versandprofil verknüpft sein sollen. Es muss mindestens ein Mandant eingestellt sein, damit das Versandprofil auswählbar ist.

|Auftragsherkunft
|Hier wählst du die Auftragsherkünfte aus, für die dieses Versandprofil frei gegeben sein sollen.

|Gesperrte Zahlungsarten
|Hier wählst du die Zahlungsarten aus, für die das Versandprofil *nicht* auswählbar sein soll.

|Gesperrte Kundenklassen
|Wähle hier die Kundenklassen aus, für die das Versandprofil *nicht* auswählbar sein soll.

|Versandgruppen
|Versandprofile können einer Versandgruppe hinzugefügt werden, damit die Zuweisung von Versandprofilen am Artikel vereinfacht werden kann.

|*eBay*
|

|Konto
|Wähle hier ein eBay Konto aus, falls du eines verknüpfen möchtest.

|Listingtyp
|Auswahlmöglichkeiten: *Alle* = Alle Listingtypen *Auktion* = Nur Auktionen *Festpreis-/Shop Artikel* = Nur Festpreis bzw. Shop Artikel (Shop Artikel nur für Hood)

|Expressversand
|Aktivieren, wenn dieses Versandprofil für einen Expressversand bei eBay genutzt werden soll.

|Treueprogramm
|Hier kannst du ein oder mehrere Treueprogramme wie eBay Plus oder Amazon Prime mit diesem Versandprofil verknüpfen.

|====

=== Portotabelle

Das Tab *Portotabelle* ist erst verfügbar, wenn du das Versandprofil gespeichert hast. In diesem Tab werden die Portotabellen für die jeweiligen vorher eingerichteten Regionen angezeigt. Das heißt, hier legst du die Preise und den Berechnungstypen für die einzelnen Region fest.
Wähle die Berechnungsgrundlage für die Versandkosten aus. Es gibt die Auswahlmöglichkeiten: *Pauschal*, *Gewichtsabhängig*, *Volumenabhängig*, *Mengenabhängig*, *Preisabhängig* und *Artikelporto*.

Je nach Einstellung des Typen musst du die passenden Preise eingeben. Außerdem kannst du für jede Portotabelle angeben, ab welchem Betrag der Versand kostenfrei ist oder dass er z.B. ab 100 € Warenwert statt der pauschal eingestellten 4,99 € nur noch 2,50 € kostet.

Der Beschränkungstyp schränkt das Versandprofil ein. Passe aber auf, dass du mit deinen Versandprofilen einen nahtlosen Übergang ermöglichst, damit z.B. bei einem eingestellten Maximalgewicht von 20 kg in einem Versandprofil und dem Kauf von zwei Artikeln mit je 11 kg, noch ein anderes Versandprofil auswählbar ist und eine Fehlermeldung im Webshop verhindert wird.

Als Standardpaket kannst du ein vorher definiertes Versandpaket hinterlegen. Ein Versandpaket definierst du im Menü *Einrichtung » Aufträge » Versand » Versandpakete*. So kannst du z.B. feste Maße übertragen, wenn du nur eine Paketgröße für den Versand verwendest.

[NOTE]
.Berechnungstypen
====
Bitte beachte, dass du z.B. für die gewichtsabhängige Berechnung auch die Gewichte an den einzelnen Artikeln pflegen musst. Ansonsten ist eine Berechnung nicht möglich.
====

.Berechnungstypen in der Portotabelle
image::fulfillment/assets/Portotabelle_Berechnungstypen.png[width=640, height=360]

[NOTE]
.Portotabelle aktivieren
====
Eine Portotabelle ist erst aktiv, wenn diese gespeichert wurde. Ansonsten siehst du den Hinweis *Region wird im Versandprofil nicht verwendet. Preis eintragen und speichern, um Region zu verwenden. Portotabelle speichern und neu laden, um Versanddienstleister-Einstellungen anzuzeigen.*
====

== Versandprofil am Artikel aktivieren

Im Menü *Artikel » Artikel bearbeiten* im Tab *Global* des Artikels musst du jetzt alle Artikel mit den gewünschten Versandprofilen verknüpfen. Dies kannst du auch über die Gruppenfunktion machen. Achte dabei auf den Haken bei der Option *Alte Versandprofile löschen*, da über die "Versandkonfiguration" nur weitere Versandprofile hinzugefügt werden können.

== DHL Shipping-Plugin konfigurieren

Nachdem die Versandprofile fertig eingerichtet und am Artikel verknüpft sind, kann jetzt das DHL Shipping Plugin final eingerichtet werden:

=== Plugin einrichten

Anschließend wechselst du in das Menü *Einrichtung » Aufträge » Versand » DHLShipping* und findest dort die nachfolgenden Menüpunkte.

*Grundeinstellungen*

In den Grundeinstellungen hinterlegst du bitte die Zugangsdaten, die du für deinen DHL-Benutzer angelegt hast. Außerdem hast du hier die Möglichkeit, eine alternative Telefonnummer und E-Mail-Adresse zu hinterlegen. Wenn eins dieser Felder gefüllt ist, werden nur noch diese Daten und nicht mehr die des Kunden an DHL übermittelt. Die Einstellung am Versandprofil zu *E-Mail und Telefon Übertragen* wird beim Plugin nicht berücksichtigt. Als letztes gibt es hier noch die Checkbox für die nicht-leitcodierbaren Adressen. Wenn der Haken gesetzt ist, nimmt DHL auch nicht-leitcodierbare Sendungen an. Dies kann allerdings bei DHL zu Extrakosten führen. Nähere Informationen dazu kann dir dein DHL Ansprechpartner geben.

[NOTE]
.Gültigkeit der DHL Benutzer
====
Bitte beachte an dieser Stelle, dass es zwei Arten von Benutzern bei DHL gibt. Diese Benutzer haben eine Passwortgültigkeit von 3 oder 12 Monaten. Ist das Passwort abgelaufen, muss dieses bei DHL erneuert und im plentymarkets in den Grundeinstellungen des Plugins hinterlegt werden.
====

*Abrechnungsnummern*

Du erhältst von DHL für jedes deiner gebuchten Services (z.B. DHL Paket National) eine eigene Abrechnungsnummer. Diese ist 14 Stellen lang und wird in 10, 2 und 2 aufgeteilt. Die ersten 10 Ziffern ergeben die EKP und sind für jeden Service gleich. Die nachfolgenden 2 Ziffern kennzeichnen den Service (z.B. 01 für DHL Paket National). Die letzten 2 Ziffern trägst du in das Feld Teilnahme ein.

*Absenderdaten*

Im Bereich der Absenderdaten trägst du bitte deine Daten ein, welche letztendlich auf das DHL Label als Absender gedruckt werden sollen.

*Versandeinstellungen*

Als letztes kommt der wichtigste Schritt: die Versandeinstellungen. In den Versandeinstellungen kommt alles zusammen. Hier wählst du aus, welches Versandprofil mit welcher Versandregion und mit welcher Abrechnungsnummer in Zukunft arbeiten soll. Es ist wichtig, dass du für jedes Profil und jede Region in diesem Profil eine eigene Einstellung hinterlegst. Je nachdem was du für Services bei DHL gebucht hast, kannst du diese auch hier in der Konfiguration hinterlegen. Ein Beispiel hier wäre der Service Nachnahme.
Das Feld *Minimales Paketgewicht für die Übertragung an DHL (in Gramm)* kann genutzt werden, um das Gewicht der Artikel für die Anmeldung zu erhöhen, es muss allerdings ein Gewicht an den Artikeln angegeben sein. Der letzte Punkt in den Versandeinstellungen bezieht sich auf ausländische Sendungen. Für diese ist die Frankatur sowie die Sendungsart ein Pflichtfeld.

Sobald du diese Einrichtung Schritt für Schritt durchgeführt hast, kannst du deine Sendungen über das DHL Shipping-Plugin erfolgreich über einen Prozess und die Aktion *Versand-Center* oder über das Menü *Aufträge » Versand-Center* anmelden. Sollte dennoch einmal ein Fehler auftreten, haben wir im unteren Teil dieser Anleitung einige mögliche Fehlerquellen aufgelistet. Diese können z.B. durch falsche Adressdaten am Auftrag verursacht werden.

[#2400]
=== Plugin-Set nach Aktualisierung erneut bereitstellen

Nachdem du ein Update des Plugins heruntergeladen hast, ist es erforderlich, dass du das Plugin-Set erneut  bereitstellst. Das Herunterladen des Updates allein bewirkt noch nicht, dass die Neuerungen bzw. Änderungen in der neuen Version auch aktiv sind.
