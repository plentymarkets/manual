= Formulare
:lang: de
// include::{includedir}/_header.adoc[]
:position: 10

*System » CMS » Formulare*

== Allgemeine Informationen zu Formularen

In diesem Menü legen Sie Formulare an und bearbeiten sie. Ein Beispiel für ein Formular ist das Kontaktformular in Ihrem Webshop. Dort können Webshop-Besucher ihre Adressdaten eingeben und einen Hinweis oder eine Frage per E-Mail an die jeweils im Menü *System » Mandant » Mandant wählen » E-Mail » Zugangsdaten* hinterlegte E-Mail-Adresse schicken. Ein Formular wird mit der Template-Variable *{% Form(X) %}* in Ihren Webshop eingebunden.

== Ein Formular anlegen

Wenn Sie das Menü öffnen, können Sie direkt ein neues Formular anlegen. Wenn Sie ein Formular durch Klick in der Übersicht *FORMULARE* links oben im Menü geöffnet haben und ein neues Formular anlegen möchten, müssen Sie das Menü zunächst neu laden, um auf die erste Ansicht zurückzukehren.

[[bild-neues-formular]]
.Neues Formular anlegen
image::omni-channel/online-shop/_cms/einstellungen/assets/DE-Einstellungen-CMS-Formulare-01.png[]

[.instruction]
Neues Formular anlegen:

. Öffnen Sie das Menü *System » CMS » Formulare*.
. Nehmen Sie die Einstellungen vor. Beachten Sie dazu <<tabelle-neues-formular>>.
. *Speichern* Sie die Einstellungen. +
→ Das neue Formular ist ggf. erst in der Übersicht *FORMULARE* sichtbar, wenn Sie das Menü neu geladen haben.

[[tabelle-neues-formular]]
.Neues Formular anlegen
[cols="a,a"]
|====
|Einstellung |Erläuterung

|*ID*
|Die ID eines Formulars wird vom System vergeben und kann nicht geändert werden. Die ID wird benötigt, um ein Formular in den Webshop einzubinden.

|*Formularname*
|Einen Namen für das Formular eintragen.

|*E-Mail-Betreff*
|Einen E-Mail-Betreff eintragen. Der Text wird als Betreff in den E-Mails, die durch das Formular versendet werden, angezeigt. Bei Verwendung unterschiedlicher Formulare ist so leicht erkennbar, von welchem Formular eine E-Mail stammt. +
_*Wichtig*_: Wenn das Formular in das Ticketsystem eingelesen werden soll, ist die Angabe des Betreffs Pflicht. Wenn kein Betreff vorhanden ist, wird die E-Mail-Adresse des Kunden nicht am Ticket hinterlegt und dann werden E-Mails u.U. per Ereignisaktion an Ihre eigene Adresse gesendet.

|*CC E-Mail-Adresse*
|Eine E-Mail-Adresse eintragen. Die Einträge des Formulars werden zusätzlich (=CC) an diese Adresse gesendet.

|*Tickettyp*
|Einen Typ wählen, wenn das Formular als Ticket in das System importiert werden soll.

|*Ticketstatus*
|Einen Status wählen, wenn das Formular als Ticket ins System importiert werden soll.

|*Feldname*
|Die Feldnamen für das Formular eintragen, z. B. Firma, Name, Vorname, E-Mail usw.

|*Typ*
|Den *Datentyp* für das Datenfeld wählen. Der Typ bestimmt einerseits, wie das Eingabefeld im Formular dargestellt wird, z.B. als *einzeiliges Eingabefeld*, *mehrzeiliges Textfeld* oder als *Checkbox*. Andererseits erkennt das System durch die Auswahl eines Typs, welche Informationen vom Kunden eingetragen wurden, z.B. E-Mail-Adresse, Vorname, Nachname, Telefon. Dies ist für die Zuordnung der Informationen wichtig.

|*Breite (Pixel)*
|Die Breite des Datenfeldes in Pixeln eintragen.

|*Pflichtfeld*
|Die Einstellung *JA* wählen, um ein Datenfeld als Pflichtfeld zu kennzeichnen. Pflichtfelder werden im Formular durch Fettschrift hervorgehoben.
|====

[TIP]
.E-Mail-Adresse in Formularen
====
Wenn Sie ein Feld *E-Mail-Adresse* in ein Formular einfügen, wählen Sie als *Typ* die Option *Textfeld E-Mail-Adresse*. Dies ist insbesondere auch für die korrekte Zuordnung im Ticketsystem wichtig.
====

== Formular ändern

Um die Einstellungen eines bereits gespeicherten Formulars zu ändern, gehen Sie wie im Folgenden beschrieben vor.

[.instruction]
Formular ändern:

. Öffnen Sie das Menü *System » CMS » Formulare*.
. Wählen Sie das Formular, das Sie ändern möchten, aus der Übersicht *FORMULARE*.
. Nehmen Sie die gewünschten Änderungen gemäß <<tabelle-neues-formular>> vor.
. *Speichern* Sie die Einstellungen.

[IMPORTANT]
.Nach Änderungen Kategorie speichern
====
Wenn Sie das geänderte Formular in einer Kategorie verwenden, müssen Sie auch die Kategorie einmal speichern, damit die geänderten Inhalte aktualisiert werden.
====

== Formular in eine Kategorie einbinden

Formulare werden in zwei Schritten in eine Kategorie eingebunden. Erstens ermitteln Sie die ID des gewünschten Formulars. Zweitens binden Sie den korrekten Platzhalter und Code in die Kategorie ein. Gehen Sie dazu wie folgt vor.

=== ID des Formulars ermitteln

Ein Formular wird über die Template-Variable *{% Form(X) %}* in eine Kategorie eingebunden. Ersetzen Sie dabei X durch die ID des Formulars.

[.instruction]
ID des Formulars ermitteln:

. Öffnen Sie das Menü *System » CMS » Formulare*.
. Wählen Sie das Formular, das Sie ändern möchten, aus der Übersicht *FORMULARE*.
. Die ID finden Sie in der Zeile *ID*.

=== Template-Variable und Code einbinden

Mit einer IF-/ELSE-Abfrage können Sie nach Absenden des Formulars einstellen, dass z. B. die Meldung *"Vielen Dank für Ihre Nachricht"* angezeigt wird. Es folgt ein Beispiel-Code, der dies beinhaltet:

[source,xml]

----
<p>
{% if !$ActionPositivResult %}</p>
<h1>
Kontakt</h1>
<p>
Nehmen Sie Kontakt auf, wir werden Ihre Anfrage umgehend bearbeiten.</p>
<p>
<span>{</span>% Form(X) %}</p>
<p>
{% else %}</p>
<h1>
Vielen Dank für Ihre Nachricht.</h1>
<p>
{% endif %}</p>
----

[.instruction]
Formular und Code einbinden:

. Öffnen Sie das Menü *Artikel » Kategorien*.
. Wählen Sie im Dropdown-Menü *Sprache* die gewünschte Sprache aus, z. B. Deutsch.
. Öffnen Sie nun die gewünschte Kategorie.
. Kopieren Sie den oben angegebenen Code und fügen Sie ihn an der gewünschten Stelle ein.
. Suchen Sie die Template-Variable *{% Form(X) %}* und ersetzen Sie X durch die ID des Formulars.
. *Speichern* Sie die Einstellungen.

== Formulare in weiteren Sprachen anlegen und verknüpfen

Legen Sie Formulare für jede Sprache Ihres Webshop an. Verknüpfen Sie die Formulare mit der Sprachversion der gewünschten Kategorie.

[.instruction]
Formular in weiterer Sprache anlegen:

. Öffnen Sie das Menü *System » CMS » Formulare*.
. Nehmen Sie die Einstellungen gemäß <<tabelle-neues-formular>> vor. +
→ Tragen Sie die Feldnamen in der gewünschten Sprache ein, z. B. Englisch. +
→ Tragen Sie in das Feld *Formularname* einen Namen ein, an dem Sie die Sprache des Formulars erkennen.
. *Speichern* Sie die Einstellungen.

[.instruction]
Formular in weiterer Sprache einbinden:

. Öffnen Sie das Menü *Artikel » Kategorien*.
. Wählen Sie im Dropdown-Menü *Sprache* die gewünschte Sprache, z. B. Englisch.
. Öffnen Sie nun die gewünschte Kategorie.
. Kopieren Sie den Code und fügen Sie ihn an der gewünschten Stelle ein. +
→ Übersetzen Sie den gezeigten Text in die gewünschte Sprache.
. Suchen Sie die Template-Variable *{% Form(X) %}* und ersetzen Sie X durch die ID des Formulars.
. *Speichern* Sie die Einstellungen.
