= FAQ: Erste Hilfe bei Problemen mit dem plentymarkets Client
:lang: de
:keywords: Erste Hilfe, Client, plentymarkets Client, Client-Probleme, Clientprobleme, alles kaputt, SOS Client
:position: 1

Diese Checkliste soll helfen, mögliche Fehlerquellen bei der Arbeit mit dem plentymarkets Client ausfindig zu machen.

== Logfiles auffinden

[.instruction]
Logfiles auffinden

. Starte den plentymarkets Client
. Führe den Prozess so lang aus, bis das Verhalten auftritt
. Öffnet den Ordner der Logs: +
Unter Windows: `C:\Benutzer\"DeinBenutzer"\plentymarkets\plentymarkets`
Unter MacOS: `/Users/"DeinBenutzer"/Library/Application\ Support/plentymarkets`
. Zippe den kompletten Ordner "logs"
. **Nach Aufforderung** durch ein Mitglied der plenty-Crew schicke ihm die Logs per privater Nachricht.

[TIP]
.Wie versende ich private Nachrichten im Forum?
====
https://forum.plentymarkets.com/t/wie-sende-ich-private-nachrichten/3024
====

== Cache-Ordner leeren

Du kannst den Cache-Ordner leeren, indem du im Client auf **Extras -> Cache leeren** drückst.

Wenn der Client nicht startet, kannst du den Cache-Ordner auch lokal leeren bzw. löschen: +
Unter Windows: `C:\Benutzer\"DeinBenutzer"\plentymarkets\plentymarkets\cache` +
Unter MacOS: `/Users/"DeinBenutzer"/Library/Application\ Support/plentymarkets/plentymarkets/cache`

== Der Client startet nicht

Wenn der Client nicht startet, kannst du wie folgt vorgehen:

. Öffne den folgenden Ordner: +
Unter Windows: `C:\Benutzer\"DeinBenutzer"\plentymarkets\plentymarkets` +
Unter MacOS: `/Users/"DeinBenutzer"/Library/Application\ Support/plentymarkets/plentymarkets/`
. Lösche die Datei *browser.conf*. +
→ Der Client kann wieder gestartet werden.

Alternativ kannst du in MacOS den Finder nutzen:

. Öffne den Finder.
. Klicke in der Menüleiste auf **Gehe zu**.
. Wähle **Gehe zu Ordner**.
. Gib den folgenden Pfad ein: +
`~/Library/Application\ Support/plentymarkets/plentymarkets` +
→ In diesem Ordner findest du die Datei **browser.conf**.
. Lösche die Datei *browser.conf*. +
→ Der Client kann wieder gestartet werden.


==== Der Client startet auch nach Löschen der browser.conf-Datei nicht

[.instruction]
Unter Windows:

. Den Ordner *plentymarkets* unter *C:\Programme\* löschen.
. Den Ordner *i4j_jres* unter *C:\Program Files (x86)\Common Files* löschen.
. Den plentymarkets Client neu installieren.


## Log-Level erhöhen

Ab plentymarkets Client Version 222 werden die Logfiles standardmäßig im Loglevel **DEBUG** ausgegeben.

In einigen Fällen reichen die standardmäßig generierten Logfiles nicht aus, um ein Fehlverhalten zu analysieren. Daher kann es vorkommen, dass wir dich bitten, das Loglevel des Clients zu ändern. Dies geht wie folgt:

[.instruction]
Unter Windows:

. Öffne den Installationsordner des plentymarkets Clients. +
→ Standardmäßig ist dies der Ordner: `C:\Programme\Plentymarkets\`
. Öffne mit einem Texteditor die Datei *plentymarkets.config*.
. Ersetze in **LOG_LEVEL=WARN** das **WARN** durch **DEBUG**.
. Speichere die Datei.

[.instruction]
Unter MacOS:

. Öffne den Ordner `/Applications/plentymarkets.app/`.
. Klicke mit der rechten Maustaste auf das Logo und wähle **Paketinhalt anzeigen**.
. Öffne mit einen Texteditor die Datei *plentymarkets.config*.
. Ersetze in **LOG_LEVEL=WARN** das **WARN** durch **DEBUG**
. Speichere die Datei.

== Fehler "Keine Dokumente verfügbar"

In einigen Fällen kann es vorkommen, dass beim Speichern oder Drucken von Dokumenten der Fehler **Keine Dokumente verfügbar** erscheint. Hier liegt die Ursache meist bei einer Domain-Änderung. Konkret bedeutet das: +
Dein System wurde ursprünglich auf einer plentymarkets Test-Domain installiert. Test-Domains haben z.B. das Format `http://irgendwas.plentymarkets-x1.com/`. Wenn du nun eine vollständige Domain an deinem System hinterlegt hast, z.B. `www.deineDomain.de`, ändert sich dadurch nicht automatisch der Login im Client.

Der Login ist dann zwar weiterhin über `http://irgendwas.plentymarkets-x1.com/` möglich, doch beim Abrufen von Dokumenten tritt der Fehler "Keine Dokumente verfügbar" auf.

**WICHTIG** ist das **www** in der URL.
//Versteh ich nicht

[.instruction]
Lösung 1:

. Logge dich aus dem Client aus.
. Lösche in der Login-Maske die Login-URL: +
image::_best-practices/MoCli/Client/assets/client_login-url.png[]
. Wähle unter **URL** den Punkt **Neue URL eingeben**.
. Gib dort die neue URL/Domain ein. +
*_Hinweis:_* Verwende keine URL, die noch einmal weitergeleitet wird.
. Melde dich mit Benutzername und Passwort an.

[.instruction]
Lösung 2 (falls 1 nicht funktioniert):

unter Windows: `C:\Benutzer\"DeinBenutzer"\plentymarkets\plentymarkets\temp` +
`C:\Benutzer\"DeinBenutzer"\plentymarkets\plentymarkets\cache`

unter MacOS:
`/Users/"DeinBenutzer"/Library/Application\ Support/plentymarkets/plentymarkets/temp` +
`/Users/"DeinBenutzer"/Library/Application\ Support/plentymarkets/plentymarkets/cache`

anlegen.
//Was muss man hier machen?

[.instruction]
Lösung 3: Hast du ein gültiges SSL-Zertifikat?

Eine weitere Möglichkeit ist, dass das SSL-Zertifikat deines Systems abgelaufen ist oder du gerade erst ein SSL-Zertifikat bestellt hast.
Dieses SSL-Zertifikat kannst Du über das Service-Center verlängern. Hier hilft temporär die Lösung 1.

== Anti-Viren-Programm

Wenn dein plentymarkets Client plötzlich nicht mehr funktioniert, prüfe, ob dein Anti-Viren-Programm die Verbindung des Clients blockiert. Hierzu kannst du testweise den sogenannten "Echtzeitschutz" deines Anti-Viren-Programmes stoppen. Prüfe dann, ob der Client wieder ordnungsgemäß arbeitet.

Als Ausnahmeregeln solltest Du im Anti-Viren-Programm folgende Pfade unter Windows hinterlegen:

* `C:\Program Files (x86)\Common Files\i4j_jres`
* `C:\Programme\plentymarkets`
* `C:\Benutzer\[DeinBenutzername]\plentymarkets\plentymarkets\`

Derzeit werden uns vermehrt unerwünschte Effekte mit der Anti-Viren-Software *Panda* gemeldet.


== !! Der Client stürzt unter MacOS ab
Derzeit kann es vereinzelt vorkommen, dass der plentymarkets Client unter MacOS abstürzt.
Wir arbeiten hier mit Hochdruck an der Fehlerbeseitigung und haben hierzu bereits den Anbieter des Frameworks mit ins Boot geholt.


Das Verhalten selbst tritt nur beim öffnen von externen Fenstern (z.B. Rechnungsaufruf über Aufträge -> Aufträge bearbeiten) auf.

Hier geht es zu einen Sammelthread zu diesen Thema:
https://forum.plentymarkets.com/t/client-226-crasht-unter-mac-os-beim-popup-von-fenstern/29140/

== Client startet unter Mac mit Fehlermeldung

Beim Starten des Clients auf dem Mac kann der folgende Fehler auftreten:

image::_best-practices/MoCli/Client/assets/client_start_macos.png[]

So gehst du vor, wenn dieser Fehler auftritt:

. Schließe den Client.
. Öffne das Terminal. +
*_Tipp:_* Öffne mit der Tastenkombination *cmd* + *Leertaste* die Spotlight-Suche. +
Gib den Begriff *Terminal* ein. +
Betätige die Return-Taste. +
→ Das Terminal wird geöffnet.
. Gib den Befehl `open $TMPDIR` in das Terminal ein. +
→ Der Finder wird geöffnet und der Inhalt des Temp-Ordners wird angezeigt.
. Lösche den Ordner, der mit `jxbrowser-chromium-` beginnt (z.B. `jxbrowser-chromium-51.0.2704.106.6.10`).
. Starte den Client neu.

== Mein Client ist auf Englisch

Wenn das Menü des Clients auf Englisch angezeigt wird, solltest du den Cache des Client leeren.

[.instruction]
Cache leeren:

. Öffne den Client.
. Klicke auf *Extras*.
. Klicke auf *Cache leeren*.
. Starte den Client neu. +
→ Das Menü des Clients ist wieder auf Deutsch verfügbar.

== !!PDF-Dateien werden im Browser geöffnet

dies kann bei verschiedenen Dokumenten (Artikel Etikett, Rechnung, Lieferschein, usw.) der Fall sein.


Abhilfe schafft hier das korrekte Hinterlegen der Domain.
//wo?
An dem betroffenem Rechner ist die Domain mit http:// statt https:// hinterlegt.
Somit werden auch plentymarkets interne Dokumente im neuen Fenster geöffnet.

Beachte, dass externe Links wie Amazon, eBay etc. immer im Browser geöffnet werden.


== Client startet unter Windows mit Fehlermeldung

Beim Starten des Clients kann der folgende Fehler auftreten:

[source,plenty]
----
java.lang.NoClassDefFoundError: com/teamdev/jxbrowser/chromium/internal/Environment
at com.plentymarkets.host.main.PlentyMarkets.(PlentyMarkets.java:75)
at com.plentymarkets.host.main.PlentyMarkets.getInstance(PlentyMarkets.java:47)
at com.plentymarkets.host.main.PlentyMarkets.main(PlentyMarkets.java:54)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at com.exe4j.runtime.LauncherEngine.launch(Unknown Source)
at com.exe4j.runtime.WinLauncher.main(Unknown Source)
at com.install4j.runtime.launcher.WinLauncher.main(Unknown Source)
Caused by: java.lang.ClassNotFoundException: com.teamdev.jxbrowser.chromium.internal.Environment
at java.net.URLClassLoader.findClass(Unknown Source)
at java.lang.ClassLoader.loadClass(Unknown Source)
at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
at java.lang.ClassLoader.loadClass(Unknown Source)
… 10 more
----

So gehst du vor, wenn dieser Fehler auftritt:

. Schließe den Client.
. Lösche unter `C:\Program Files (x86)\Common Files` den Ordner `i4j_res`.
. Lösche unter `C:\Users\\%Benutzer%\AppData\Local\Temp` alle Ordner, die mit `jxbrowser-chromium` beginnen.
. Lösche unter `C:\Users\\%Benuzter%\plentymarkets\plentymarkets` die Ordner `cache`, `logs` und `temp`.
. Deinstalliere den Client in der Systemsteuerung.
. Lösche unter `C:\Programme` den Ordner `plentymarkets`.
. Lade die neueste  link:https://forum.plentymarkets.com/t/package-package-neuer-client-229-5-package-package/50995[Version des Clients^] herunter.
. Installiere die neueste Version des Clients.
