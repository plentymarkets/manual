= Best Practice: Mandantenverknüpfung ex- und importieren
:lang: de
:keywords: Import, Artikel, Anlage, BestPractice, automatisiert, Mandant, Verknüpfung, Export, Verfügbarkeit
:position: 1

[#Export der Mandantenverknüpfung]
== Export der Mandantenverknüpfung
=== Anlage des Formates im Formatdesigner

Die derzeit verknüpften bzw. aktivierten Mandanten können mit Hilfe des FormatDesigners exportiert werden.
Dafür müsst Ihr unter *Daten >> FormatDesigner* ein neues Format vom Typ *Item* anlegen.

Anschließend könnt ihr die Datenfelder wählen. Ihr solltet für die Zuordnung beim späteren Import die Variation-ID oder Variation-Number (Im Bereich Variation) aufnehmen. Die eigentliche Mandantenverfügbarkeit kann dann innerhalb des Bereiches *VariationClient* hinzugefügt werden. Das Feld heißt *isActive*.


[WARNING]
.Zuordnung bei mehreren Mandanten
====
Wenn mehrere Mandanten vorhanden sind, muss das Feld *isActive* auch mehrfach hinzufgefügt werden und immer dem jeweiligen Mandanten zugeordnet werden.
====

Im Export gibt das Feld bei aktiviertem Mandanten eine 1 aus. Ist der Mandant nicht aktiv, wird ein leeres Feld exportiert.

Nach dem Speichern des Formates, kann es im Elastischen Export eingerichtet werden.

=== Einrichtung im Elastischen Export

Den Export des angelegten Formates richtet man unter *Daten >> Elastischer Export* ein.

Dafür klickt Ihr auf den Button *Neuer Export* und hinterlegt einen Namen, den Typ (In dem Fall Artikel), das angelegte Format, ein Limit und einen Dateinamen.
[TIP]
.Datei direkt als CSV exportieren
====
Wenn man die Datei direkt als CSV downloaden möchte, muss als Suffix beim Dateinamen *.csv* genutzt werden.
====

Nach dem Speichern des Formates, ist die Einrichtung abgeschlossen.



[#Import der Mandantenverfügbarkeit]
== Import der Mandantenverfügbarkeit

=== Anlage des Formates in ElasticSync

Für den Import der Mandantenverfügbarkeit könnt Ihr unter *Daten >> ElasticSync* einen eigenen Sync von Typ Artikel anlegen oder auch die Felder in einen bestehenden Sync einbauen.

Der Abgleich muss über ein variantenspezifisches Feld wie die *Variantennummer* erfolgen

In der Zuordnung des Syncs wählt Ihr im Bereich *Mandant (Shop)* das Feld *Aktiv*. Anschließend fügt ihr über das grüne Plus die gewünschten Mandanten hinzu und drückt zum Zuordnen der Spalte aus der CSV-Datei auf das Stift-Symbol.

Zum Aktivieren wird in der Datei der Wert 1 benötigt, zum Deaktivieren eine 0.

[TIP]
.Mit eigenem Wert arbeiten
====
Ihr könnt in der Zuordnung anstelle einer Spalte in der Datei auch den *eigenen Wert* nutzen und dort *yes* oder *no* für alle Zeilen aus der Datei nutzen.
====



Mehr benötigt Ihr für die Verknüpfung nicht. Der Sync ist damit einsatzbereit und die Mandanten können aktiviert oder deaktiviert werden.
