= Best Practices: UPS
:lang: de
:keywords: UPS, United Parcel Service, Versandanmeldung, Versandabwicklung, Fehler, Fehlermeldung, Fehlercode, 120110, 120101, 120209, 120109, 120500, 120124, 120122, 10001
:position: 40

Hier findest du Best Practices zum Versanddienstleister UPS.

== UPS-Fehlermeldungen

In den Unterkapiteln findet ihr Fehlermeldungen, die von UPS an uns über die Schnittstelle zurückgesendet werden, sowie mögliche Lösungen.

Anmeldedaten und die Antwort mit eventuellen Fehlermeldungen können für zwei Wochen im Menü **Daten » API-Log » Tab: Versand Center API-Log** abgerufen werden. In der Spalte ganz rechts wird mit einem Klick auf **Anfrageprotokoll öffnen** ein Fenster geöffnet, das die Anmeldedaten anzeigt. Ein Klick auf *Antwortprotokoll öffnen* öffnet ein Fenster mit der Rückmeldung von UPS.


.Versand-Center API-Log
image::_best-practices/auftragsabwicklung/fulfillment/assets/Versand_Center_API_Log_UPS.png[]


=== Keine Auftragsdaten vorhanden

Diese Fehlermeldung deutet darauf hin, dass der Versanddienstleister und/oder das Versandprofil am Auftrag nicht zu der versuchten Anmeldung passt. Z.B. nachdem der Versanddienstleister am Auftrag geändert wurde, jedoch nicht das passende Versandprofil ausgesucht wurde.

Screenshot aus Testsystem:

image::_best-practices/auftragsabwicklung/fulfillment/assets/Versandprofil_UPS.png[]

Eine andere Ursache wäre, wenn das Standardversandprofil am Auftrag hinterlegt wurde, weil kein gültiges gefunden wurde. Es würde bei der Bearbeitung des Versandprofils "Kein Wert gefunden" angezeigt werden.

=== 120110 (Hard): Missing or invalid Shipper AttentionName oder 120101 (Hard): Missing or invalid Shipper Name

Wie andere Versanddienstleister auch benötigt UPS **Absenderdaten**. Diese sind jedoch nicht in den Einstellungen zum Versanddienstleister selbst "zu finden", sondern sind im Menü **System » Aufträge » Versand » Dienstleister » Einstellungen** für die benötigten Lager anzugeben. **Shipper AttentionName** ist die Kontaktperson, **Shipper Name** die Angabe für Firma.



=== 120209 (Hard): Missing or invalid Ship to phone number

Die Telefonnummer des Empfängers wird bei internationalem Versand benötigt und darf nicht fehlen. Über die Schnittstelle wird jedoch auch für den Versand **innerhalb Deutschlands** eine Telefonnummer gefordert, auch wenn es z.B. über das UPS-Backend selbst nicht der Fall ist.



=== 120109 (Hard): Missing or invalid shipper phone number

Die Telefonnummer des Absenders darf nicht fehlen. Das für den Auftrag gewählte Lager wird unter **System » Aufträge » Versand » Dienstleister » Einstellungen** nicht das geforderte Feld ausfüllt haben. Dieses müsste in diesem Menü nachgepflegt werden. Beachtet bitte, dass dies die "erste" Meldung sein kann, die wir zurückerhalten und daraufhin die weiteren Felder geprüft werden. Firma und Ansprechpartner müssen ebenfalls ausgefüllt sein, wie oben für Fehlercode 120110 und 120101 geschrieben wurde.




=== 120500 (Hard): Missing or invalid service code

In diesem Fall sollte die Portotabelle des Versandprofils geprüft werden. Es kann kein Service übertragen werden, wenn die Portotabelle einer Region nicht gespeichert wurde. Erkennbar ist dies an dem Hinweis:

`Region wird im Versandprofil nicht verwendet. Preis eintragen und speichern, um Region zu verwenden. Portotabelle speichern und neu laden, um Versanddienstleister-Einstellungen anzulegen.`

Screenshot aus Testsystem:

image::_best-practices/auftragsabwicklung/fulfillment/assets/Portotabelle_UPS.png[]





=== 120124 (Hard) : The requested service is unavailable between the selected locations

Sollte der gewählte UPS Service in der **Portotabelle** nicht für die Länder von Versender und Empfänger erlaubt sein, erscheint diese Fehlermeldung. Als Standardeinstellung wird der erste Wert für **UPS Services** beim Speichern der Portotabelle ausgewählt, welcher nicht unbedingt zulässig für bestimmte Länderkombinationen ist. Welche gültig sind, sollten bei UPS erfragt werden.



=== 120122 (Hard): Invalid Shipper ShipperNumber

Hierzu sind uns zwei Ursachen bekannt, die zu der Meldung führen:

1. Die im Menü **System » Aufträge » Versand » Dienstleister » UPS** angegebene Kundennummer ist falsch.
2. Die im Menü **System » Aufträge » Versand » Dienstleister » UPS** angegebene Kundennummer wurde von UPS noch nicht verifiziert.



=== Code 1 : Der Vorgang konnte nicht korrekt durchgeführt werden. Bitte Dateneingabe prüfen. 10001: The XML document is not well formed

Hier befindet sich die Ursache in den Daten, die übermittelt werden und die Datei "nicht gültig" machen. Es ist z.B. möglich, dass der direkte Login zu UPS funktioniert, die Schnittstelle jedoch strikter handelt. So könnten im Menü **System » Aufträge » Versand » Dienstleister » UPS** Sonderzeichen und/oder Umlaute im Benutzernamen oder Passwort mit angegeben worden sein. Dies müsste entsprechend angepasst werden.
Versuche danach bitte die Anmeldung erneut.
