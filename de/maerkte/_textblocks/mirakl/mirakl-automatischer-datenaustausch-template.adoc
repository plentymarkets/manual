
Auf dieser Seite lernst du, wie du mit Hilfe eines Assistenten einen Katalog für den Artikelexport erstellst und wie du die Datenfelder im Katalog zuordnest, um deine Produkt- und Angebotsdaten korrekt an den Marktplatz zu übertragen. Anschließend musst du nur noch die Variantenverfügbarkeit einstellen und den Katalogexport aktivieren.

[#allgemeine-informationen]
== Informationen zum automatischen Datenaustausch

Nachdem du das Plugin installiert und eingerichtet hast, stehen die in <<#datenaustausch-{market}>> automatisierten Prozesse bereit:

[#datenaustausch-{market}]
[cols="1,3a"]
.Häufigkeit des Datenaustauschs
|====
|Daten |Intervall

2+| Artikeldaten

| Artikelexport
| Täglich

| Bestandsabgleich
| Alle 15 Minuten

| Preisabgleich
| Alle 15 Minuten

2+| Auftragsdaten

| Auftragsimport
| Alle 15 Minuten

|====



[#artikelexport-katalog]
== Artikelexport einrichten

Artikeldaten werden über Marktplatz-Formate zu {market} übertragen. Kataloge erstellst du im Menü *Daten » Kataloge*. Du arbeitest zum ersten Mal mit den Katalogen? Dann solltest du dich zuerst <<daten/daten-exportieren/kataloge-verwalten#, mit dem Prinzip der Kataloge vertraut machen>>.

Für jede Produktkategorie von {market}, in der du Produkte verkaufen möchtest, erstellst du einen eigenen Katalog. Verknüpfe anschließend im Marktplatz-Format die von {market} vorgegebenen Felder mit den in plentymarkets gespeicherten Artikeldaten. Die Katalog-Vorlagen werden automatisch täglich zu {market} exportiert, wenn du den Katalog aktivierst.

[IMPORTANT]
.Fehler-Log
====
Wenn es beim Export Probleme gibt, findest du die zugehörigen Log-Einträge auf Mirakl und nicht im Log von plentymarkets.
====

[#katalog-im-assistenten]
=== Katalog im Assistenten erstellen

Gehe wie im Folgenden beschrieben vor, um einen Katalog im Assistenten zu erstellen.

:catalogue-assistant-name: {market}-Katalog
:number-of-boxes: Info-Box
:mapping-fields: die
:catalogue-path: pass:quotes[*Einrichtung » Assistenten » Plugins » [Plugin-Set wählen]*]
:catalogue-note: pass:quotes[Achte darauf, eine Kategorie der untersten Ebene zu wählen. Eine bessere Übersicht findest du auf Mirakl im Menü *Mein Konto » Meine Produktdaten-Einstellungen*.]

include::../../_textblocks/instructions/catalogue-assistant-config.adoc[]

// Je nach Umfang des Assistenten entweder eine einzige ausklappbare Box oder eine ausklappbare Box pro Schritt im Assistenten.

////
[.collapseBox]
.Erläuterungen zu den Optionen des Assistenten
--
[[table-{market}-catalogue-assistant]]
[width="100%"]
[cols="1,2a"]
|======
|Einstellung |Erläuterung

| Einstellungen
| Wähle die Kategorie, in der du deine Artikel auf {market} verkaufen möchtest. Gib dann einen Namen für die zugehörige Kategorie in plentymarkets ein. +
{catalogue-note}

|======
--
////

[#datenfelder-zuordnen]
=== Datenfelder im Katalog zuordnen

Nachdem du einen Katalog erstellt hast, ordnest du die Datenfelder des Marktplatzes den in plentymarkets gespeicherten Artikeldaten zu. Informationen dazu, welche Daten für welches Datenfeld des Marktplatzes übertragen werden müssen, findest du in der Dokumentation des Marktplatzes.

[TIP]
.Eigenschaften verwenden
====
Verwende <<artikel/artikel-verwalten#4800, Eigenschaften>>, um Werte für Marktplatz-Datenfelder zu übergeben, für die es keine Entsprechung in plentymarkets gibt.
====

include::../../_textblocks/instructions/katalog-datenfelder-zuordnen.adoc[]

ifeval::["{market}" == "Conrad"]
include::./conrad-spezial.adoc[tag=zuordnung-datenfelder]
endif::[]

ifeval::["{market}" == "Mediamarkt"]
include::./mediamarkt-spezial.adoc[tag=zuordnung-datenfelder]
endif::[]

ifeval::["{market}" == "Voelkner"]
include::./voelkner-spezial.adoc[tag=zuordnung-datenfelder]
endif::[]

// Grundpreisangabe wird überarbeitet - Oskar gibt Bescheid (Stand: 05.03.2021)
//ifeval::["{market}" == "Conrad"]
//include::./conrad-spezial.adoc[tag=datenfelder-grundpreisangabe]
//endif::[]

//ifeval::["{market}" == "Voelkner"]
//include::./voelkner-spezial.adoc[tag=datenfelder-grundpreisangabe]
//endif::[]

[#weitere-eigenschaften]
=== Weitere Eigenschaften erstellen

Wenn du für eine oder alle deine Varianten mehrere <<artikel/einstellungen/attribute#, Attribute>> definiert hast, erstelle eine Eigenschaft, die diese Attribute vereint. Unterscheidest du bei einer Variante z.B. sowohl nach Farbe als auch nach Größe, legst du eine Eigenschaft mit der Benennung "Grau XL" an. <<artikel/einstellungen/eigenschaften#1400, Ordne diese Eigenschaften>> den entsprechenden Varianten zu.

Zusätzlich zu den <<maerkte/conrad/erste-schritte#eigenschaften-erstellen, zuvor beschriebenen Eigenschaften>> benötigst du Eigenschaften für alle Datenfelder des Marktplatzes, für die du Daten übergeben möchtest, die es standardmäßig in plentymarkets nicht gibt. Welche Eigenschaften du benötigst, siehst du anhand der Datenfelder im Katalog. Du arbeitest zum ersten Mal mit Eigenschaften? Weitere Informationen findest du auf der Artikel-Handbuchseite zum Thema <<artikel/einstellungen/eigenschaften#500, Eigenschaften>>.

[#varianten-mit-katalog-kategorie-verknüpfen]
== Varianten mit {market} Katalog-Kategorie verknüpfen

Nachdem du mit dem Assistenten *{assistant-name} Catalog* oder manuell ein Marktplatz-Format für {market} erstellt hast, wird in deinem plentymarkets System die Eigenschaft *{market}* erstellt. Für jede Kategorie, die du im ersten Schritt *Einstellungen* des Assistenten wählst, wird die gewählte Kategorie als neuer Auswahlwert zur Eigenschaft *{market} Kategoriegruppe* hinzugefügt. Damit deine Varianten im gewünschten Katalog exportiert werden, müssen sie im *Tab: Eigenschaften* einer Variante mit der Eigenschaft *{market} Kategoriegruppe* verknüpft werden.

[.instruction]
Variante mit Kategorie verknüpfen:

. Öffne das Menü *Artikel » Artikel bearbeiten » [Artikel öffnen]*.
. Wechsele in das *Tab: Varianten*.
. Öffne die Variante, die du verknüpfen möchtest.
. Wechsele in das *Tab: Eigenschaften*.
. Wähle im Bereich *Varianteneigenschaften* aus der Dropdown-Liste *Eigenschaften* die Eigenschaft *{market} Kategoriegruppe* und klicke auf *Hinzufügen* (icon:plus-square[role="green"]). +
→ Die Eigenschaft wird hinzugefügt.
. Wähle für die Eigenschaft *{market} Kategoriegruppe* aus der Dropdown-Liste *Wert* die gewünschte Kategorie. +
→ Die Variante wird im zugehörigen Katalog exportiert. +
*_Beispiel:_* Wählst du den Wert *{category-example}*, wird die Variante im Katalog für die Kategorie *{category-example}* exportiert.
. Wiederhole die Schritte 5 und 6 für alle Kategorien, in denen du die Variante verkaufen willst.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

[discrete]
=== Weitere Möglichkeiten zum Verknüpfen

* per Import: Über *Einrichtung » Einstellungen » Eigenschaften » Konfiguration* die Eigenschaft *{assistant-name} Kategoriemapping* aufrufen und auf Werte klicken. Dort sind die Auswahlwert-IDs, die für den Import notwendig sind, zu finden.
* per REST-API: Verwende dazu die REST-Routen aus den Bereichen link:https://developers.plentymarkets.com/en-gb/plentymarkets-rest-api/index.html#/Property[Property^] und link:https://developers.plentymarkets.com/en-gb/plentymarkets-rest-api/index.html#/Item[Item^], um den Katalog mit der Variante zu verknüpfen. +
*_Hinweis_*: Steht im Assistenten *{assistant-name} Catalog* keine Marktplatzkategorie zur Auswahl, dann ist im Assistenten *{assistant-name}* im Schritt *Authentifizierung* ggf. die falsche API-Umgebung ausgewählt.

[#eigenschaften-mit-varianten-verknuepfen]
==== Eigenschaften mit Varianten verknüpfen und Werte speichern

include::../../_textblocks/instructions/properties-link.adoc[]

[#{market}]
=== Katalogexport aktivieren

:interval: täglich
:market: {market}

include::../../_textblocks/instructions/catalogue-activation.adoc[]

[#marktplatzspezifische-werte]
=== Markplatzspezifische Werte übertragen

Der Marktplatz verlangt für die Übertragung von Produktdaten bei den meisten Attributen spezifische Werte. Diese sind derzeit allerdings noch nicht in dieser Form an der Variante hinterlegt. +
*_Beispiel:_* Für das Attribut *Brand* ist beispielsweise *test* nicht erlaubt. Hier muss der entsprechende Code übergeben werden - in diesem Beispiel *BRAND_12345678*.

ifeval::["{market}" == "Mediamarkt"]
include::./mediamarkt-spezial.adoc[tag=mediamarkt-support]
endif::[]

//Bei Conrad & Voelkner wird ab hier das “Attribut-Hilfetool” erklärt und die URL genannt:

ifeval::["{market}" == "Conrad"]
include::./conrad-spezial.adoc[tag=attributsuche-tool]
endif::[]

ifeval::["{market}" == "Voelkner"]
include::./voelkner-spezial.adoc[tag=attributsuche-tool]
endif::[]

=== Gültige Attributwerte zuordnen und übertragen

Hast du - je nach Variante, die übertragen werden soll - unterschiedliche Attributwerte, die gültig sein könnten, stellt sich zunächst die Frage, über welche Vorgehensweise du deine Artikeldaten aktuell hältst.
Verwaltest du deine Artikeldaten manuell, ist eine Eigenschaft vom Typ *Auswahl* empfehlenswert. Hier kannst du für die Auswahl eine Beschreibung hinterlegen. Diese wird dann in der Übersicht der Eigenschaften an der Variante angezeigt.
Wenn der Code der Eigenschaft zugeordnet wurde, kannst du den realen Namen der Variante im Feld *Beschreibung* verwenden. Das bedeutet, über den Katalog wird dann der Code übertragen und dahinter in Klammern der reale Name angezeigt. +

*_Tipp:_* Wenn du für ein Attribut immer nur einen einzigen Wert übertragen möchtest, z.B. als Marke immer *BRAND_12345678*, kannst du die Option *Eigener Wert* im Katalog verwenden. Wenn die Eigenschaftswerte per Import oder REST-API verwaltet werden, ist es empfehlenswert, die Eigenschaft vom Typ *Kurztext* zu wählen.

ifeval::["{market}" == "Mediamarkt"]
include::./mediamarkt-spezial.adoc[tag=vorhandene-angebote-nicht-ueberschreiben]
endif::[]


[#produktdaten-ubertragen]
== Produktdaten übertragen

In diesem Kapitel erfährst du, wie du Produktdaten an den Marktplatz überträgst und welche Voraussetzungen erfüllt werden müssen. Diese Daten kommen aus dem von dir erstellten Katalog *{assistant-name} Catalog*.

ifeval::["{market}" == "Conrad"]
include::./conrad-spezial.adoc[tag=voraussetzungen-produktdaten-uebertragen]

include::./conrad-spezial.adoc[tag=box-angebotsfelder-produktexportfeld]

include::./conrad-spezial.adoc[tag=produktdaten-aktualisieren]
endif::[]





ifeval::["{market}" == "Voelkner"]
include::./voelkner-spezial.adoc[tag=voraussetzungen-produktdaten-uebertragen]

include::./voelkner-spezial.adoc[tag=box-angebotsfelder-produktexportfeld]

include::./voelkner-spezial.adoc[tag=produktdaten-aktualisieren]

include::./voelkner-spezial.adoc[tag=ean-abgleich]
endif::[]





ifeval::["{market}" == "Mediamarkt"]
include::./mediamarkt-spezial.adoc[tag=voraussetzungen-produktdaten-uebertragen]

include::./mediamarkt-spezial.adoc[tag=werte-uebertragen]

endif::[]


[#angebotsdaten-uebertragen]
== Angebotsdaten übertragen

In diesem Kapitel erfährst du, wie du Angebotsdaten an den Marktplatz überträgst und welche Voraussetzungen erfüllt werden müssen. Diese Daten kommen aus dem von dir erstellten Assistenten *{assistant-name}*.

ifeval::["{market}" == "Conrad"]
include::./conrad-spezial.adoc[tag=voraussetzungen-angebotsdaten-uebertragen]

include::./conrad-spezial.adoc[tag=box-angebotsfelder-produktexportfeld]

endif::[]

ifeval::["{market}" == "Voelkner"]
include::./voelkner-spezial.adoc[tag=voraussetzungen-angebotsdaten-uebertragen]

include::./voelkner-spezial.adoc[tag=box-angebotsfelder-produktexportfeld]

endif::[]



ifeval::["{market}" == "Mediamarkt"]
include::./mediamarkt-spezial.adoc[tag=voraussetzungen-angebotsdaten-uebertragen]
endif::[]


// Weitere Datenfelder, die bei der Angebotsübertragung übermittelt werden (bullet points):

ifeval::["{market}" == "Conrad"]
include::./conrad-spezial.adoc[tag=weitere-datenfelder-angebotsuebertragung]
endif::[]

ifeval::["{market}" == "Voelkner"]
include::./voelkner-spezial.adoc[tag=weitere-datenfelder-angebotsuebertragung]
endif::[]

ifeval::["{market}" == "Mediamarkt"]
include::./mediamarkt-spezial.adoc[tag=weitere-datenfelder-angebotsuebertragung]
endif::[]


[#variantenverfuegbarkeit]
== Variantenverfügbarkeit einstellen

:market-availability: {market}
:option-availability: {market}
:conrad-variantenverfuegbarkeit-aktivieren:
:mirakl-herkunft:

include::../../_textblocks/instructions/variantenverfuegbarkeit.adoc[]

// Beachten: Bei manchen Marktplätzen muss zusätzlich zum Marktplatz auch die Web-API aktiviert werden. Dann :web-api: angeben, damit der Text ausgegeben wird.
