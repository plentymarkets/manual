= OTTO Market
:lang: de
include::{includedir}/_header.adoc[]
:keywords: OTTO Market, OTTO, Otto einrichten, Marktplatz, Otto-Assistent, Otto Assistent, Otto-Kategoriegruppe, Otto Kategoriegruppe, Otto Marktplatz
:description: Multi-Channel in plentymarkets: Richte die Schnittstelle zu OTTO Market in deinem plentymarkets System ein.
:position: 20
:url: maerkte/otto/otto-market
:id: SMKVRT7
:author: team-multi-channel

:ea-queue:

Auf dieser Handbuchseite erhältst du Informationen zum Marktplatzmodell OTTO Market von OTTO.

[#100]
== OTTO Market

OTTO Market ist das Marktplatzmodell von OTTO. Du wirst als Verkäufer:in an deinen Produkten angezeigt. Die Kommunikation mit Kund:innen läuft aber über OTTO. +

Die Anbindung von OTTO Market an plentymarkets stellt folgende automatisierte Prozesse bereit:

* Auftragsimport einmal pro Stunde
* Bestandsabgleich alle 15 Minuten +
*_Hinweis:_* Fällt eine Variante auf Bestand 0, wird diese Variante zum Schutz des Artikel-Rankings auf OTTO Market nach 15 Tagen automatisch deaktiviert. Wenn neuer Bestand für eine solche deaktivierte Variante gebucht wird, wird die Variante mit dem nächtlichen Artikelexport wieder aktiviert.
* Einmal pro Nacht Aktualisierung von Artikeldaten inklusive Preisabgleich
* Stündlicher Import von Retouren-Anmeldungen durch Endkund:innen
* Zweimal wöchentlich Aktualisierung der Kategoriegruppen/Katalogvorlagen
* Alle drei Stunden Aktualisierung der Liste der Marken

[#200]
== Konto einrichten

Mit dem Assistenten *Grundeinstellungen - OTTO Market* im Menü *Einrichtung » Assistenten » Omni-Channel* richtest du OTTO Market in plentymarkets ein. Mit diesem Assistenten nimmst du außerdem Einstellungen zur Datenübertragung vor. Halte dafür die API-Zugangsdaten bereit, die du von OTTO Market erhalten hast.

:menu-path: pass:quotes[*Einrichtung » Assistenten » Omni-Channel*]
:assistant-name: Grundeinstellungen - OTTO Market
:number-of-boxes: Info-Box

include::../_textblocks/instructions/assistant-basic-instructions.adoc[]

[.collapseBox]
.Erläuterungen zu den Optionen des Assistenten
--
[[table-otto-market-basic-settings-assistant]]
[width="100%"]
[cols="1,2"]
|======
|Einstellung |Erläuterung

2+|Schritt *Einstellungen*

| *Unter welchem Mandanten möchtest du deine Artikel verkaufen?*
a| Wähle aus der Dropdown-Liste *Mandant* den Mandanten, der genutzt werden soll, um die Artikel-URL im Katalog zu erzeugen und dem OTTO Market-Aufträge zugeordnet werden sollen.

| *Möchtest du dein OTTO Market-Benutzerkonto aktivieren?*
a| _Nicht aktiviert_ = Die Einstellungen werden gespeichert, der Datenaustausch mit OTTO Market aber noch nicht gestartet. +
_Akiviert_ = Der Datenaustausch mit OTTO Market wird nach Abschluss des Assistenten gestartet. +
*_Empfehlung:_* Aktiviere das Benutzerkonto erst, nachdem du alle Einstellungen geprüft hast.

2+|Schritt *API-Zugangsdaten*

| *Wie lauten die API-Zugangsdaten?*
a| * *API-Nutzer* (Pflichtangabe) = Gib den Benutzernamen für die API-Schnittstelle ein, den du von OTTO Market erhalten hast.
* *Passwort* (Pflichtangabe) = Gib das Passwort für die API-Schnittstelle ein, das du von OTTO Market erhalten hast.

2+|Schritt *Datenaustausch*

| *Möchtest du OTTO Market-Aufträge in plentymarkets importieren?*
| Aktivieren, um Aufträge automatisch einmal pro Stunde zu importieren. +
*_Hinweis:_* Artikeldaten und Bestandsinformationen können nur übertragen werden, wenn diese Option aktiviert ist.

| *Welche Daten möchtest du zu OTTO market übertragen?* +
(wird nur angezeigt, wenn *Aufträge importieren* aktiviert ist)
a| Wähle, welche Daten übertragen werden sollen. +
*_Hinweis:_* Artikeldaten und Bestandsinformationen können nur übertragen werden, wenn Aufträge automatisch importiert werden.

* *Artikeldaten* = Artikeldaten werden einmal täglich nachts abgeglichen.
* *Bestandsinformationen* = Der Bestand wird alle 15 Minuten abgeglichen. +
*_Hinweis:_* Fällt eine Variante auf Bestand 0, wird diese Variante zum Schutz des Artikel-Rankings auf OTTO Market nach 15 Tagen automatisch deaktiviert. Wenn neuer Bestand für eine solche deaktivierte Variante gebucht wird, wird die Variante mit dem nächtlichen Artikelexport wieder aktiviert.

| *Möchtest du Retouren-Anmeldungen von OTTO Market in plentymarkets importieren?*
| Aktivieren, um Retouren, die Kund*innen auf OTTO Market erstellen, einmal stündlich zu importieren. Jede retournierte Auftragsposition wird am ursprünglichen Auftrag im Tab *Aufträge* als einzelne Retoure angezeigt.

| *Welchen Auftragsstatus sollen Retouren-Anmeldungen beim Import bekommen?* +
(wird nur angezeigt, wenn *Retourenanmeldungen importieren* aktiviert ist)
| Aus der Dropdown-Liste den Status wählen, der Retouren-Anmeldungen zugewiesen werden soll, wenn sie importiert werden. +
*_Hinweis:_* Eine Retouren-Anmeldung garantiert nicht, dass Kund*innen die Retoure auch wirklich abschicken. Wähle deshalb einen Status, bei dem keine unerwünschten Ereignisaktionen ausgelöst werden, z.B. Ereignisaktionen für das Erzeugen von Gutschriften.

| *Möchtest du die Bestandsmenge für Varianten ohne Bestandsbeschränkung ersetzen?*
a| *Bestandsmenge ersetzen* aktivieren, um eine Bestandsmenge einzugeben.

| *Bestandsmenge* +
(wird nur angezeigt, wenn *Bestandsmenge ersetzen* aktiviert ist)
| Bestandsmenge eingeben. Diese Bestandsmenge wird übertragen, wenn für eine Variante die Einstellung *Beschränkung* auf *Keine* oder *Keinen WB für diese Variante führen* steht und der Bestand kleiner oder gleich 0 ist.

2+|Schritt *Versanddienstleister*

| *plentymarkets Versanddienstleister verknüpfen mit:*
| OTTO Market Versanddienstleister (Dropdown-Liste)

|======
--

[#275]
== Auftragsherkunft aktivieren

:market: OTTO Market
:referrer: OTTO Market
:referrer-option: pass:quotes[Option *OTTO Market*]

include::../_textblocks/instructions/auftragsherkunft-aktivieren.adoc[]

[#300]
== Variantenverfügbarkeit einstellen

:market-availability: OTTO Market
:option-availability: OTTO Market

include::../_textblocks/instructions/variantenverfuegbarkeit.adoc[]

// Web-API NICHT erforderlich!

Wenn du die Marktplatzverfügbarkeit einer Variante für OTTO Market im Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_ *» Tab: Varianten-ID» Tab: Verfügbarkeit* deaktivierst, wird die Variante innerhalb von 15 Minuten auf OTTO Market deaktiviert. Wenn du die Verfügbarkeit wieder aktivierst, wird die Variante erst mit dem nächtlichen Artikelexport auf OTTO Market reaktiviert.

[#350]
== Verfügbarkeit am Bild einstellen

Damit Artikelbilder auf OTTO Market angezeigt werden, muss im Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_ *» Tab: Bilder* die Verfügbarkeit *OTTO Market* am Bild hinzugefügt werden.

[.instruction]
Verfügbarkeit am Bild einstellen:

. Öffne das Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_ *» Tab: Bilder*.
. Aktiviere in der Dropdown-Liste *Verfügbarkeit* die Option *OTTO Market*.
. *Speichere* (icon:save[role="green"]) die Einstellungen. +
→ Das Bild wird am Artikel auf OTTO Market angezeigt.


[#400]
== Verkaufspreis festlegen

:referrer-price: OTTO Market

include::../_textblocks/instructions/verkaufspreis-festlegen.adoc[]


[#425]
== Zahlungsart aktivieren

:payment-method: Otto Payment
:folder: International

include::../_textblocks/instructions/zahlungsart_aktivieren.adoc[]

[#450]
== Artikelexport einrichten

Artikeldaten werden über Kataloge zu OTTO Market übertragen. Mit dem Assistenten *Kataloge erstellen - OTTO Market* erstellst du ein Marktplatz-Format pro OTTO-Kategoriegruppe. Du arbeitest zum ersten Mal mit den Katalogen? Dann solltest du dich zuerst <<daten/daten-exportieren/kataloge-verwalten#, mit dem Prinzip der Kataloge vertraut machen>>. Dort findest du auch weitere Informationen zu den plentymarkets <<daten/daten-exportieren/kataloge-verwalten#_datenquellen_zuordnen, Datenfeldern>>, die du zuordnen kannst.

[IMPORTANT]
.Artikel können bei OTTO Market nicht gelöscht werden
====
Ein Artikel kann bei OTTO Market nicht gelöscht werden, weder durch plentymarkets noch durch OTTO selbst. Es ist nur möglich, den Artikel auf OTTO Market als *nicht verfügbar* zu kennzeichnen. Deshalb solltest du vor der Artikelübertragung besonders sorgfältig prüfen, dass im Katalog die korrekten Datenfelder verknüpft wurden.
====

=== Katalog mit dem Assistenten erstellen

:catalogue-assistant-name: Kataloge erstellen - OTTO Market
:number-of-boxes: Info-Boxen
:catalogue-path: pass:quotes[*Einrichtung » Assistenten » Omni-Channel*]
:catalogue-note: Für jede OTTO-Kategoriegruppe benötigst du einen eigenen Katalog.
:mapping-fields: weitere

include::../_textblocks/instructions/catalogue-assistant-config.adoc[]

[.collapseBox]
.Schritt *Name und Kategoriegruppe*
--
[[table-otto-market-catalogue-assistant]]
[width="100%"]
[cols="1,2"]
|====
| Einstellung | Erläuterung

| *Gib einen Namen für den Katalog ein.*
a| Name für den Katalog eingeben.

| *Für welche OTTO-Kategoriegruppe möchtest du einen Katalog erstellen?*
| Eine OTTO-Kategoriegruppe aus der Dropdown-Liste wählen. +
*_Hinweis:_* Für jede OTTO-Kategoriegruppe benötigst du einen eigenen Katalog.
|====
--

[.collapseBox]
.Schritt *Pflichtfelder*
--
In diesem Schritt des Assistenten legst du fest, welche in plentymarkets gespeicherten Variantendaten an den Marktplatz gesendet werden sollen. Dazu verknüpfst du jedes Pflichtfeld des Marktplatzes mit dem Datenfeld in plentymarkets, das die Daten enthält, die du an den Marktplatz exportieren möchtest. Welche Datenfelder Pflichtfelder sind, ist abhängig vom Marktplatz und von der Produktkategorie. Statt ein bestehendes Datenfeld zu verknüpfen, kannst du für einige Datenfelder auch ein neues Datenfeld erstellen.

'''
*Parent-SKU* = Wähle aus der Dropdown-Liste, welches Datenfeld als Parent-SKU übertragen werden soll.

'''
*SKU* = Wähle aus der Dropdown-Liste, welches Datenfeld als SKU übertragen werden soll.

'''
*Datenquelle wählen* = Ein bereits in plentymarkets vorhandenes Datenfeld wird an OTTO Market exportiert. Das Datenfeld aus der Dropdown-Liste *Datenfeld* wählen. +
*_Hinweis:_* Die Verknüpfungen, die du vornimmst, werden nicht auf Sinnhaftigkeit geprüft. Prüfe deshalb die Verknüpfungen sorgfältig, bevor du den Export startest.

'''
*Eigenschaft anlegen* = Erstellt eine Eigenschaft und verknüpft diese Eigenschaft mit dem Datenfeld. Diese automatisch erstellte Eigenschaft wird im Menü <<willkommen/allgemeine-funktionen/eigenschaften#tabelle-eigenschaft-erstellen, Einrichtung » Einstellungen » Eigenschaften » Konfiguration>> gespeichert.

Die automatisch erstellte Eigenschaft hat die folgenden Einstellungen:

* Bereich = Artikel
* Eigenschaftstyp = _je nach Anforderung des Marktplatzes_
* Sprache = Deutsch
* Name = Feld der OTTO-Kategoriegruppe
* Gruppe = OTTO Market

'''
*Verkaufspreis anlegen* = Erstellt einen neuen Verkaufspreis und verknüpft diesen Verkaufspreis mit dem Datenfeld. Dieser automatisch erstellte Verkaufspreis kann im Menü <<artikel/einstellungen/preise#400, Einrichtung » Artikel » Verkaufspreise>> geprüft und bearbeitet werden.

Der automatisch erstellte Verkaufspreis hat die folgenden Einstellungen:

* Abo-Intervall = Keins
* Interner Name = OTTO Market
* Externer Name = OTTO Market
* Ab Menge = 1
* Live umrechnen = Nein
* Währung = Euro
* Darstellung = Bei neuem Artikel immer anzeigen
* Mandant = ALLE
* Klasse = ALLE
* Land = Deutschland

'''
*Barcode anlegen* = Erstellt einen Barcode *OTTO Market* und verknüpft diesen Barcode mit dem Datenfeld. Ist bereits ein Barcode mit dem Namen *OTTO Market* im System, wird stattdessen dieser Barcode verknüpft. Der automatisch erstellte Barcode kann im Menü <<artikel/einstellungen/barcodes#100, Einrichtung » Artikel » Barcodes>> geprüft und bearbeitet werden.
--

[#600]
=== Weitere Datenfelder im Katalog zuordnen (nicht im Assistenten)

Mit dem Assistenten hast du bereits wichtige Pflichtfelder für die gewählte OTTO-Kategoriegruppe zugeordnet. Nachdem du den Assistenten abgeschlossen hast, musst du aber noch weitere Datenfelder zuordnen, um noch mehr Informationen zu deinen Produkten an OTTO Market zu übermitteln.

TIP: Ordne mindestens die Datenfelder *Marke*, *Versandart* und *Kategorie* plentymarkets Datenfeldern zu.

include::../_textblocks/instructions/katalog-assistent-datenfelder-zuordnen.adoc[]

[#602]
=== _Beispiel:_ Datenfeld "Bestand" verknüpfen

Im Folgenden wird beispielhaft beschrieben, wie du das Datenfeld *Bestand* mit Artikeldaten aus plentymarkets verknüpfst. Mit dem Datenfeld *Bestand* bestimmst du, aus welchem Lager der Bestand an OTTO Market übertragen wird.

[.instruction]
Datenfeld "Bestand" verknüpfen:

. Öffne das Menü *Daten » Kataloge*.
. Klicke auf den Katalog. +
→ Der Katalog wird geöffnet.
. Navigiere zum OTTO Market-Datenfeld *Bestand*.
. Klicke auf *Datenfeld hinzufügen*.
. Klicke in der Liste links auf den Ordner *Bestand*. +
→ In der Dropdown-Liste werden alle in plentymarkets erstellten Lager angezeigt.
. Klicke auf das Plus für das Lager, aus dem der Bestand zu OTTO Market übertragen werden soll. +
*_Optional:_* Um Bestand aus mehreren Lagern zu OTTO Market zu übertragen, klicke auf *Ausweich-Datenfeld hinzufügen* (icon:link[role="yellow"]) und füge ein weiteres Lager hinzu. +
→ Der Bestand aller Lager, die als Datenfelder und Ausweich-Datenfelder hinzugefügt wurden, wird addiert. +
*_Hinweis:_* Wenn du das Datenfeld *Bestand* nicht mit einem Lager verknüpfst, wird die Summe der Nettobestände aller Vertriebslager (Datenfeld *Virtuelles Gesamtlager*) an OTTO Market übertragen.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

[#701]
== Im Assistenten erstellte Felder mit Varianten verknüpfen

:property-group: OTTO Market

include::../_textblocks/instructions/assistent-quellen-verknuepfen.adoc[]

[#475]
== Varianten mit OTTO-Kategoriegruppe verknüpfen

Nachdem du mit dem Assistenten *OTTO Market Kataloge erstellen* oder manuell ein Marktplatz-Format für OTTO Market erstellt hast, wird in deinem plentymarkets System die Eigenschaft *OTTO-Kategoriegruppe* erstellt. Für jede OTTO-Kategoriegruppe, die du im ersten Schritt *Name und Kategoriegruppe* des Assistenten wählst, wird die gewählte OTTO-Kategoriegruppe als neuer Auswahlwert zur Eigenschaft *OTTO-Kategoriegruppe* hinzugefügt. Damit deine Varianten im gewünschten Katalog exportiert werden, müssen sie im *Tab: Eigenschaften* einer Variante mit der Eigenschaft *OTTO-Kategoriegruppe* verknüpft werden.

[.instruction]
Variante mit OTTO-Kategoriegruppe verknüpfen:

. Öffne das Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_.
. Wechsele in das *Tab: Varianten*.
. Öffne die Variante, die du verknüpfen möchtest.
. Wechsele in das *Tab: Eigenschaften*.
. Wähle im Bereich *Varianteneigenschaften* aus der Dropdown-Liste *Eigenschaften* die Eigenschaft *OTTO-Kategoriegruppe* und klicke auf *Hinzufügen* (icon:plus-square[role="green"]). +
→ Die Eigenschaft wird hinzugefügt.
. Wähle für die Eigenschaft *OTTO-Kategoriegruppe* aus der Dropdown-Liste *Wert* die gewünschte Kategoriegruppe. +
→ Die Variante wird im zugehörigen Katalog exportiert. +
*_Beispiel:_* Wählst du den Wert *Betten*, wird die Variante im Katalog für die OTTO-Kategoriegruppe *Betten* exportiert.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

[#2000]
== Katalogexport zu OTTO Market aktivieren

:interval: einmal täglich nachts
:market: OTTO Market

include::../_textblocks/instructions/catalogue-activation.adoc[]

[#2200]
== _Checkliste:_ Voraussetzungen für den Variantenexport

Damit eine Variante zu OTTO Market exportiert werden kann, muss die Variante die in <<#otto-market-varianten-pflicht>> dargestellten Voraussetzungen erfüllen.

[[otto-market-varianten-pflicht]]
.Voraussetzungen für den Variantenexport
[cols="1,3"]
|====
|Voraussetzung |Erläuterung

| Variante aktiviert?
a| Die Variante muss aktiviert sein.

. Öffne das Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_ *» Tab: Varianten-ID » Tab: Einstellungen*.
. Öffne die Variante, die du auf OTTO Market verkaufen möchtest. +
. Aktiviere im Bereich *Verfügbarkeit* die Option *Aktiv*.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

| Marktplatzverfügbarkeit aktiviert?
a| Die Variante muss für den Marktplatz verfügbar sein.

. Öffne das Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_ *» Tab: Varianten-ID » Tab: Einstellungen*.
. Öffne die Variante, die du auf OTTO Market verkaufen möchtest.
. Wechsele in das Tab *Verfügbarkeit*.
. Klicke im Bereich *Märkte* in das Auswahlfeld. +
→ Eine Liste mit allen verfügbaren Märkten wird angezeigt.
. Aktiviere die Option *OTTO Market*.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

| Positiver Nettowarenbestand?
a| Die Variante muss über einen positiven Nettowarenbestand verfügen.

. Öffne das Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_ *» Tab: Varianten-ID » Tab: Einstellungen*.
. Öffne die Variante, die du auf OTTO Market verkaufen möchtest.
. Wechsele in das Tab *Warenbestand*. +
→ Der Nettowarenbestand pro Lager wird in der Spalte *Netto* angezeigt.

| Katalog aktiviert?
a| Der Katalog, dem die Variante zugeordnet ist, muss aktiv sein.

 . Öffne das Menü *Daten » Kataloge*. +
→ Eine Liste der Kataloge wird angezeigt.
. Scrolle zu dem OTTO Market-Katalog.
. Schiebe in der Spalte *Aktiv/Inaktiv* die Toggle-Schaltfläche nach rechts (icon:toggle-on[role="green"]).

| Erforderliche Datenfelder zugeordnet?
a| Mindestens alle Pflichtfelder des Marktplatzes müssen plentymarkets Datenfeldern zugeordnet sein. Die Pflichtfelder unterscheiden sich je nach OTTO-Kategoriegruppe.

* <<#600, So ordnest du Marktplatz-Datenfeldern ein oder mehrere plentymarkets Datenfelder zu.>>

|====

[#500]
== Ereignisaktionen einrichten

Richte <<automatisierung/ereignisaktionen#, Ereignisaktionen>> ein, um OTTO Market automatisch über Änderungen des Auftragsstatus zu informieren. Folgende Ereignisaktionen stehen für OTTO Market zur Verfügung:

* Versandinformation an OTTO melden
* Auftragsstornierung an OTTO melden
* Retoure an OTTO melden
* Ablehnung der Retoure an OTTO melden

In den folgenden Kapiteln wird beschrieben, wie du die Ereignisaktionen in plentymarkets einrichtest.

[IMPORTANT]
.Reihenfolge der Ereignisaktionen beachten
====
Beachte bei der Auftragsbearbeitung unbedingt die Reihenfolge der Ereignisaktionen. Zuerst muss die Ereignisaktion <<Retourenlabel generieren, Retourenlabel generieren>> ausgelöst werden und danach die Ereignisaktion <<Versandinformation an OTTO melden, Versandinformation an OTTO melden>>. Wenn zuvor kein Retourenlabel erstellt wurde, kann keine Versandbestätigung an OTTO Market gesendet werden.
====

[#550]
=== Retourenlabel generieren

Wenn OTTO Market-Aufträge in dein plentymarkets System importiert wurden, müssen für diese Aufträge Retourenlabels generiert werden, bevor der Versand bei OTTO Market bestätigt wird. Mit einer Ereignisaktion zum Erstellen eines Retourenlabels wird automatisch eine Tracking-Nummer für eine Retoure (retTrackingNumber) erstellt, die am Auftrag gespeichert wird. Dadurch kann sichergestellt werden, dass es eine Tracking-Nummer für eine Retoure gibt, falls Kund:innen einen Artikel zurücksenden möchten. +

Damit die Tracking-Nummer zusammen mit der Versandbestätigung an OTTO Market gesendet wird, musst du ein Retourenlabel erstellen. Retourenlabels kannst du mit den Versanddienstleister-Plugins link:https://marketplace.plentymarkets.com/plugins/integration/dhlretoureonline_6714[DHL Retoure Online^], link:https://marketplace.plentymarkets.com/plugins/integration/glsshipping_6463[GLS Shipping^] und link:https://marketplace.plentymarkets.com/plugins/integration/hermesshippinginterface_5437[Hermes^] erstellen.

*_Hinweis:_* Retourenlabels können momentan nur mit DHL, Hermes und GLS Shipping generiert werden.

[IMPORTANT]
.Plugins installieren
====
Um ein Retouren-Label generieren zu können, müssen die Plugins *DHL Retoure Online*, *Hermes* oder *GLS Shipping* in deinem plentymarkets System installiert, aktiviert und eingerichtet sein, je nachdem, für welchen Versanddienstleister du ein Retourenlabel erstellen möchtest. Die Plugins erhältst du im link:https://marketplace.plentymarkets.com/plugins/fulfillment-stock/versand[plentyMarketplace^]{nbsp}icon:external-link[].
====

Wie du eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> einrichtest, um ein DHL-Retourenlabel zu generieren, ist im Folgenden beschrieben.

Um ein Retourenlabel mit GLS Shipping zu erstellen, wähle in der Ereignisaktion die Aktion *Plugins > GLSShipping: Register return label*. Weitere Informationen findest du im link:https://marketplace.plentymarkets.com/plugins/integration/glsshipping_6463[User Guide^] des GLS Shipping-Plugins.

Bei Hermes können Retourenlabels nicht über eine Ereignisaktion erstellt werden. Bevor das Versandetikett für OTTO Market erstellt wird, muss deshalb das Retourenlabel für Hermes entweder manuell über das <<fulfillment/versand-center#, Versand-Center>> oder über eine <<automatisierung/prozesse/aktionen#preamble, Aktion>> in einem Prozess erstellt werden. Weitere Informationen findest du im link:https://marketplace.plentymarkets.com/plugins/integration/hermesshippinginterface_5437[User Guide^] des Hermes-Plugins.

:table-event-procedure: <<#dhl-retouren-label-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[dhl-retouren-label-otto]]
.Ereignisaktion zum Erstellen eines DHL-Retourenlabels
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| *Neuer Auftrag*
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Auftrag*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > DHL Retoure Online-Label generieren*
|
|====

[#700]
=== Versandinformation an OTTO melden

Richte eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein, um OTTO Market über den Versand des Artikels zu informieren.

[TIP]
.Adresse des Absenders speichern
====
Die Versandbestätigung wird nur an OTTO Market gesendet, wenn die Absenderadresse des Händlers gespeichert wurde. Die Adresse speicherst du in den Einstellungen eines Lagers unter *Einrichtung » Waren » Lager »* _Lager wählen_ *» Einstellungen*. Du musst die Adresse in dem Lager speichern, das für den jeweiligen Auftrag verwendet wird.
====

:table-event-procedure: <<#versandbestaetigung-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[versandbestaetigung-otto]]
.Ereignisaktion um Versandinformation an OTTO Market zu melden
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| *Statuswechsel: z.B. Status [7] Warenausgang gebucht*
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Auftrag*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > Versandinformation an OTTO melden*
|
|====

[#800]
=== Auftragsstornierung an OTTO melden

Richte eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein, um OTTO Market über die Stornierung eines Auftrags zu informieren. Es kann aus verschiedenen Gründen erforderlich sein, Aufträge zu stornieren. Wenn zum Beispiel Kund:innen den Auftrag stornieren, wähle *Status [8.1] Storniert durch Kunden*.

:table-event-procedure: <<#auftragsstornierung-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[auftragsstornierung-otto]]
.Ereignisaktion um Auftragsstornierung an OTTO Market zu melden
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| *Auftragsänderung: Statuswechsel*
| Ereignis wählen, z.B. *[8.1] Storniert durch Kunden* +
*_Hinweis:_* Aufträge, die OTTO Market storniert, werden mit dem Status *[8] Storniert* in plentymarkets importiert. Wähle deshalb einen anderen Status, da du sonst OTTO Market über eine dort bereits durchgeführte Stornierung informierst.

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Auftrag*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > Auftragsstornierung an OTTO melden*
|
|====

[#900]
=== Retoure an OTTO melden

Für die Annahme der Retoure muss ein Auftrag vom Typ *Gutschrift* erstellt werden. Richte dazu eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein.

[[bild-retoure-otto-gutschrift]]
.Ereignisaktion um einen Auftrag vom Typ *Gutschrift* zu erstellen
image::maerkte/otto/assets/otto-market-retoure-gutschrift.png[width=640, height=360]


:table-event-procedure: <<#retoure-otto-gutschrift>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[retoure-otto-gutschrift]]
.Ereignisaktion um einen Auftrag vom Typ *Gutschrift* zu erstellen
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| Ereignis wählen, z.B. *Auftragsänderung: Statuswechsel* +
*_Hinweis:_* Wähle einen Status, der zu deinem Arbeitsablauf passt. Du kannst dafür beispielsweise den Status *[9.11] Retoure an OTTO melden* erstellen.
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Retoure*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Auftrag > Gutschrift (Auftrag) anlegen*
|
|====

Richte eine weitere <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein, um OTTO Market über eine Retoure zu informieren.

[[bild-retoure-otto]]
.Ereignisaktion um eine Retoure an OTTO Market zu melden
image::maerkte/otto/assets/otto-market-retoure-von-otto-annehmen.png[width=640, height=360]

:table-event-procedure: <<#retoure-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[retoure-otto]]
.Ereignisaktion, um Retouren an OTTO Market zu melden
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| Ereignis wählen, z.B. *Auftragsanlage: Neue Gutschrift*
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Gutschrift*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > Retoure an OTTO melden*
a| *_Hinweise:_*

* Durch die Aktion *Retoure an OTTO melden* wird eine Gutschrift ausgelöst und Endkund:innen erhalten eine Rückerstattung. Das von OTTO erstellte Gutschriftendokument wird automatisch an den Auftrag vom Typ *Gutschrift* angehängt.
* OTTO erstattet immer den kompletten Verkaufspreis einer Position. Es ist nicht möglich, OTTO Market Teilerstattungen für eine Auftragsposition zu melden. Auch wenn du einzelne Positionen im Preis korrigiert hast, hat dies also keinen Einfluss auf das von OTTO erstellte Erstattungsdokument.
|====

[#1000]
=== Ablehnung der Retoure an OTTO melden

Richte eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein, um OTTO Market über die Ablehnung einer Retoure zu informieren.

:table-event-procedure: <<#ablehnung-retoure-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[ablehnung-retoure-otto]]
.Ereignisaktion um die Ablehnung einer Retoure an OTTO Market zu melden
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
|Ereignis wählen, z.B. *Auftragsänderung: Statuswechsel* +
*_Hinweis:_* Wähle einen Status, der zu deinem Arbeitsablauf passt. Du kannst dazu beispielsweise den Status *[9.12] Retoure von OTTO ablehnen* erstellen.
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Retoure*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > Ablehnung der Retoure an OTTO melden*
|
|====


[#1050]
== Auftragsbearbeitung bei OTTO Market

Im Folgenden erfährst du, wie Aufträge bei OTTO Market verarbeitet werden.

[#1100]
=== Auftragsimport

OTTO Market-Aufträge werden als unbezahlt in Status *[3] Warten auf Zahlung* in plentymarkets importiert. Nachdem ein Auftrag von OTTO Market bestätigt wurde, wechselt der Auftrag in den Status *[5] Freigabe Versand*. In plentymarkets wird eine Zahlung für den Auftrag erstellt und der Auftrag als *bezahlt* gekennzeichnet. Falls der Auftrag bei OTTO Market per Überweisung bezahlt wurde, kann die Auftragsbestätigung länger dauern als bei anderen Zahlungsarten. In plentymarkets wird die Zahlungsart immer als *OTTO Payment* angezeigt. +

Wenn ein Auftrag nicht bezahlt wird, storniert OTTO Market den Auftrag nach einer gewissen Zeit und sendet eine Stornierung an plentymarkets. In plentymarkets wechselt der unbezahlte Auftrag dann automatisch in Status *[8] Storniert*.

[#1200]
=== Rechnungsimport

Rechnungen für OTTO Market-Aufträge werden von OTTO Market selbst erstellt und automatisch in plentymarkets importiert, sobald du den Versand der Ware bei OTTO Market bestätigt hast. Eine Versandbestätigung sendest du mit der Ereignisaktion <<Versandinformation an OTTO melden, Versandinformation an OTTO melden>> an OTTO Market. Die Rechnungsdokumente sind nach erfolgreicher Versandbestätigung im Tab *Belege* des Hauptauftrags verfügbar. Das heißt, dass du für OTTO Market keine Rechnungen in plentymarkets erstellen kannst. +

Da Rechnungen immer dann von OTTO Market erstellt werden, wenn der Versand eines Artikels bestätigt wurde, werden auch Rechnungen für Teillieferungen generiert.

[#1400]
=== Gutschriftenimport

Gutschriften und Teilgutschriften für OTTO Market-Aufträge werden von OTTO Market selbst erstellt und automatisch in plentymarkets importiert, sobald du eine Retoure der Ware bei OTTO Market bestätigt hast. Die Gutschriftendokumente sind nach erfolgreicher Retourenbestätigung im Tab *Belege* des Auftrags verfügbar. Eine Retoure bestätigst du mit der Ereignisaktion *Retoure an OTTO melden*. Bei der Bestätigung einer Retoure werden die Bestandteile der einzelnen Positionen deiner Gutschrift/Retoure an OTTO gemeldet. Das führt dazu, dass OTTO immer den kompletten Verkaufspreis einer Position erstattet. Es ist deshalb nicht möglich, OTTO Market Teilerstattungen für eine Auftragsposition zu melden. Auch wenn du einzelne Positionen im Preis korrigiert hast, hat dies also keinen Einfluss auf das von OTTO erstellte Erstattungsdokument.

Da Gutschriften immer dann von OTTO Market erstellt werden, wenn die Retoure eines Artikels bestätigt wurde, werden auch Gutschriften für Teilretouren generiert.

[#1300]
== FAQ

[qanda]

Wie setzt sich der Produkttitel bei OTTO Market zusammen?::
Der Titel, der bei OTTO Market an deinem Artikel angezeigt wird, setzt sich aus den folgenden Feldern zusammen, die du im Katalog verknüpfst: *Marke* + *Modell* + *Besondere Merkmale* + alle Felder, bei denen in Klammern *Namenbildend* steht.

Warum werden meine Artikel nicht zu OTTO Market exportiert?::
Durch die Suche folgender Logs kannst du feststellen, warum bestimmte Artikel nicht zu OTTO Market exportiert werden und deshalb dort nicht verfügbar sind.
+
[.instruction]
. Suche im *Log* in der Dropdown-Liste *Integration* nach *Otto itemexport* und wähle *Plenty\Modules\Otto\Item\Services\ItemExportService*.
. Suche in mehreren Durchläufen in der Dropdown-Liste *Level* sowohl nach *warning* als auch nach *error*.
. Öffne die Logs mit der Nachricht *Variante ungültig*. +
→ Im Log erhältst du die Varianten-ID und den Grund für die Ablehnung bzw. das fehlende Merkmal. +
*_Tipp:_* In diesem Beispiel geht es um die Varianten-ID 30170 und die fehlende productDescription.brand. Das heißt, dass hier der Hersteller bzw. die Marke fehlt.
. Als nächstes solltest du nach der im *Log* genannten Variante suchen und dir Varianten anzeigen lassen, damit du auch direkt beim richtigen Artikel landest. +
*_Tipp:_* Den Hersteller findest du im Tab *Global* der Variante.
. Im Katalog *Audio » Radios* ist die Marke *AudioAffairs* nicht gemapped, was zur Fehlermeldung bzw. der Ablehnung des Artikels führt.
. Klicke auf *Marke hinzufügen* (icon:plus-square[role="green"]), um die Marke *AudioAffairs* hinzuzufügen.
+
[[filter-artikelexport-log]]
.Suchbegriffe für OTTO Market im Log
[cols="1, 1, 1" grid=none]
|===
a|image::maerkte/otto/assets/otto-item-export.png[Suchbegriff OTTO Market-Logs]
a|image::maerkte/otto/assets/level-warning-error.png[Log-Level]
a|image::maerkte/otto/assets/varianten-id.png[Varianten-ID]
|===

Wie ordne ich ein Retourenpaket dem richtigen Auftrag im plentymarkets System zu?::
Nachfolgend findest du ein exemplarisches DHL-Retourenetikett. Auf dem Etikett ist ersichtlich, welche Informationen dir zur Verfügung stehen.
+
[[dhl-retourenetikett]]
.DHL-Retourenetikett
image::maerkte/otto/assets/dhl-retourenetikett.png[DHL-Retourenetikett]

Wie kann ich bei Anfragen von Kund:innen einen Auftrag von OTTO Market im plentymarkets System finden?::
Da die Frage “Wie kann ich bei Kundenanfragen einen Auftrag von OTTO Market finden?” öfter im plentymarkets Forum aufkommt, nachfolgend eine kurze Beschreibung.
+
Im plentymarkets Forum wird öfters von *PositionID* (Beispiel: 715e9369-01e3-4d09-ae91-8688dfa139b2) und *SalesOrderID* (Beispiel: 4245eac7-4647-4f76-8c48-261afb19aa96) gesprochen, diese sind für dich als Händler:in jedoch nicht relevant. Diese IDs sind für dich nicht sichtbar - es handelt sich um die Bezeichnung des Auftrags und der enthaltenen Positionen in unserer plentymarkets Datenbank.
+
Aufträge mit der Herkunft *OTTO Market* erhalten die übliche Auftrags-ID von deinem plentymarkets System, zur Identifikation des Auftrags wird jedoch eine “externe Auftragsnummer” an dem Auftrag gespeichert, mit welcher der Auftrag eindeutig zugeordnet werden kann.
+
Nachfolgend findest du Screenshots mit einer kurzen Erläuterung, wie die Aufträge bei uns und bei OTTO Market im Bereich *Mein Konto* erstellt werden.
+
[[otto-market-auftragsnummer]]
."Mein Konto"-Bereich bei OTTO Market
image::maerkte/otto/assets/otto-market_auftragsnummer.png[OTTO Market-Auftragsnummer]
+
Die Auftragsnummer wird in plentymarkets als externe Auftragsnummer am Auftrag gespeichert.
+
Das Menü zum Suchen des Auftrags anhand der externen Auftragsnummer:
+
[[otto-market-externe-auftragsnummer]]
.Suche nach externer Auftragsnummer
image::maerkte/otto/assets/otto-market_suche_externe-auftragsnummer.png[Suche externe Auftragsnummer]
+
Im Tab *Einstellungen* des Auftrags findest du die externe Auftragsnummer (*Ext. Auftragsnummer*):
+
[plentymarkets-externe-auftragsnummer]]
.Suche nach externer Auftragsnummer
image::maerkte/otto/assets/plentymarkets_externe-auftragsnummer.png[externe Auftragsnummer in plentymarkets]
+
Sollten Kund:innen eine Rückfrage zu dem Auftrag haben, kannst du anhand der externen Auftragsnummer den Auftrag finden.
+
Außerdem kannst du mit dem Filter *Herkunft* natürlich immer alle OTTO Market-Aufträge filtern.

Mir wird ein Fehler im Log angezeigt. Wie kann ich den Fehler beheben?::
+
* *Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique.*
+
Dieser Fehler wird im Log z.B. auch unter "SKU 1234 nicht generiert" oder "0:sku" angezeigt.
+
Im Katalog wird an erster Stelle definiert, aus welchem Datenfeld die SKU generiert werden soll. Wir unterscheiden dort zwischen einer *Parent-SKU* und einer *Variation-SKU*. Das dort gewählte Datenfeld sollte sich auf eine Datenzeile beziehen, die einmalig existiert. Es ist also nicht möglich, für verschiedene Artikel dieselbe SKU nochmals zu vergeben. Als Beispiel könntest du also die *Artikel-ID* sowie die *Variation-ID* verwenden. Beide IDs werden vom plentymarkets System bei der Anlage des Artikels vergeben und existieren jeweils nur einmal. Nun könnte jedoch der Fall eintreten, dass der Artikelexport stattgefunden hat und der Export aufgrund einer fehlenden Information im Katalog in einen Fehler gelaufen ist. Die SKU wurde aber trotzdem geschrieben und ist nun in der Variante im Tab *Verfügbarkeit* sichtbar. Beim nächsten Export würde das plentymarkets System wieder versuchen, eine SKU aus den im Katalog gewählten Datenfeld zu erstellen. Da diese SKU jedoch bereits existiert, kommt es zum Fehler "Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique." / "SKU 1234 nicht generiert.".
+
Deshalb ist es notwendig, im Katalog ein Ausweich-Datenfeld hinzuzufügen. Die Lösung würde dann wie folgt aussehen:
+
[[weitere-quelle]]
.Datenfeld hinzufügen
image::maerkte/otto/assets/otto-market-weitere-quelle.png[Datenfeld hinzufügen]
+
[IMPORTANT]
.Datenfeld hinzufügen
====
Wenn du ein weiteres Datenfeld hinzufügst, ist es zwingend notwendig, dafür die Schaltfläche *Ausweich-Datenfeld hinzufügen* (icon:link[role="yellow"]) auf der rechten Seite des Katalogs zu verwenden. Benutze _nicht_ die Option *Datenfeld hinzufügen* (icon:plus-square[role="green"]), da ansonsten deine SKUs doppelt erstellt werden und der Fehler auf diese Weise nicht behoben werden kann.
====
+
Es wird hiermit also ein *_zweites Datenfeld_* hinzugefügt. Beim nächsten Export wird zuerst auf das erste Datenfeld geschaut. Da in diesem Datenfeld bereits eine SKU existiert, wird das zweite Datenfeld ignoriert. Sollte im ersten Datenfeld keine SKU existieren, dann wird mittels des zweiten Datenfeld eine neue SKU erstellt.
+
* *Code: 200009 - ATTRIBUTE_CHANGE_DENIED* oder *title: Der Wert dieses Feldes kann nicht geändert werden.*
+
Dieser Fehler zeigt an, dass du eine Änderung an einem OTTO-Artikelattribut vorgenommen hast. Diese Änderung wird von OTTO jedoch nicht akzeptiert und es ist nicht möglich, das Attribut für diesen Artikel zu ändern. Das dort bemängelte Attribut kann sich zum Beispiel auf ein variantenbildendes Attribut oder auch auf ein titelbildendes Attribut beziehen. Auch weitere OTTO-Attribute spielen hierbei eine Rolle.
+
[TIP]
.Artikel können bei OTTO Market nicht gelöscht werden
====
Ein Artikel kann bei OTTO Market _nicht_ gelöscht werden, weder durch plentymarkets noch durch OTTO selbst. Es ist lediglich möglich, den Artikel auf OTTO Market als *nicht verfügbar* zu kennzeichnen. Deshalb solltest du vor der Artikelübertragung immer sicherstellen, dass im Katalog die korrekten Datenfelder verknüpft wurden.
====
+
* *productDescription.brand*
+
Dieser Fehler zeigt an, dass die Marke der Variante, die übertragen werden soll, nicht im Katalog verknüpft ist. Die Marke kannst du auf zwei verschiedene Arten mit der Variante verknüpfen:
+
* über den Hersteller des Artikels im *Tab: Global* des Artikels
* über eine Eigenschaft
+
Stelle sicher, dass im Katalog ein Datenfeld für die Marke gespeichert wurde und dass dieses Datenfeld mit deinem Artikel verknüpft und ausgefüllt ist.
+
* *mediaAssets.IMAGE*
+
Dieser Fehler zeigt an, dass du im Katalog entweder kein Datenfeld gewählt hast, oder keines deiner Artikelbilder für die Herkunft *OTTO Market* freigegeben ist. Öffne dazu das *Tab: Bilder* des Artikels aktiviere die Herkunft *OTTO Market*, wie im Kapitel <<Verfügbarkeit am Bild einstellen, Verfügbarkeit am Bild einstellen>> beschrieben.
+
* *delivery.type*
+
Dieser Fehler zeigt an, dass die Versandart nicht verknüpft ist. Die Versandart kann über zwei verschiedene Datenfelder festgelegt werden:
+
* über ein Versandprofil
* über eine Eigenschaft
+
Stelle sicher, dass das im Katalog gespeicherte Datenfeld mit dem Artikel verknüpft ist. Bei dem Versandprofil ist dies das aktivierte Versandprofil im *Tab: Global* des Artikels. Bei der Eigenschaft ist dies die aktivierte und gefüllte Eigenschaft an der jeweiligen Variante.
+
* *productDescription.category*
+
Dieser Fehler zeigt an, dass die Kategorieverknüpfung im Katalog fehlt. Prüfe im Katalog, ob mindestens eine Kategorie der gewünschten Variante mit einer OTTO Market-Kategorie verknüpft ist.
+
* Fehlermeldungen zum Auftragsablauf: *Carrier ID (X) not mapped in OTTO market config.*
+
Prüfe, ob im Assistenten *OTTO Market Grundeinstellungen* im Menü *Einrichtung » Assistenten » Omni-Channel* im Schritt *Versanddienstleister* Versanddienstleister mit OTTO Market verknüpft wurden.
