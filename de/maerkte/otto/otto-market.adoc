= OTTO Market
:lang: de
include::{includedir}/_header.adoc[]
:keywords: OTTO Market, OTTO, Otto einrichten, Marktplatz, Otto-Assistent, Otto Assistent, Otto-Kategoriegruppe, Otto Kategoriegruppe, Otto Marktplatz
:description: Multi-Channel in plentymarkets: Richte die Schnittstelle zu OTTO Market in deinem plentymarkets System ein.
:position: 20
:url: maerkte/otto/otto-market
:id: SMKVRT7
:author: team-multi-channel

Auf dieser Handbuchseite erhältst du Informationen zu OTTOs Marktplatzmodell OTTO Market.

[#100]
== OTTO Market

OTTO Market ist das Marktplatzmodell von OTTO. Du wirst als Verkäufer an deinen Produkten angezeigt und die Kundenkommunikation wird von dir selbst verwaltet. +

Die Anbindung von OTTO Market an plentymarkets stellt folgende automatisierte Prozesse bereit:

* Auftragsimport alle 15 Minuten
* Preis- und Bestandsabgleich alle 15 Minuten
* Tägliche Aktualisierung von Artikeldaten
* Stündlicher Import von Retouren-Anmeldungen durch Endkunden


[#200]
== Konto einrichten

Die Grundeinstellungen für OTTO Market nimmst du im Menü *Einrichtung » Assistenten » Omni-Channel* mit dem Assistenten *OTTO Market Grundeinstellungen* vor. Mit diesem Assistenten richtest du dein OTTO Market-Konto in plentymarkets ein. Dort gibst du deine API-Zugangsdaten ein, aktivierst den Datenaustausch mit OTTO Market und verknüpfst Versanddienstleister. Außerdem legst du im Assistenten fest, ob Retouren-Anmeldungen durch Endkunden in plentymarkets importiert werden sollen. +

Um den Assistenten zu starten, öffne das Menü *Einrichtung » Assistenten » Omni-Channel* und klicke auf den Assistenten *OTTO Market Grundeinstellungen*. Der Assistent öffnet sich und du kannst mit der Kontoeinrichtung beginnen.


[#275]
== Auftragsherkunft aktivieren

:market: OTTO Market
:referrer: OTTO Market
:referrer-option: pass:quotes[Option *OTTO Market*]

include::../_textblocks/instructions/auftragsherkunft-aktivieren.adoc[]

[#300]
== Variantenverfügbarkeit einstellen

:market-availability: OTTO Market
:option-availability: OTTO Market

include::_textblocks/instructions/variantenverfuegbarkeit.adoc[tag=!*]

[#350]
== Verfügbarkeit am Bild einstellen

Damit Artikelbilder auf OTTO Market angezeigt werden, muss im Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_ *» Tab: Bilder* die Verfügbarkeit *OTTO Market* am Bild hinzugefügt werden.

[.instruction]
Verfügbarkeit am Bild einstellen:

. Öffne das Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_ *» Tab: Bilder*.
. Aktiviere in der Dropdown-Liste *Verfügbarkeit* die Option *OTTO Market*.
. *Speichere* (icon:save[role="green"]) die Einstellungen. +
→ Das Bild wird am Artikel auf OTTO Market angezeigt.


[#400]
== Verkaufspreis festlegen

:referrer-price: OTTO Market

include::../_textblocks/instructions/verkaufspreis-festlegen.adoc[]


[#425]
== Zahlungsart aktivieren

:paymentmethod: Otto Payment
:folder: International

include::../_textblocks/instructions/zahlungsart_aktivieren.adoc[tags=!real-name;!real-client]

[#450]
== Artikelexport einrichten

Artikeldaten werden über Katalog-Templates zu OTTO Market übertragen. Kataloge erstellst du mit dem Assistenten *OTTO Market Kataloge erstellen* im Menü *Einrichtung » Assistenten » Omni-Channel*. Weitere Informationen zu Katalogen findest du auf der Handbuchseite <<daten/daten-exportieren/kataloge-verwalten#, Kataloge verwalten>>. +

In Katalogen verknüpfst du deine in plentymarkets gespeicherten Artikeldaten mit Datenfeldern von OTTO Market. Die Pflichtfelder für die jeweilige OTTO-Kategoriegruppe verknüpfst du bereits im Assistenten. Danach verknüpfst du direkt in dem Katalog, den du mit dem Assistenten erstellt hast, weitere optionale Datenfelder des Marktplatzes OTTO Market, die nicht mit einem Sternchen gekennzeichnet sind, mit in plentymarkets hinterlegten Artikeldaten. Auf diese Weise kannst du deine Artikel detaillierter beschreiben und erhöhst dadurch die Chance, die Artikel zu verkaufen. Weitere Informationen zu den plentymarkets Datenquellen, die du zuordnen kannst, findest du im Kapitel <<daten/daten-exportieren/kataloge-verwalten#_datenquellen_zuordnen, Datenquellen zuordnen>>.

[.instruction]
Datenfelder im Katalog verknüpfen:

. Öffne das Menü *Daten » Kataloge*.
. Klicke auf den OTTO Market-Katalog. +
→ Der Katalog wird geöffnet. +
→ Links werden die Datenfelder des Marktplatzes angezeigt. +
*Tipp:* Pflichtfelder sind mit Sternchen gekennzeichnet. Pflichtfelder wurden bereits im Assistenten *OTTO Market Kataloge erstellen* verknüpft.
. Wähle für die Datenfelder des Marktplatzes eine plentymarkets Datenquelle aus der Dropdown-Liste.
. Um einem Datenfeld eine weitere plentmarkets Datenquelle zuzuordnen, klicke auf *Quelle hinzufügen*. +
→ Eine neue Zeile wird eingeblendet. +
*Hinweis:* Auch wenn du einem Datenfeld mehr als eine Datenquelle zuordnest, wird nur ein Wert übertragen. Die Daten werden in der Reihenfolge der Zuordnung geprüft. Wenn also das erste Datenfeld keinen Wert liefert, wird das zweite Datenfeld übertragen usw.
. Nimm alle gewünschten Zuordnungen vor.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

Im Folgenden wird beispielhaft beschrieben, wie du das Datenfeld *Bestand* mit Artikeldaten aus plentymarkets verknüpfst. Mit dem Datenfeld *Bestand* kannst du bestimmen, aus welchem Lager der Bestand an OTTO Market übertragen werden soll.

[.instruction]
Datenfeld *Bestand* verknüpfen:

. Öffne das Menü *Daten » Kataloge*.
. Klicke auf den Katalog. +
→ Der Katalog wird geöffnet.
. Wähle für das OTTO Market-Datenfeld eine plentymarkets Datenquelle aus der Dropdown-Liste *Quelle*. Hierfür klappst du die plentymarkets Datenquelle *Bestand* auf. +
→ In der Dropdown-Liste werden alle in plentymarkets angelegten Lager angezeigt.
. Wähle das Lager, aus dem der Bestand zu OTTO Market übertragen werden soll und klicke auf *Auswählen* (icon:check-square[role="green"]). +
→ *Tipp:* Wenn du Bestand aus mehreren Lagern zu OTTO Market übertragen willst, klicke auf *Quelle hinzufügen* (icon:link[role="yellow"]) und füge weitere Lager hinzu.
. *Speichere* (icon:save[role="green"]) die Einstellungen. +
→ Wenn du das Datenfeld *Bestand* nicht mit einem Lager verknüpfst, wird die Summe der Nettobestände aller Vertriebslager (Datenquelle *Virtuelles Gesamtlager*) an OTTO Market übertragen.

[IMPORTANT]
====
.Pflichtfelder beachten
Die Pflichtfelder der verschiedenen Templates sind mit Sternchen gekennzeichnet. Verknüpfe mindestens die Pflichtfelder, um sicherzustellen, dass deine Artikel mit allen notwendigen Daten verknüpft sind. Bei OTTO Market werden Verknüpfungen für die Pflichtfelder bereits im Assistenten *OTTO Market Kataloge erstellen* vorgenommen.
====


[#475]
== Varianten mit OTTO-Kategoriegruppe verknüpfen

Nachdem du mit dem Assistenten *OTTO Market Kataloge erstellen* oder manuell ein Katalog-Template für OTTO Market erstellt hast, wird in deinem plentymarkets System die Eigenschaft *OTTO-Kategoriegruppe* erstellt. Für jede OTTO-Kategoriegruppe, die du im ersten Schritt *Name und Kategoriegruppe* des Assistenten wählst, wird die gewählte OTTO-Kategoriegruppe als neuer Auswahlwert zur Eigenschaft *OTTO-Kategoriegruppe* hinzugefügt. Damit deine Varianten im gewünschten Katalog exportiert werden, müssen sie im *Tab: Eigenschaften* einer Variante mit der Eigenschaft *OTTO-Kategoriegruppe* verknüpft werden.

[.instruction]
Variante mit OTTO-Kategoriegruppe verknüpfen:

. Öffne das Menü *Artikel » Artikel bearbeiten »* _Artikel öffnen_.
. Wechsele in das *Tab: Varianten*.
. Öffne die Variante, die du verknüpfen möchtest.
. Wechsele in das *Tab: Eigenschaften*.
. Wähle im Bereich *Varianteneigenschaften* aus der Dropdown-Liste *Eigenschaften* die Eigenschaft *OTTO-Kategoriegruppe* und klicke auf *Hinzufügen* (icon:plus-square[role="green"]). +
→ Die Eigenschaft wird hinzugefügt.
. Wähle für die Eigenschaft *OTTO-Kategoriegruppe* aus der Dropdown-Liste *Wert* die gewünschte Kategoriegruppe. +
→ Die Variante wird im zugehörigen Katalog exportiert. +
→ *Beispiel:* Wählst du den Wert *Betten*, wird die Variante im Katalog für die OTTO-Kategoriegruppe *Betten* exportiert.
. *Speichere* (icon:save[role="green"]) die Einstellungen.


[#500]
== Ereignisaktionen einrichten

Richte <<automatisierung/ereignisaktionen#, Ereignisaktionen>> ein, um OTTO Market automatisch über Änderungen des Auftragsstatus zu informieren. Folgende Ereignisaktionen stehen für OTTO Market zur Verfügung:

* Versandinformation an OTTO melden
* Auftragsstornierung an OTTO melden
* Retoure an OTTO melden
* Ablehnung der Retoure an OTTO melden

In den folgenden Kapiteln wird beschrieben, wie du die Ereignisaktionen in plentymarkets einrichtest.

[IMPORTANT]
.Reihenfolge der Ereignisaktionen beachten
====
Beachte bei der Auftragsbearbeitung unbedingt die Reihenfolge der Ereignisaktionen. Zuerst muss die Ereignisaktion <<Retourenlabel generieren, Retourenlabel generieren>> ausgelöst werden und danach die Ereignisaktion <<Versandinformation an OTTO melden, Versandinformation an OTTO melden>>. Wenn zuvor kein Retourenlabel erstellt wurde, kann keine Versandbestätigung an OTTO Market gesendet werden.
====

[#550]
=== Retourenlabel generieren

Wenn OTTO Market-Aufträge in dein plentymarkets System importiert wurden, müssen für diese Aufträge Retourenlabels generiert werden, bevor der Versand bei OTTO Market bestätigt wird. Mit einer Ereignisaktion zum Erstellen eines Retourenlabels wird automatisch eine Tracking-Nummer für eine Retoure (retTrackingNumber) erstellt, die am Auftrag hinterlegt wird. Dadurch kann sichergestellt werden, dass es eine Tracking-Nummer für eine Retoure gibt, falls Kunden einen Artikel zurücksenden möchten. +

Damit die Tracking-Nummer zusammen mit der Versandbestätigung an OTTO Market gesendet wird, musst du ein Retourenlabel erstellen. Retourenlabels kannst du mit den Versanddienstleister-Plugins link:https://marketplace.plentymarkets.com/plugins/integration/dhlretoureonline_6714[DHL Retoure Online^], link:https://marketplace.plentymarkets.com/plugins/integration/glsshipping_6463[GLS Shipping^] und link:https://marketplace.plentymarkets.com/plugins/integration/hermesshippinginterface_5437[Hermes^] erstellen.

*Hinweis:* Retourenlabels können momentan nur mit DHL, Hermes und GLS Shipping generiert werden.

[IMPORTANT]
.Plugins installieren
====
Um ein Retouren-Label generieren zu können, müssen die Plugins *DHL Retoure Online*, *Hermes* oder *GLS Shipping* in deinem plentymarkets System installiert, aktiviert und eingerichtet sein, je nachdem, für welchen Versanddienstleister du ein Retourenlabel erstellen möchtest. Die Plugins erhältst du im link:https://marketplace.plentymarkets.com/plugins/fulfillment-stock/versand[plentyMarketplace^]{nbsp}icon:external-link[].
====

Wie du eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> einrichtest, um ein DHL-Retourenlabel zu generieren, ist im Folgenden beschrieben.

Um ein Retourenlabel mit GLS Shipping zu erstellen, wähle in der Ereignisaktion die Aktion *Plugins > GLSShipping: Register return label*. Weitere Informationen findest du im link:https://marketplace.plentymarkets.com/plugins/integration/glsshipping_6463[User Guide^] des GLS Shipping-Plugins.

Bei Hermes können Retourenlabels nicht über eine Ereignisaktion erstellt werden. Bevor das Versandlabel für OTTO Market erstellt wird, muss deshalb das Retourenlabel für Hermes entweder manuell über das <<fulfillment/versand-center#, Versand-Center>> oder über eine <<automatisierung/prozesse/aktionen#preamble, Aktion>> in einem Prozess erstellt werden. Weitere Informationen findest du im link:https://marketplace.plentymarkets.com/plugins/integration/hermesshippinginterface_5437[User Guide^] des Hermes-Plugins.

:table-event-procedure: <<#dhl-retouren-label-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[dhl-retouren-label-otto]]
.Ereignisaktion zum Erstellen eines DHL-Retourenlabels
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| *Neuer Auftrag*
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Auftrag*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > DHL Retoure Online-Label generieren*
|
|====

[#700]
=== Versandinformation an OTTO melden

Richte eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein, um OTTO Market über den Versand des Artikels zu informieren.

[TIP]
.Adresse des Absenders hinterlegen
====
Die Versandbestätigung wird nur an OTTO Market gesendet, wenn die Absenderadresse des Händlers hinterlegt wurde. Die Adresse speicherst du in den Einstellungen eines Lagers unter *Einrichtung » Waren » Lager »* _Lager wählen_ *» Einstellungen*. Du musst die Adresse in dem Lager speichern, das für den jeweiligen Auftrag verwendet wird.
====

:table-event-procedure: <<#versandbestaetigung-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[versandbestaetigung-otto]]
.Ereignisaktion um Versandinformation an OTTO Market zu melden
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| *Statuswechsel: z.B. Status [7] Warenausgang gebucht*
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Auftrag*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > Versandinformation an OTTO melden*
|
|====

[#800]
=== Auftragsstornierung an OTTO melden

Richte eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein, um OTTO Market über die Stornierung eines Auftrags zu informieren. Es kann aus verschiedenen Gründen erforderlich sein, Aufträge zu stornieren. Wenn du beispielsweise als Händler den Auftrag selbst stonierst, wähle *Status [8] Storniert*. Wenn ein Kunde den Auftrag storniert, wähle *Status [8.1] Storniert durch Kunden*.

:table-event-procedure: <<#auftragsstornierung-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[auftragsstornierung-otto]]
.Ereignisaktion um Auftragsstornierung an OTTO Market zu melden
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| *Auftragsänderung: Statuswechsel*
| *[8] Storniert* oder *[8.1] Storniert durch Kunden*

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Auftrag*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > Auftragsstornierung an OTTO melden*
|
|====

[#900]
=== Retoure an OTTO melden

Richte eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein, um OTTO Market über eine Retoure zu informieren.

:table-event-procedure: <<#retoure-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[retoure-otto]]
.Ereignisaktion um Retouren an OTTO Market zu melden
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
| *Auftragsanlage: Neue Retoure*
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Retoure*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > Retoure an OTTO melden*
|
|====

[#1000]
=== Ablehnung der Retoure an OTTO melden

Richte eine <<automatisierung/ereignisaktionen#, Ereignisaktion>> ein, um OTTO Market über die Ablehnung einer Retoure zu informieren.

:table-event-procedure: <<#ablehnung-retoure-otto>>

include::../../_includes/textblocks/instructions/EA.adoc[]

[[ablehnung-retoure-otto]]
.Ereignisaktion um die Ablehnung einer Retoure an OTTO Market zu melden
[cols="1,3,3"]
|====
|Einstellung |Option |Auswahl

| *Ereignis*
|Ereignis wählen, z.B. *Auftragsänderung: Statuswechsel* +
*Hinweis:* Wähle einen Status, der zu deinem Arbeitsablauf passt. Du kannst dazu beispielsweise den Status *[8.2] Retoure von OTTO ablehnen* erstellen.
|

| *Filter 1*
| *Auftrag &gt; Auftragstyp*
| *Retoure*

| *Filter 2*
| *Auftrag &gt; Herkunft*
| *OTTO Market*

| *Aktion*
| *Plugins > Ablehnung der Retoure an OTTO melden*
|
|====


[#1050]
== Auftragsbearbeitung bei OTTO Market

Im Folgenden erfährst du, wie Aufträge bei OTTO Market verarbeitet werden.

[#1100]
=== Auftragsimport

OTTO Market-Aufträge werden als unbezahlt in Status *[3] Warten auf Zahlung* in plentymarkets importiert. Nachdem ein Auftrag von OTTO Market bestätigt wurde, wechselt er in Status *[5] Freigabe Versand*. In plentymarkets wird eine Zahlung für den Auftrag erstellt und der Auftrag als *bezahlt* gekennzeichnet. Falls ein Kunde den Auftrag bei OTTO Market per Überweisung bezahlt hat, kann die Auftragsbestätigung längern dauern als bei anderen Zahlungsarten. In plentymarkets wird die Zahlungsart immer als *OTTO Payment* angezeigt. +

Wenn ein Auftrag nicht bezahlt wird, storniert OTTO Market den Auftrag nach einer gewissen Zeit und sendet eine Stornierung an plentymarkets. In plentymarkets wechselt der unbezahlte Auftrag dann automatisch in Status *[8] Storniert*.

[#1200]
=== Rechnungsimport

Rechnungen für OTTO Market-Aufträge werden von OTTO Market selbst erstellt und automatisch in plentymarkets importiert, sobald du den Versand der Ware bei OTTO Market bestätigt hast. Eine Versandbestätigung sendest du mit der Ereignisaktion <<Versandinformation an OTTO melden, Versandinformation an OTTO melden>> an OTTO Market. Die Rechnungsdokumente sind nach erfolgreicher Versandbestätigung im Tab *Belege* des Hauptauftrags verfügbar. Das heißt, dass du für OTTO Market keine Rechnungen in plentymarkets erstellen kannst. +

Da Rechnungen immer dann von OTTO Market erstellt werden, wenn der Versand eines Artikels bestätigt wurde, werden auch Rechnungen für Teillieferungen generiert.


[#1300]
== FAQ

[qanda]

Wie setzt sich der Produkttitel bei OTTO Market zusammen?::
Der Titel, der bei OTTO Market an deinem Artikel angezeigt wird, setzt sich aus den folgenden Feldern zusammen, die du im Katalog verknüpfst: *Marke* + *Modell* + *Besondere Merkmale* + alle Felder, bei denen in Klammern *Namenbildend* steht.

Warum werden meine Artikel nicht zu OTTO Market exportiert?::
Durch die Suche folgender Logs kannst du feststellen, warum bestimmte Artikel nicht zu OTTO Market exportiert werden und deshalb dort nicht verfügbar sind.
+
[.instruction]
. Suche im *Log* in der Dropdown-Liste *Integration* nach *Otto itemexport* und wähle *Plenty\Modules\Otto\Item\Services\ItemExportService*.
. Suche in mehreren Durchläufen in der Dropdown-Liste *Level* sowohl nach *warning* als auch nach *error*.
. Öffne die Logs mit der Nachricht *Variante ungültig*. +
→ Im Log erhältst du die Varianten-ID und den Grund für die Ablehnung bzw. das fehlende Merkmal. +
→ In diesem Beispiel geht es um die Varianten-ID 30170 und die fehlende productDescription.brand. Das heißt, dass hier der Hersteller bzw. die Marke fehlt.
. Als nächstes solltest du nach der im *Log* genannten Variante suchen und dir Varianten anzeigen lassen, damit du auch direkt beim richtigen Artikel landest. +
→ Den Hersteller findest du im Tab *Global* der Variante.
. Im Katalog *Audio » Radios* ist die Marke *AudioAffairs* nicht gemapped, was zur Fehlermeldung bzw. der Ablehnung des Artikels führt.
. Klicke auf *Marke hinzufügen* (icon:plus-square[role="green"]), um die Marke *AudioAffairs* hinzuzufügen.
+
[[filter-artikelexport-log]]
.Suchbegriffe für OTTO Market im Log
[cols="1, 1, 1" grid=none]
|===
a|image::maerkte/otto/assets/otto-item-export.png[Suchbegriff OTTO Market-Logs]
a|image::maerkte/otto/assets/level-warning-error.png[Log-Level]
a|image::maerkte/otto/assets/varianten-id.png[Varianten-ID]
|===

Wie ordne ich ein Retourenpaket dem richtigen Auftrag im plentymarkets System zu?::
Nachfolgend findest du ein exemplarisches DHL-Retourenetikett. Auf dem Etikett ist ersichtlich, welche Informationen dir zur Verfügung stehen.
+
[[dhl-retourenetikett]]
.DHL-Retourenetikett
image::maerkte/otto/assets/dhl-retourenetikett.png[DHL-Retourenetikett]

Wie kann ich bei Kundenanfragen einen Auftrag von OTTO Market im plentymarkets System finden?::
Da die Frage “Wie kann ich bei Kundenanfragen einen Auftrag von OTTO Market finden?” öfter im plentymarkets Forum aufkommt, nachfolgend eine kurze Beschreibung.
+
Im plentymarkets Forum wird öfters von *PositionID* (Beispiel: 715e9369-01e3-4d09-ae91-8688dfa139b2) und *SalesOrderID* (Beispiel: 4245eac7-4647-4f76-8c48-261afb19aa96) gesprochen, diese sind für dich als Händler jedoch nicht relevant. Diese IDs sind für dich nicht sichtbar - es handelt sich um die Bezeichnung des Auftrags und der enthaltenen Positionen in unserer plentymarkets Datenbank.
+
Aufträge mit der Herkunft *OTTO Market* erhalten die übliche Auftrags-ID von deinem plentymarkets System, zur Identifikation des Auftrags wird jedoch eine “externe Auftragsnummer” an dem Auftrag hinterlegt, mit welcher der Auftrag eindeutig zugeordnet werden kann.
+
Nachfolgend findest du Screenshots mit einer kurzen Erläuterung, wie die Aufträge bei uns und bei OTTO Market im Bereich *Mein Konto* angelegt werden.
+
[[otto-market-auftragsnummer]]
."Mein Konto"-Bereich bei OTTO Market
image::maerkte/otto/assets/otto-market_auftragsnummer.png[OTTO Market-Auftragsnummer]
+
Die Auftragsnummer wird in plentymarkets als externe Auftragsnummer am Auftrag hinterlegt.
+
Das Menü zum Suchen des Auftrags anhand der externen Auftragsnummer:
+
[[otto-market-externe-auftragsnummer]]
.Suche nach externer Auftragsnummer
image::maerkte/otto/assets/otto-market_suche_externe-auftragsnummer.png[Suche externe Auftragsnummer]
+
Im Tab *Einstellungen* des Auftrags findest du die externe Auftragsnummer (*Ext. Auftragsnummer*):
+
[plentymarkets-externe-auftragsnummer]]
.Suche nach externer Auftragsnummer
image::maerkte/otto/assets/plentymarkets_externe-auftragsnummer.png[externe Auftragsnummer in plentymarkets]
+
Sollte ein Kunde eine Rückfrage zu dem Auftrag haben, kannst du anhand der externen Auftragsnummer den Auftrag finden.
+
Außerdem kannst du mit dem Filter *Herkunft* natürlich immer alle OTTO Market-Aufträge filtern.

Mir wird ein Fehler im Log angezeigt. Wie kann ich den Fehler beheben?::
+
* *Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique.*
+
Dieser Fehler wird im Log z.B. auch unter “SKU 1234 nicht generiert” angezeigt.
+
Im Katalog wird an erster Stelle definiert, aus welcher Quelle die SKU generiert werden soll. Wir unterscheiden dort zwischen einer *Parent-SKU* und einer *Variation-SKU*. Die dort gewählte Quelle sollte sich auf eine Datenzeile beziehen, welche einmalig existiert. Es ist also nicht möglich, für verschiedene Artikel dieselbe SKU nochmals zu vergeben. Als Beispiel könnte man also die *Artikel-ID* sowie die *Variation-ID* verwenden. Beide IDs werden vom plentymarkets System bei der Anlage des Artikels vergeben und existieren jeweils nur einmal. Nun könnte jedoch der Fall eintreten, dass der Artikelexport stattgefunden hat und der Export aufgrund einer fehlenden Information im Katalog in einen Fehler gelaufen ist. Die SKU wurde aber trotzdem geschrieben und ist nun in der Variante im Tab *Verfügbarkeit* sichtbar. Beim nächsten Export würde das plentymarkets System wieder versuchen, eine SKU aus den im Katalog gewählten Quellen zu erstellen. Da diese SKU jedoch bereits existiert, kommt es zum Fehler "Duplicate entry. Combination of the fields variationId, marketId and accountId must be unique." / "SKU 1234 nicht generiert.".
+
Deshalb ist es notwendig, eine Fallback-Lösung (Absicherung) im Katalog hinzuzufügen. Die Lösung würde dann wie folgt aussehen:
+
[[weitere-quelle]]
.Quelle hinzufügen
image::maerkte/otto/assets/otto-market_weitere_quelle.png[Quelle hinzufügen]
+
[IMPORTANT]
.Quelle hinzufügen
====
Wenn du eine weitere Quelle hinzufügst, ist es zwingend notwendig, dafür die Schaltfläche *Quelle hinzufügen* (icon:link[role="yellow"]) auf der rechten Seite des Katalogs zu verwenden. Benutze _nicht_ die Schaltfläche *+ zusätzliche Quelle* (icon:plus-square[role="green"]), da ansonsten deine SKUs doppelt erstellt werden und der Fehler auf diese Weise nicht behoben werden kann.
====
+
Es wird also eine zweite Quelle hinzugefügt. Beim nächsten Export wird zuerst auf die erste Quelle geschaut. Da in dieser Quelle bereits eine SKU existiert, wird die zweite Quelle ignoriert. Sollte in der ersten Quelle keine SKU existieren, dann wird mittels der zweiten Quelle eine neue SKU erstellt.
+
* *Code: 200009 - ATTRIBUTE_CHANGE_DENIED* oder *title: Der Wert dieses Feldes kann nicht geändert werden.*
+
Dieser Fehler zeigt an, dass du eine Änderung an einem OTTO-Artikelattribut vorgenommen hast. Diese Änderung wird von OTTO jedoch nicht akzeptiert und es ist nicht möglich, das Attribut für diesen Artikel zu ändern. Das dort bemängelte Attribut kann sich zum Beispiel auf ein variantenbildendes Attribut oder auch auf ein titelbildendes Attribut beziehen. Auch weitere OTTO-Attribute spielen hierbei eine Rolle.
+
[TIP]
.Artikel können bei OTTO Market nicht gelöscht werden
====
Ein Artikel kann bei OTTO Market _nicht_ gelöscht werden, weder durch plentymarkets noch durch OTTO selbst. Es ist lediglich möglich, den Artikel auf OTTO Market als *nicht verfügbar* zu kennzeichnen. Deshalb solltest du vor der Artikelübertragung immer sicherstellen, dass im Katalog die korrekten Quellen verknüpft wurden.
====
+
* *productDescription.brand*
+
Dieser Fehler zeigt an, dass die Marke der Variante, die übertragen werden soll, nicht im Katalog verknüpft ist. Die Marke kannst du auf zwei verschiedenen Arten mit der Variante verknüpfen:
+
* über den Hersteller des Artikels im *Tab: Global* des Artikels
* über eine Eigenschaft
+
Stelle sicher, dass im Katalog eine Quelle für die Marke hinterlegt wurde und dass diese Quelle mit deinem Artikel verknüpft und ausgefüllt ist.
+
* *mediaAssets.IMAGE*
+
Dieser Fehler zeigt an, dass du im Katalog entweder keine Bildquelle gewählt hast, oder keines deiner Artikelbilder für die Herkunft *OTTO Market* freigegeben ist. Öffne dazu das *Tab: Bilder* des Artikels aktiviere die Herkunft *OTTO Market*, wie im Kapitel <<Verfügbarkeit am Bild einstellen, Verfügbarkeit am Bild einstellen>> beschrieben.
+
* *delivery.type*
+
Dieser Fehler zeigt an, dass die Versandart nicht verknüpft ist. Die Versandart kann über zwei verschiedene Quellen festgelegt werden:
+
* über ein Versandprofil
* über eine Eigenschaft
+
Stelle sicher, dass die im Katalog hinterlegte Quelle mit dem Artikel verknüpft ist. Bei dem Versandprofil ist dies das aktivierte Versandprofil im *Tab: Global* des Artikels. Bei der Eigenschaft ist dies die aktivierte und gefüllte Eigenschaft an der jeweiligen Variante.
+
* *productDescription.category*
+
Dieser Fehler zeigt an, dass die Kategorieverknüpfung im Katalog fehlt. Prüfe im Katalog, ob mindestens eine Kategorie der gewünschten Variante mit einer OTTO Market-Kategorie verknüpft ist.
+
* Fehlermeldungen zum Auftragsablauf: *Carrier ID (X) not mapped in OTTO market config.*
+
Prüfe, ob im Assistenten *OTTO Market Grundeinstellungen* im Menü *Einrichtung » Assistenten » Omni-Channel* im Schritt *Versanddienstleister* Versanddienstleister mit OTTO Market verknüpft wurden.
