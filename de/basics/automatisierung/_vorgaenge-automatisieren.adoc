= Vorgänge automatisieren
:lang: de
include::{includedir}/_header.adoc[]
:keywords: Vorgänge automatisieren, Best Practice, Aufträge
:position: 40



==  Vorgänge automatisieren

Ein nicht unerheblicher Teil des Tagesgeschäfts entfällt auf einfache Routineaufgaben, die Sie weitgehend durch Ihr plentymarkets-System erledigen lassen können. Beispielsweise der Versand von E-Mails an Ihre Kunden oder Mitarbeiter ist eine sehr zeitaufwendige Aufgabe, die für Ihr Geschäft aber unverzichtbar ist. plentymarkets bietet Ihnen verschiedene ebenso einfache wie effektive Werkzeuge an, mit denen Sie solche Routineaufgaben automatisch erledigen können. Diese Werkzeuge sind z.B. **Ereignisaktionen** oder automatische Abläufe, die über den **Aktionsmanager** gesteuert werden. Zunächst stellen wir Ihnen grundlegende Funktionen der Ereignisaktionen und des Aktionsmanagers anhand von praktischen Beispielen vor.

===  Voraussetzungen

Bestimmte Voraussetzungen müssen erfüllt sein, um manche Automatismen durchführen zu können. Beispielsweise müssen Sie eine **E-Mail-Vorlage** erstellt haben, bevor Sie diese per Ereignisaktion verschicken können. Die Voraussetzungen werden für die Praxisbeispiele auf dieser Handbuchseite jeweils genannt.

==  Ereignisaktionen

Das Grundprinzip ist leicht verständlich: Bestimmte **Ereignisse** im Webshop lösen, gesteuert mit einer Ereignisaktion, durch eine Art Schalter-Funktion bestimmte **Aktionen** aus. Das einfachste Beispiel ist die Bestellbestätigung, bei dem auf das **Ereignis: Neuer Auftrag** immer die **Aktion: E-Mail-Versand** folgt. Die zu versendende E-Mail wird ebenfalls in der Ereignisaktion eingestellt.

===  Ereignisaktionen erstellen

Die folgenden Schritte zeigen die allgemeine Vorgehensweise beim Konfigurieren einer Ereignisaktion. Es werden je nach Ereignis weitere Optionen eingeblendet. Führen Sie die **Aktivierung** erst aus, wenn Sie mit der Konfiguration fertig sind. Natürlich ist es auch möglich, durch Entfernen des Häkchens eine Ereignisaktion **inaktiv** zu schalten, wenn diese z.B. zeitweise nicht ausgeführt werden soll. Sie brauchen diese dann nicht zu löschen und können sie bei Bedarf wieder aktivieren.

[.instruction]
Ereignisaktion erstellen:

.  Öffnen Sie das Menü <<basics/automatisierung/ereignisaktionen#, System » Aufträge » Ereignisaktionen>>.
.  Klicken Sie links unten auf das **grüne Plus**, um eine neue **Ereignisaktion** zu erstellen.
.  Tragen Sie im Bearbeitungsfenster einen **Namen** ein.
.  Wählen Sie unter **Ereignis** die gewünschte **Option**.
.  Wenn daraufhin **weitere Optionen** eingeblendet werden, treffen Sie die gewünschte Auswahl.
.  Klicken Sie auf **Speichern**. +
→ Die Ereignisaktion wird angelegt.
.  Fügen Sie mit dem **grünen Plus** einen oder mehrere **Filter** des gewünschten Filtertyps hinzu. +
→ Der Filter wird angelegt.
.  Markieren Sie im Filter die gewünschte **Option**.
.  Fügen Sie mit dem **grünen Plus** eine oder mehrere **Aktionen** des gewünschten Aktionstyps hinzu. +
→ Die Aktion wird angelegt.
.  In der Aktion die gewünschte **Option** wählen bzw. **Einstellung** vornehmen.
.  Setzen Sie ein Häkchen bei **Aktiv**.
.  *Speichern* Sie die Einstellungen.

image::basics/automatisierung/assets/DE-Auftraege-BP-Vorgaenge-automatisieren-01.png[]

__Bild 1: **Ereignisaktion** konfigurieren; Tab **Aktionen**__

==  Praxisbeispiele: Ereignisaktionen

Wir beschreiben nun einige praktische Beispiele für automatische Aktionen, die mit Ereignisaktionen ausgelöst werden. Das sind zunächst einige häufig verwendete automatische Versendungen von **E-Mail-Vorlagen**. Anschließend erhalten Sie Informationen zu Aktionen, die automatisch **Zustände ändern**, z.B. einen Status.

[TIP]
.Tipp: E-Mail-Vorlagen
====
Beachten Sie die jeweils benötigte **E-Mail-Vorlage** und richten Sie diese ein, bevor Sie die betreffende Ereignisaktion konfigurieren.
====

===  E-Mail-Vorlage an einen Kunden schicken

Verwenden Sie Ereignisaktionen, um Ihren **__Kunden__** zu einem bestimmten Anlass eine automatische **__E-Mail-Vorlage__** zu schicken. **E-Mail-Vorlagen** richten Sie unter **System » Mandant » Mandant wählen » E-Mail » Vorlagen** ein. Beispielsweise können Sie Ihren Kunden:

*  eine **Bestellbestätigung** schicken, um den Käufer über den **__Eingang seiner Bestellung__** zu informieren.
*  eine **Nachricht** schicken, wenn der Käufer den **__falschen Zahlbetrag__** überwiesen hat.

====  Kunden eine Bestellbestätigung schicken

Gehen Sie wie im Kapitel 2.1 beschrieben vor, um die Ereignisaktion anzulegen.

Die folgende Tabelle zeigt die nötigen **__Einstellungen__**:

[cols="1,3"]
|====
| Bereich | Konfiguration

|**Ereignis**
| Als **Ereignis** die Option **Auftragsanlage » Neuer Auftrag** wählen.

|**Filter**
| Für den Filter **Auftrag &gt; Auftragsart** die Option **Auftrag** wählen.

|**Aktionen**
| Den Aktionstyp **Kunde &gt; E-Mail versenden** wählen und dann über das Plus-Symbol für den **Kunden** z.B. die Vorlage **Eingangsbestätigung Webshop Bestellung** hinzufügen.
|====

__Tab. 1: Ereignisaktion: **Einstellungen** für **Bestellbestätigung**__

====  Kunden über eine Teilzahlung informieren

Gehen Sie wie im Kapitel 2.1 beschrieben vor, um die Ereignisaktion anzulegen.

Die folgende Tabelle zeigt die nötigen **__Einstellungen__**:

[cols="1,3"]
|====
| Bereich | Konfiguration

|**Ereignis**
| Als **Ereignis** die Option **Zahlung » Teilzahlung** wählen.

|**Filter**
| Für den Filter **Auftrag &gt; Auftragsart** die Option **Auftrag** wählen.

|**Aktionen**
| Den Aktionstyp **Kunde &gt; E-Mail-Versand** erstellen und über das Plus-Symbol für den **Kunden** die Vorlage **Teilzahlung erhalten** hinzufügen.
|====

__Tab. 2: Ereignisaktion: **Einstellungen** für **Teilzahlungsinformation**__

===  E-Mail-Vorlage an einen Mitarbeiter schicken

Verwenden Sie Ereignisaktionen, um Ihren **__Mitarbeitern__** zu einem bestimmten Anlass automatisch eine **E-Mail-Vorlage** zu schicken. Beispielsweise können Sie einem Mitarbeiter:

*  eine **__Information__** schicken, wenn der Käufer einen **__Zusatzwunsch oder Hinweis__** zu seiner Bestellung im Mein-Konto-Bereich einträgt.
*  eine **__Information__** schicken, wenn ein Auftrag in den Status **[5] Freigabe Versand** wechselt.

====  Mitarbeiter über einen Zusatzwunsch informieren

Gehen Sie wie im Kapitel 2.1 beschrieben vor, um die Ereignisaktion anzulegen.

Die folgende Tabelle zeigt die nötigen **__Einstellungen__**:

[cols="1,3"]
|====
| Bereich | Konfiguration

|**Ereignis**
| Als **Ereignis** die Option **Auftragsänderung &gt; Auftragsnotiz vom Kunden** wählen.

|**Filter**
| Für den Filter **Auftrag &gt; Auftragsart** die Option **Auftrag** wählen.

|**Aktionen**
| Den Aktionstyp **Kunde &gt; E-Mail-Versand** erstellen und über das Plus-Symbol für den **Mitarbeiter** die gewünschte Vorlage hinzufügen. +
Die E-Mail wird an die Adresse des gewählten Mitarbeiters versendet. Damit eine E-Mail-Adresse hier wählbar ist, muss sie im Menü <<basics/arbeiten-mit-plentymarkets/benutzer-verwalten#42, System » Einstellungen » Benutzer » Konten>> beim Benutzer eingetragen sein. +
**Tipp**: Den Platzhalter **$CustomerSpecialWishes** in die E-Mail-Vorlage einfügen. Der Platzhalter gibt den vom Kunden eingetragenen Text aus.
|====

__Tab. 3: Ereignisaktion: **Einstellungen** für **Zusatzwunsch-Information**__

====  Mitarbeiter über einen Statuswechsel informieren

Gehen Sie wie im Kapitel 2.1 beschrieben vor, um die Ereignisaktion anzulegen.

Die folgende Tabelle zeigt die nötigen **__Einstellungen__**:

[cols="1,3"]
|====
| Bereich | Konfiguration

|**Ereignis**
| Als **Ereignis** die Option **Auftragsänderung » Statuswechsel** und den Status **[5] Freigabe Versand** wählen.

|**Filter**
| Für den Filter **Auftrag &gt; Auftragsart** die Option **Auftrag** wählen.

|**Aktionen**
| Den Aktionstyp **Kunde &gt; E-Mail-Versand** erstellen und über das Plus-Symbol für den **__Mitarbeiter__** z.B. die Vorlage **Versandbestätigung zur Bestellung** hinzufügen. +
Die E-Mail wird an die Adresse des gewählten Mitarbeiters versendet. Damit eine E-Mail-Adresse hier wählbar ist, muss sie im Menü <<basics/arbeiten-mit-plentymarkets/benutzer-verwalten#10, System » Einstellungen » Benutzer » Konten>> beim Benutzer eingetragen sein.
|====

__Tab. 4: Ereignisaktion: **Einstellungen** für **Statuswechsel-Information**__

===  Auftragsstatus ändern

Verwenden Sie Ereignisaktionen, um **Aufträge** automatisch in einen **__anderen Status__** zu setzen. Beispielsweise können Sie:

*  Eine **__Rechnung erzeugen__**, wenn ein Auftrag in den Status **[5] Freigabe Versand** wechselt und dabei diesen Auftrag in den Status **[6] Gerade im Versand** setzen.

====  Rechnungen erzeugen und Status ändern

Gehen Sie wie im Kapitel 2.1 beschrieben vor, um die Ereignisaktion anzulegen.

Die folgende Tabelle zeigt die nötigen **__Einstellungen__**:

[cols="1,3"]
|====
| Bereich | Konfiguration

|**Ereignis**
| Als **Ereignis** die Option **Auftragsänderung » Statuswechsel** und den Status **[5] Freigabe Versand** wählen.

|**Filter**
| Für den Filter **Auftragsart** die Option **Auftrag** wählen.

|**Aktionen**
| Den Aktionstyp **Auftrag &gt; Status ändern** erstellen und den Status **[6] Gerade im Versand** wählen. +
Den Aktionstyp <<auftragsabwicklung/auftraege/auftragsdokumente#, Dokumente>> &gt; Rechnung erzeugen** erstellen und ggf. die Optionen **Zahlungsziel** und **Skonto** aktivieren. Die gewünschten Einstellungen vornehmen. Bei Bedarf einen **Kommentar** hinterlegen. +
**Hinweis:** Mit dieser Ereignisaktion **__nur__** die Rechnungen erzeugen. Eine zweite Ereignisaktion anlegen, wenn Kunden die Rechnung als **__Anhang in einer E-Mail__** erhalten sollen. Werden Dokumente mit einer Aktion gleichzeitig erzeugt und versendet, erfolgt der E-Mail-Versand unter Umständen, bevor die Rechnung vollständig erzeugt wurde.
|====

__Tab. 5: Ereignisaktion: **Rechnungen erzeugen** und **Auftragsstatus wechseln**__

===  Gratis-Artikel an einen Auftrag anhängen

Verwenden Sie Ereignisaktionen, um Kunden ab einem bestimmten Warenwert pro Einkauf einen Artikel aus Ihrem Sortiment automatisch als **__Gratiszugabe__** anzubieten. Eine detaillierte Anleitung auf der Handbuchseite <<artikel/gratis-zugaben-freiartikel#, Gratis-Zugaben>> beschreibt, wie Sie dies mit einer Ereignisaktion realisieren.

==  Aktionsmanager

Mit dem Aktionsmanager konfigurieren Sie automatische Prozesse, die **__Aktionen täglich zu bestimmten Zeitpunkten ausführen__**. Im Gegensatz zu den Ereignisaktionen werden die Aktionen im Aktionsmanager in der Regel nicht von bestimmten Ereignissen ausgelöst, sondern nachdem eine festgelegte **__Zeitspanne__** vergangen ist. Beispielsweise können Sie täglich eine automatische Zahlungserinnerung an alle Kunden schicken, die nicht innerhalb der letzten 7 Tage ihre Waren bezahlt haben.

===  Neue Aktion konfigurieren

Die folgenden Schritte zeigen die allgemeine Vorgehensweise beim Konfigurieren einer **Aktion**. Die **__Aktivierung__** ist jeweils beim Tab **Einstellungen** beschrieben, da sie dort erfolgt. Sinnvoller ist jedoch, die Aktivierung erst auszuführen, wenn Sie mit der Konfiguration fertig sind. Durch Entfernen des Häkchens können Sie eine Aktion **inaktiv** schalten, wenn diese z.B. zeitweise nicht ausgeführt werden soll. Sie brauchen diese dann nicht zu löschen und können sie bei Bedarf wieder aktivieren. Aktionen konfigurieren Sie wie unten beschrieben.

image::basics/automatisierung/assets/DE-Auftraege-BP-Vorgaenge-automatisieren-02.png[]

__Bild 2: **Neue Aktion** konfigurieren; Tab **Filter**__

[.instruction]
Neue Aktion konfigurieren:

.  Öffnen Sie das Menü <<basics/automatisierung/aktionsmanager#, System » Aufträge » Aktionsmanager>>.
.  Klicken Sie auf das Tab **Neue Aktion**, um eine **neue Aktion** anzulegen. +
→ Das Bearbeitungsmenü gliedert sich in drei Tabs: **Einstellungen**, **Filter** und **Aktion**.
.  Klicken Sie auf das Tab **Einstellungen**.
.  Stellen Sie den **__Zeitpunkt__** der Aktion ein, zu dem die Aktion täglich ausgeführt werden soll.
.  Tragen Sie einen **Namen** ein.
.  Setzen Sie ein Häkchen bei **Aktiv**.
.  Klicken Sie auf das Tab **Filter**.
.  Wählen Sie die gewünschten Filter.
.  Klicken Sie auf das Tab **Aktion**.
.  Wählen Sie die gewünschte(n) Aktion(en).
.  *Speichern* Sie die Einstellungen.

==  Praxisbeispiele: Aktionsmanager

===  Erinnerung bzw. Mahnung für eBay-Kunden

Listings von eBay erhalten nach dem Abruf entweder den Auftragsstatus **[1] Unvollständige Daten** oder **[3] Warten auf Zahlung**, je nach gewählter Einstellung unter**System » Listings » Kaufabwicklung**. Wurde der **Status [1]**gewählt, ist einfach ersichtlich, ob ein Kunde den Bestellprozess bereits durchlaufen oder dies versäumt hat. Wenn der Kunde den Bestellprozess erfolgreich durchlaufen hat, erhält der Auftrag den Status **[3] Warten auf Zahlung** oder **[5] Freigabe Versand**. Um den Kunden an sein Versäumnis zu erinnern, empfiehlt sich die unten beschriebene Einstellung.

Gehen Sie wie im Kapitel 4.1 beschrieben vor, um den Aktionsmanager zu konfigurieren.

Die folgende Tabelle zeigt die nötigen **__Einstellungen__**:

[cols="1,3"]
|====
| Tab | Einstellung

|**Einstellungen**
| Den **Zeitpunkt** der Aktion einstellen, zu dem die Aktion täglich ausgeführt werden soll. Einen **Namen** eintragen und ein Häkchen bei **Aktiv** setzen.

|**Filter**
| Unter **Status** die Option **[1] Unvollständige Daten** wählen. Unter **Letzter Statuswechsel** die Option **Tage eingeben** wählen. **2** in das Feld eintragen. +
Alle eBay-Aufträge werden gefunden, die **__seit genau zwei Tagen im Status 1__** sind.

|**Aktion**
| Unter **Versende E-Mail-Vorlage** die für diesen Fall erstellte **E-Mail-Vorlage** wählen.
|====

__Tab. 6: Aktionsmanager: **Einstellungen** für **Erinnerung/Mahnung eBay**__

===  Zahlungserinnerungen

Säumige Zahler lassen sich mit einer ähnlichen Aktion erreichen. Wir bilden hier den klassischen Fall bei der Zahlungsart **Vorkasse** ab. Ein Auftrag mit dieser Zahlungsart erhält direkt den Status **[3] Warten auf Zahlung**.

Gehen Sie wie im Kapitel 4.1 beschrieben vor, um den Aktionsmanager zu konfigurieren.

Die folgende Tabelle zeigt die nötigen **__Einstellungen__**:

[cols="1,3"]
|====
| Tab | Einstellung

|**Einstellungen**
| Den **Zeitpunkt** der Aktion einstellen, zu dem die Aktion täglich ausgeführt werden soll. Einen **Namen** eintragen. Ein Häkchen bei **Aktiv** setzen.

|**Filter**
| Unter **Status** die Option **[3] Warten auf Zahlung** wählen. Unter **Letzter Statuswechsel** die Option **Tage eingeben** wählen. **7** in das Feld eintragen. +
Alle Aufträge werden gefunden, die **__seit genau sieben Tagen im Status 3__** sind.

|**Aktion**
| Unter **Versende E-Mail-Vorlage** die für diesen Fall erstellte **E-Mail-Vorlage** wählen.
|====

__Tab. 7: Aktionsmanager: **Einstellungen** für **Zahlungserinnerungen**__

[TIP]
.Tipp: Aktionsvarianten
====
Es empfiehlt sich, diese Aktion in mehreren Varianten anzulegen. Eine weitere, deutlichere E-Mail kann so einige Tage später versendet werden. Noch einige Tage später kann direkt eine Aktion ausgeführt werden, die den Status auf **8** setzt, um den Auftrag zu stornieren. Dieser Statuswechsel bewirkt auch, dass der für diesen Auftrag reservierte Warenbestand wieder freigegeben wird.
====

===  eBay-Zahlungserinnerungen

Mit plentymarkets kann der eBay-Disputprozess gestartet werden. Dabei erhält der Käufer über eBay eine Zahlungsaufforderung. Dieser Vorgang kann ebenfalls mittels des Aktionsmanagers gestartet werden. Es empfiehlt sich, den Filter für diese Aktion ähnlich dem der Aktion **Zahlungserinnerungen** aus dem vorherigen Kapitel zu gestalten. Als Aktion wird dazu aber **eBay: Disputprozess starten** gewählt.

Der Disputprozess ist für Aufträge vorgesehen, bei denen Sie länger als mind. **__4 Tage__** auf die Zahlung warten. Diese Aufträge werden in plentymarkets als **__ausstehende Aufträge__** bezeichnet und sind im Menü <<omni-channel/multi-channel/ebay-einrichten#7300, System » Märkte » eBay » Datenaustausch>> einsehbar und können hier importiert werden. Damit der Disputprozess per Aktionsmanager gestartet wird, müssen Sie diese ausstehenden Aufträge zunächst **__importierten__**.

Gehen Sie wie im Kapitel 4.1 beschrieben vor, um den Aktionsmanager zu konfigurieren.

Die folgende Tabelle zeigt die nötigen **__Einstellungen__**:

[cols="1,3"]
|====
| Tab | Einstellung

|**Einstellungen**
| Den **Zeitpunkt** der Aktion einstellen, zu dem die Aktion täglich ausgeführt werden soll. Einen **Namen** eintragen. Ein Häkchen bei **Aktiv** setzen.

|**Filter**
| Unter **Status** die Option **[1] Unvollständige Daten** wählen. Unter **Letzter Statuswechsel** die Option **Tage eingeben** wählen. **10** in das Feld eintragen. +
Alle eBay-Aufträge werden gefunden, die **__seit genau zehn Tagen im Status 1__** sind.

|**Aktion**
| Unter **eBay** die Option **Disputprozess starten** wählen.
|====

__Tab. 8: Aktionsmanager: **Einstellungen** für **eBay-Zahlungserinnerungen**__

===  eBay-Bewertungen

plentymarkets bietet die Möglichkeit, einen Käufer nach dem Verkauf oder bei Erhalt einer positiven Bewertung automatisch positiv zu bewerten. Für diesen Prozess muss eine entsprechende Aktion im **Aktionsmanager** eingerichtet sowie **Bewertungstexte** hinterlegt werden. Diese Aktion ist die einzige im Aktionsmanager, die von einem Ereignis und nicht von einem bestimmten Zeitpunkt ausgelöst wird. Beachten Sie dazu die Handbuchseite <<omni-channel/multi-channel/ebay-einrichten#1300, eBay>>.
