= Best Practice: DNS-Einstellungen prüfen und anpassen
:lang: de
:keywords: DNS, CNAME, www.www., www.www, A-Record, DNS_NAME, NOT_RESOLVED
:position: 1
:url: basics/admin-aufgaben/best-practices/dns-selbsthilfe
:id: Z6F5WUG

Hier erfährst du mehr über die DNS-Einstellungen.

== Was bedeutet "DNS"?

Das **D**omain **N**ame **S**ystem (**DNS**) ist einer der wichtigsten Dienste in vielen IP-basierten Netzwerken. Seine Hauptaufgabe ist die Beantwortung von Anfragen zur Namensauflösung.

Namen sind leichter zu merken als eine bis zu 12-stellige Zahlenkombination, aus diesem Grund werden für das Internet sog. Domains verwendet (wie z. Bsp. `plentymarkets.eu`). Ein Aufruf dieser Domain in einem Internetbrowser erzeugt eine Anfrage an diverse DNS-Server, die versuchen diese Domain in eine IP-Adresse aufzulösen und auf diese Weise den für den Inhalt zuständigen Server der Domain `plentymarkets.eu` zu erreichen.

**Beispiel:** +
IP-Adressen sind, wie der Name schon sagt, Adressen. Will man in der realen Welt ein Paket verschicken, so braucht man dafür die Adresse des Empfängers. Bei Netzwerken ist das nicht anders, nur dass hier Netzwerkpakete verschickt werden und dass sich die Adressen nicht aus Straße, Hausnummer, Postleitzahl und Ort zusammensetzen. Stattdessen kommen klar definierte Zahlenfolgen zum Einsatz, die **I**nternet-**P**rotokoll-**Adressen**, oder eben kurz **IP-Adressen**, genannt werden.

.illustrate_IP_addresses
[cols="h,4*",frame="topbot",options="header"]
|=====================================================
||Adressteil 1 |Adressteil 2|Adressteil 3|Adressteil 4
|Post|Straße|Hausnummer|Postleitzahl|Ort
|Netzwerk|192|168|0|1
|=====================================================

*Diese Tabelle dient lediglich der Veranschaulichung. Die Gewichtung der Adressteile stehen in keinem Zusammenhang.

== Welche DNS-Daten müssen angepasst werden?

=== A-Record

Mit einem A-Resource-Record wird einem DNS-Namen (z. B. einer link:https://de.wikipedia.org/wiki/Uniform_Resource_Locator[URL^] wie `plentymarkets.eu`) eine IPv4-Adresse zugeordnet.

=== CNAME

Ein CNAME Resource Record (CNAME RR) ist im Domain Name System (DNS) dazu vorgesehen, einer Domäne einen weiteren Namen zuzuordnen. Ein CNAME-Eintrag darf nicht für die eigentliche Domain (`plentymarkets.eu`), sondern lediglich für Subdomains (`knowledge.plentymarkets.eu`) verwendet werden! Ein CNAME-Eintrag überschreibt grundsätzlich alle anderen Einträge der gleichen Subdomain.

**Beispiel:** +
Der Name eines Shops lautet `plentymarkets.eu`. Wir möchten, dass dieser Shop ebenfalls unter dem Namen `www.plentymarkets.eu` zu erreichen ist.
Durch das Eintragen eines CNAMES für `www.plentymarkets.eu` wird dafür gesorgt, dass `www.plentymarkets.eu` die Anfrage zum Darstellen der Internetseite an `plentymarkets.eu` weitergibt.

[WARNING]
====
Für den Betrieb des Systems auf link:https://forum.plentymarkets.com/t/information-source-autoscaling-informationen-und-koordination/46996[AutoScaling^] ist ein CNAME-Record für die Subdomain `**www**.plentymarkets.eu` zwingend erforderlich!
Der hierfür notwendige Eintrag wird in Deinem Service-Center an der jeweiligen Domain dargestellt.
[[styleguide-assets]]
.check_dns_settings1
image::basics/admin-aufgaben/best-practices/assets/dnsselbsthilfe_pic001.png[]
Gleiches gilt für alle anderen Sub-Domains.
====

== Wie sehe ich meine aktuell hinterlegten DNS-Einträge?

=== Per Internet-Browser

Auf der Internetseite link:https://www.whatsmydns.net/[whatsmydns.net^] kann kann man sehen welche DNS-Einstellungen bei Deinem Domain-Provider hinterlegt sind. Weiterhin bietet die Seite die Möglichkeit den Stand der weltweiten Verteilung der DNS-Daten auf allen DNS-Servern nachzuverfolgen.

==== A-Record-Eintrag ermitteln

1. Trage in Feld #**A**# die Domain und Top-Level-Domain ein, dessen A-Record ermittelt werden soll - z. Bsp. `plentymarkets.eu` (**nicht** `**www.**plentymarkets.eu`).
2. Wähle bei Feld #**B**# den zu ermittelnden Ressource-Record-Eintrag aus - in diesem Fall "**A**".
3. Starte die Suche durch einen Klick auf **Search**.

[[styleguide-assets]]
.check_dns_settings2
image::basics/admin-aufgaben/best-practices/assets/dnsselbsthilfe_pic002.png[]

Es erscheint eine Liste der weltweiten Haupt-DNS-Server mit dem derzeit eingetragenen, dem Server bekannten A-Record in Form einer IPv4-Adresse.

==== CNAME-Record-Eintrag ermitteln

1. Trage in Feld #**A**# die Subdomain, Hauptdomain und Top-Level-Domain ein, dessen CNAME-Record ermittelt werden soll, z.B. www.meinshop.de.
2. Wähle bei Feld #**B**# den zu ermittelnden Ressource-Record-Eintrag aus - in diesem Fall "**CNAME**".
3. Starte die Suche durch einen Klick auf **Search**.

[[styleguide-assets]]
.check_dns_settings3
image::basics/admin-aufgaben/best-practices/assets/dnsselbsthilfe_pic003.png[]

Es erscheint eine Liste der weltweiten Haupt-DNS-Server mit dem derzeit eingetragenen, dem Server bekannten CNAME-Record.

=== Linux, MacOS und Windows Kommandozeilentools

==== A-Record-Eintrag ermitteln:

1. Öffne auf Deinem Linux/MacOS ein Terminalfenster, oder auf Deinem Windows die Eingabeaufforderung
2. Trage zum Ermitteln des A-Record-Eintrages folgenden Befehl ein: +
`nslookup plentymarkets.eu` (**nicht** `**www.**plentymarkets.eu`)
3. Es erscheint die nachfolgende Ausgabe mit dem entsprechenden A-Record-Eintrag

[[styleguide-assets]]
.check_dns_settings4
image::basics/admin-aufgaben/best-practices/assets/dnsselbsthilfe_pic004.png[]

==== CNAME-Record-Eintrag ermitteln:

1. Öffne auf Deinem Linux/MacOS ein Terminalfenster, oder auf Deinem Windows die Eingabeaufforderung
2. Trage zum Ermitteln des CNAME-Record-Eintrages folgenden Befehl ein: +
`nslookup -q=CNAME www.plentymarkets.eu` (**Bitte exakte Schreibweise beachten!**)
3. Es erscheint die nachfolgende Ausgabe mit dem entsprechenden CNAME-Record-Eintrag

[[styleguide-assets]]
.check_dns_settings5
image::basics/admin-aufgaben/best-practices/assets/dnsselbsthilfe_pic005.png[]

=== Wo finde ich die benötigten, korrekten DNS-Einträge?

Die korrekten DNS-Einstellungen findest Du in Deinem Service-Center +
**Service-Center » Systeme » Plenty ID » Tab: Domain » Domain-ID » Aktuelle DNS Einstellungen**

**Beispielauszug:**

[[styleguide-assets]]
.check_dns_settings1
image::basics/admin-aufgaben/best-practices/assets/dnsselbsthilfe_pic001.png[]

Der Login in das Service-Center ist über den nachfolgenden Link zu erreichen:
link:https://www.plentymarkets.eu/my-account/[^]

Für den Login wird als Anmeldename die E-Mail-Adresse benötigt, die auf Deiner plentymarkets-Rechnung angegeben wurde, sowie das dazugehörige Passwort.

== Wie ändere ich meine extern hinterlegten DNS-Einträge?

Prinzipiell liegt die Verantwortung, dass die DNS-Einstellungen bei **extern gehosteten Domains** beim Domain-Inhaber - also bei Dir. Plentymarkets bietet keinen offiziellen Support für das Einrichten von externen Domains.

[WARNING]
====
Das Ändern von DNS-Einstellungen sollte nur von fachkundigem Personal durchgeführt werden, da Fehlkonfigurationen zur Nichterreichbarkeit der Domain führen und damit die Systemerreichbarkeit negativ beeinflussen können. +
====

Im Forum sind ein paar Screenshots von verschiedenen Domain-Providern hinterlegt, anhand deren man die notwendigen Schritte zum Hinterlegen der korrekten DNS-Einstellungen nachvollziehen kann:
link:https://forum.plentymarkets.com/t/selbsthilfe-bei-dns-problemen-wie-hinterlege-ich-korrekte-dns-einstellungen/65559/7[Link zum plentymarkets-Forum]
