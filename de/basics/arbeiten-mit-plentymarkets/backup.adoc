= Daten-Backup durchführen
:lang: de
include::{includedir}/_header.adoc[]
:keywords: Backup, Daten sichern, Rücksicherung, Datensicherung, rücksichern, Wiederherstellung, wiederherstellen
:description: Erfahren Sie, wie Sie plentymarkets Daten sichern und einspielen.
:position: 60

Mit der Backup-Funktion des Menüs **Einstellungen » Grundeinstellungen » Backup** setzen Sie Daten auf einen früheren Stand zurück oder stellen gelöschte Daten wieder her. Auch eine Kombination dieser Funktionen ist möglich.

[IMPORTANT]
.Einschränkungen
====
Die Backup-Funktion ist nur innerhalb der gleichen plentymarkets Version verfügbar. Sie können also kein Backup einer älteren Version von plentymarkets einspielen.
====

== Backup und Wiederherstellung

Das Menü **Einstellungen » Grundeinstellungen » Backup** besteht aus drei Untermenüs:

.Untermenüs des Menüs **Backup**
[cols="1,10"]
|====
|Untermenü |Erläuterung

|**Bearbeitungsstatus**
|Untermenü bietet Informationen zu den durchgeführten Backups. Die Spalte **Fehlermeldungen** enthält Informationen zu fehlgeschlagenen Vorgängen.

|**Backup einspielen**
|Untermenü, über das Backups eingespielt werden können.

|**Backup herunterladen**
|Untermenü, über das Backups heruntergeladen werden können.
|====

=== Bearbeitungsstatus prüfen

Das Menü **Einstellungen » Grundeinstellungen » Backup » Bearbeitungsstatus** bietet eine Übersicht der durchgeführten Backups. In diesem Menü sind die Einstellungen, der Benutzer sowie Hinweise zum Backup und ggf. Fehlermeldungen einsehbar.

[.instruction]
Bearbeitungsstatus prüfen:

. Öffnen Sie das Menü **Einstellungen » Grundeinstellungen » Backup**.
. Klappen Sie das Untermenü **Bearbeitungsstatus** auf.
. Prüfen Sie die in der Tabelle dargestellten Informationen.

=== Backup einspielen

Beim Einspielen eines Backup wählen Sie über **Backup-Typ** den Bereich, der eingespielt werden soll. Wie die Daten eingespielt werden, legen Sie über die **Aktion** fest:

* UPDATE = Daten werden auf einen früheren Stand zurückgesetzt.
* INSERT = Gelöschte Daten werden wiederhergestellt.
* UPDATE &amp; INSERT = Daten werden auf einen früheren Stand zurückgesetzt und dabei gelöschte Daten wiederhergestellt.

Wenn Sie z.B. Attribute geändert haben und diese Änderungen rückgängig machen möchten, setzen Sie mit der Aktion **Update** die Attribute auf einen früheren Stand zurück.

[WARNING]
.Hinweise beachten
====
Beachten Sie die Hinweise zu Bedingung und Reihenfolge für die Rücksicherung.
====

[.instruction]
Backup einspielen:

. Öffnen Sie das Menü **Einstellungen » Grundeinstellungen » Backup**.
. Klappen Sie das Untermenü **Backup einspielen** auf.
. Nehmen Sie die Einstellungen vor. Beachten Sie Tabelle 1 sowie die erforderliche Reihenfolge.
. Klicken Sie auf **Speichern**, um das Backup einzuspielen. +
→ Das Backup wird eingespielt.

.Einstellungen für das Einspielen von Backups
[cols="1,10"]
|====
|Einstellung |Erläuterung

|**Backup-Typ**
|Wählen, welcher Bereich des Systems zurückgesetzt werden soll bzw. in welchem Bereich gelöschte Daten wiederhergestellt werden sollen. +
**Attribute** = Attribute, Attribut-Werte und die Sprache der Attributnamen des Menüs **Einstellungen » Artikel » Attribute** +
**Blog** = Die Daten des Menüs **CMS » Blog** +
**Category** = Die Kategorien des Menüs **Artikel » Kategorien** +
**Item** = Artikelstammdaten, vorwiegend im Tab **Global**. Es können nur bestimmte Artikeldaten wiederhergestellt werden. Verknüpfungen, z.B. Bilder, Kategorien und Attribute, werden nicht wiederhergestellt. +
**ItemDescription** = Texte von Artikeln, die im Tab **Texte** der Artikel hinterlegt wurden, also **Name**, **Name2**, **Name3**, **Kurzbeschreibung**, **Beschreibung** etc. +
**ItemFreeTextFields** = Freitextfelder von Artikeln +
**ItemListing** = Listing-Daten +
**Order** = Auftragsdaten ohne Auftragspositionen +
**OrderItems** = Auftragspositionen der Aufträge +
**Template** = Templates und CSS-Daten des Designs +
**Variation** = Variantendaten +
**VariationCategory** = Kategorieverknüpfungen der Varianten +
**VariationMarketIdentNumber** = ASINs und ePIDs +
**VariationRetailPrice** = An den Varianten gespeicherte Preise +
**VariationSupplier** = Lieferantendaten, die bei den Varianten im Tab **Lieferant** hinterlegt sind.

|**Backup-Datum**
|Das Datum des Backups wählen, das eingespielt werden soll. Es stehen die Daten der letzten 7 Tage zur Verfügung. +
**__Tipp:__** In Kombination mit der Aktion **Update** werden die Daten auf den Stand dieses Datums zurückgesetzt. In Kombination mit der Aktion **Insert** werden fehlende Daten aus der Datensicherung dieses Datums einzuspielen. +
**__Hinweis:__** Wenn innerhalb dieser 7 Tage ein Versionsupdate von plentymarkets durchgeführt wurde, entfallen die Tage vor dem Update für das Backup.

|**Aktion**
|Eine Aktion wählen. +
**UPDATE** = Setzt Daten auf einen früheren Stand zurück. **__Hinweis:__** Alle nach dem Zeitpunkt des Backups vorgenommenen Änderungen werden auf den Zustand zum Zeitpunkt des Backups zurückgesetzt. +
**INSERT** = Stellt gelöschte Daten wieder her. +
**UPDATE &amp; INSERT** = Setzt Daten auf einen früheren Stand zurück. Dabei werden gelöschte Daten wiederhergestellt. **__Hinweis:__** Alle nach dem Zeitpunkt des Backups vorgenommenen Änderungen werden auf den Zustand zum Zeitpunkt des Backups zurückgesetzt.
|====

==== Reihenfolge und Bedingungen

Beim Einspielen eines Backups müssen Sie die Reihenfolge beachten. So ist es z.B. bei Artikeldaten wichtig, zunächst die Stammdaten mit dem Backup-Typ **Item** zu sichern, bevor weitere Artikeldaten, z.B. Kategorieverknüpfungen eingespielt werden können.

[TIP]
.Beispiel: ItemAttributeVariations
====
Beim Einspielen eines Backups für den  Backup-Typ **ItemAttributeVariations** spielen Sie die Backup-Typen in der folgenden Reihenfolge ein: **Attribute**, **Item**, **ActiveItemAttributeValues**, **ItemAttributeVariations**
====

Die Tabelle enthält eine Übersicht, welche Backup-Typen Bedingung sind und in welcher Reihenfolge die Rücksicherung erfolgen muss.

[cols="a,a"]
|====
|Backup-Typ |Backup-Reihenfolge

|**ActiveItemAttributeValues** +
(nur plentymarkets 6)
|**Attribute +
Item +
ActiveItemAttributeValues**

|**ItemAttributeVariations** +
(nur plentymarkets 6)
|**Attribute +
Item +
ActiveItemAttributeValues** +
**ItemAttributeVariations**

|**ItemAttributeVariationDetails** +
(nur plentymarkets 6)
|**Attribute +
Item +
ActiveItemAttributeValues** +
**ItemAttributeVariations** +
**ItemAttributeVariationDetails**

|**ItemFreeTextFields**
|**Item** +
**ItemFreeTextFields**

|**ItemListing**
|**Item** +
**ItemListing**

|**VariationCategory**
|**Item** +
**Category** +
**VariationCategory**

|**ItemDescription**
|**Item** +
**ItemDescription**

|**VariationMarketIdentNumber**
|**Item** +
**VariationMarketIdentNumber**

|**VariationRetailPrice**
|**Item** +
**VariationRetailPrice**

|**VariationSupplier**
|**Item** +
**VariationSupplier**

|**OrderItems**
|**Item** +
**OrderItems**
|====

Tab. 2: Reihenfolge des Daten-Backups

=== Backup herunterladen

Im Menü **Einstellungen » Grundeinstellungen » Backup » Backup herunterladen** laden Sie ein Backup auf den **<<basics/datenaustausch/ftp-zugang#, FTP-Server>>** herunter. Es können Backups der letzten 7 Tage erstellt werden. Backups werden als SQL-Datei gespeichert. Der Dateiname besteht aus der System-ID und dem Datum nach folgendem Muster: **pSystem-ID_Jahr-Monat-Tag**. Pro Tag kann nur ein Backup erstellt werden.

[.instruction]
Backup herunterladen:

. Öffnen Sie das Menü **Einstellungen » Grundeinstellungen » Backup**.
. Klappen Sie das Untermenü **Backup herunterladen** auf.
. Wählen Sie das Datum, dessen Systemstand Sie als Backup herunterladen möchten.
. Klicken Sie auf **Speichern**, um das Backup herunterzuladen. +
→ Das Backup wird auf dem **<<basics/datenaustausch/ftp-zugang#, FTP-Server>>** gespeichert.
. Loggen Sie sich auf dem FTP-Server ein, um die Erstellung des Backups zu prüfen.
