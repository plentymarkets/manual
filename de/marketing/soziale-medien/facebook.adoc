= Facebook
:lang: de
include::{includedir}/_header.adoc[]
:position: 1

Facebook ist eines der wichtigsten sozialen Netzwerke weltweit und spielt auch in Deutschland eine wichtige Rolle. Mit plentymarkets können Sie eine Facebook-Kommentarfunktion in Ihren Webshop integrieren. Über diese Funktion können bei Facebook eingeloggte Kunden direkt an einem Ihrer Artikel einen Kommentar eingeben. Sie können dann auf den Kommentar antworten oder über Facebook mit dem Kunden kommunizieren.

== Facebook-Kommentarfunktion einrichten

Um die Kommentarfunktion einzurichten fügen Sie Codes in das Template **ItemViewSingleItem** Ihres Webshops ein. Diese Codes steuern die Verlinkung des Artikelbilds sowie die Verlinkung zu Facebook. Bild 1 zeigt ein Beispiel für die Kommentarfunktion. Gehen Sie wie unten beschrieben vor, um die Facebook-Kommentarfunktion in plentymarkets einzurichten.

image::marketing/soziale-medien/assets/Facebook-01.png[]

__Bild 1: Facebook-Kommentarfunktion auf einer Artikelseite__

=== Facebook-ID hinterlegen

Damit die Kommentarfunktion mit Ihrem Facebook-Account verknüpft und dort angezeigt wird, benötigt das System Ihre Facebook-ID. Die Facebook-ID finden Sie in Ihrem Facebook-Profil.

[.instruction]
Facebook-ID hinterlegen:

. Öffnen Sie das Menü **CMS » Webdesign » Layout » Ordner: PageDesign**.
. Öffnen Sie das Template **PageDesignContent**.
. Klicken Sie auf das Tab **PageDesignContentHtmlStructure**.
. Fügen Sie den folgenden Code in das Tab ein: +
**&lt;meta property="fb:admins" content="Facebook-ID"&gt;**.
. Ersetzen Sie **Facebook-ID** durch Ihre eigene Facebook-ID.

=== Optional: Facebook-App-ID hinterlegen

Sie können zusätzlich zu Ihrer Facebook-ID auch Ihre Facebook-App-ID hinterlegen. Wenn Ihre Seite viele Kommentarfelder enthält, empfiehlt Facebook, eine App-ID als Administrator zu hinterlegen. Dies schaltet eine Moderationsschnittstelle auf Facebook frei, die es erlaubt, alle Kommentare sämtlicher Plugins durch Ihre App-ID zu verwalten. Alle Admins dieser App können dann die Kommentare moderieren. Registrieren Sie Ihre Website bei Facebook, um eine App-ID zu erhalten. Eine gute Anleitung dazu finden Sie z.B. **link:http://developers.facebook.com/docs/guides/web/#login[hier]**.

Der Code für die Integration Ihrer Facebook-App-ID lautet **&lt;meta property="fb:app_id" content="**APP-ID**"&gt;**. Fügen Sie den Code wie oben für die Facebook-ID beschrieben in das Template **PageDesignContentHtmlStructure** ein. Ersetzen Sie dann **APP-ID** durch Ihre eigene Facebook-App-ID.

=== CMS-Code generieren und einfügen

Nun benötigen Sie einen Code, um die Kommentarfunktion in Ihren Webshop einzufügen. Den Code generieren Sie auf dieser **link:http://developers.facebook.com/docs/reference/plugins/comments/[Facebook-Seite]**. Tragen Sie die URL Ihres Webshops in der Zeile **URL to comment on** ein und klicken Sie auf **Get Code**, um den Code zu generieren.

Der generierte Code wird in einem neuen Fenster angezeigt und besteht aus zwei Teilen. Der erste Teil enthält den Code für die Verknüpfung der Kommentarfunktion. Also, dem Teil zum Eingeben von Kommentaren. Der zweite Teil enthält den Code zur Darstellung abgegebener Kommentare. Gehen Sie wie nachfolgend beschrieben vor, um die beiden Codeteile in Ihr Design einzufügen.

[.instruction]
Code für Facebook-Kommentarfunktion einfügen:

. Öffnen Sie das Menü **CMS » Webdesign » Layout » Ordner: ItemView**.
. Öffnen Sie das Template **ItemViewSingleItem**.
. Fügen Sie Teil 1 des Facebook-Codes am Ende des Templates ein.
. Prüfen Sie die Codezeile mit dem Sprachkürzel und passen Sie ggf. die Sprache an. +
**Beispiel**: Wenn im Code **"//connect.facebook.net/en_US/all.js#xfbml=1"** steht und die Sprache Deutsch sein soll, ersetzen Sie die **en_US**-Sprachkürzel durch **de_DE**.
. Klicken Sie auf **Speichern**, um die Einstellungen zu sichern.

Der zweite Teil des Codes wird für die Platzierung der Kommentarfunktion auf der Seite verwendet. Fügen Sie den Code an der Stelle im Template **ItemViewSingleItem** ein, an der die Kommentare angezeigt werden sollen.

[.instruction]
Code für die Platzierung der Facebook-Kommentare einfügen:

. Öffnen Sie das Menü **CMS » Webdesign » Layout » Ordner: ItemView**.
. Öffnen Sie das Template **ItemViewSingleItem**.
. Fügen Sie Teil 2 des Facebook-Codes an der Stelle des Templates ein, an der die Kommentare angezeigt werden sollen.
. Wenn Sie im Menü **Einstellungen » Mandant (Shop) » Standard » SEO » URL-Aufbau » Sonstige** für die Option **Verlinkung innerhalb der Webseite** die Einstellung **Relative Links** gewählt haben, ersetzen Sie den Codeteil **data-href="IHRE_DOMAIN"** durch **data-href="$BaseURL4Links$CanonicalUrl**.
. Klicken Sie auf **Speichern**, um die Einstellungen zu sichern.

[IMPORTANT]
.**Canonical-Tags**
====
Platzieren Sie auf der Seite kein eigenes Canonical-Tag (z.B. &lt;link href="http://www.IhrWebshop.de" rel="canonical" /&gt;), da plentymarkets automatisch Canonical-Tags einfügt.
====

