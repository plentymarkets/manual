= Änderungen nachvollziehen
:lang: de
include::{includedir}/_header.adoc[]
:keywords: Änderungshistorie, Historie, Datenhistorie, Aufbewahrungspflicht, Aufzeichnungspflicht, Archiv, Datenarchiv, Daten-Archiv, Audit-Log, Auditlog, Audit Log, Audit Trail, Audit-Trail, Audittrail, Audit-Protokoll, Audit Protokoll, Audit-Protokolle, Audit Protokolle, Änderung, Änderungen, Löschung, Änderungsaufzeichnung, Änderungsaufzeichnungen, 10 Jahre, Aufbewahrung, aufbewahren, Log-Datei, Log-Dateien
:description: Mit plentymarkets kannst du den gesamten Lebensweg eines Artikels oder eines Auftrags nachvollziehen.
:position: 62
:url: daten/aenderungshistorie
:id: B499GID
:author: team-crm, team-item
//zuletzt bearbeitet 25.01.2021

Neugierig, wer Änderungen an einem bestimmten Artikel, Preis, Auftrag usw. vorgenommen hat?
Mit den Tools in plentymarkets kannst du Änderungen an diversen Datensätzen nachvollziehen.
Zum Beispiel Änderungen an:

* <<Artikeln und Varianten>>
* <<Preise>>
* <<Aufträgen>>
* <<Kundendaten>>
* <<ShopBooster-Daten>>
* <<Einstellungen zur Datenbereinigung>>

[TIP]
.GoBD-Konformität
====
plentymarkets hilft Händlern, GoBD-konform im Sinne der Zertifizierung nach IDW PS 880 zu arbeiten.
Ein Aspekt der GoBD-Konformität ist die Aufbewahrung von Unterlagen mit finanzieller oder steuerlicher Relevanz über einen längeren Zeitraum.
Um diese Anforderung zu erfüllen, musst du die <<Änderungshistorie samt Archiv aktivieren>>.
Dadurch können <<Kosten>> entstehen.
====

//== Artikel, Varianten und Aufträge
== Änderungshistorie

Mit plentymarkets kannst du den gesamten Lebensweg eines Datensatzes, z.B. eines Artikels oder Auftrags, nachvollziehen.
Dies ist im Rahmen der Aufbewahrungspflicht von besonderer Bedeutung.
Die Änderungshistorie setzt sich aus den folgenden Teilen zusammen:

* <<Menü>>: Im Menü kannst du nach Änderungsaufzeichnungen suchen, die weniger als sechs Monate zurückliegen.
//Änderungen bis zu einem Maximalalter von 6 Monaten können im Menü live durchsucht werden.
* <<Archiv>>: Nach Ablauf der sechs Monate werden die Daten in ein Archiv verschoben.
Dort sind die Daten weiterhin zugänglich, können jedoch nicht mehr durchsucht werden. Die Änderungen werden 11 Jahre archiviert.

[TIP]
.Manipulationssicherheit
====
Die Änderungshistorie ist manipulationssicher und vertrauenswürdig in dem Sinne, dass Anwender die Einträge weder ändern noch löschen können.
Änderungen können im Menü lediglich abgerufen und durchsucht werden.
====

////
=== Voraussetzung: Nötige Benutzerrechte

Benutzer:innen vom Typ *Backend* sehen nur bestimmte Bereiche und Menüs in plentymarkets.
Somit können sie nur eingeschränkt im System arbeiten.
Sollen Mitarbeiter:innen mit *Backend*-Zugang mit der Änderungshistorie arbeiten können, muss eine Person mit *Admin*-Zugang ihnen die nötigen Rechte vergeben.

[.instruction]
Benutzerrechte vergeben:

. Öffne das Menü *Einrichtung » Einstellungen » Benutzer » Rechte » Benutzer*.
. Nutze die Suchfunktion (icon:search[role="blue"]) und öffne das zu bearbeitende Konto.
. Aktiviere im Bereich *Berechtigungen* die Berechtigungen anhand von <<table-change-history-user-rights>>.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

[[table-change-history-user-rights]]
.Benutzerrechte vergeben
[cols="1,3"]
|====
|Einstellung |Erläuterung

| *ABC > DEF > GHI*
|Das Recht, nach Änderungen zu suchen.
|====
////

=== Neueste Änderungen durchsuchen

//Änderungsaufzeichnungen, die weniger als sechs Monate zurückliegen, können live durchsucht werden.


//[.instruction]
//Neueste Änderungen durchsuchen:

. Öffne das Menü *Daten » Änderungshistorie*.
. Wähle Suchfilter in der mittleren Spalte. Beachte <<table-change-history-search-filters>>.
. Klicke auf *Suchen* (icon:search[role="blue"]). +
→ Die Suchergebnisse werden in einer Übersicht rechts angezeigt.
. Klappe eine Zeile in der Übersicht auf (icon:chevron-right[role="darkGrey"]), um detailliertere Informationen zu erhalten.

////
[TIP]
.Warum sehe ich das Menü nicht?
====
Personen mit Backend-Zugriffsrechten können dieses Menü nur sehen, wenn ein Admin das Recht A > B erteilt hat.
====
////

[[table-change-history-search-filters]]
.Verfügbare Suchfilter
[cols="1,4"]
|====
|Suchfilter |Erläuterung

| *Von/Bis* +
[red]#(Pflichtfelder)#
|Lege ein Intervall von bis zu zwei Wochen fest.
Die Änderungen, die während dieses Zeitraums vorgenommen wurden, werden abgerufen.

*_Hinweis_*: Änderungen können nur innerhalb eines Zeitraums von maximal 2 Wochen abgerufen werden.
Willst du einen größeren Zeitraum anschauen? Dann führe die Suche mehrmals aus.

| *Datensatz*
|Welche Art von Daten willst du abrufen?
Gib ein Stichwort in dieses Feld ein, z.B. Artikel, Auftrag, Barcode, Verkaufspreis usw.

*_Tipp_*: Gib lediglich die ersten Buchstaben des Stichworts ein und verwende die Autovervollständigung.

| *Eindeutige IDs*
|Gib eine oder mehrere IDs ein, um nach der eindeutigen ID eines Datensatzes zu suchen.
Ein Datensatz kann z.B. erst durch die Kombination von zwei oder mehr IDs eindeutig werden.

| *Benutzer*
|Willst du nach Änderungen suchen, die von einem bestimmten plentymarkets Benutzerkonto vorgenommen wurden?
Gib die ersten Buchstaben des Benutzernamens ein und verwende die Autovervollständigung.

| icon:chevron-down[role="darkGrey"] *Erweiterte Filter*
a|#Click on the thing to see more things#

[cols="1,4a"]
!===
!Suchfilter !Erläuterung

! *Zugehörigkeit*
!Gruppiere die Ergebnisse, z.B. nach Änderungen einer Varianten-ID oder Auftrags-ID.
Dadurch siehst du z.B. alle Preisänderungen oder Barcode-Änderungen.

! *Art der Änderung*
!Beschränke die Suchergebnisse auf Datensätze, die erstellt, geändert oder gelöscht wurden.

//ist dieser Filter überhaupt eine Drop-Down-Liste? Prüfe alle Filter, ob sie z.B. Texteingabe, Drop-Down, usw, sind.
! *Herkunft*
!Willst du nach Änderungen suchen, die aus einer bestimmten Quelle stammen?
Wähle diese Herkunft aus der Dropdown-Liste.
Beispielsweise Änderungen, die sich aus einem Cron-Job ergeben haben, die im Backend vorgenommen wurden oder die auf die REST-API-Schnittstelle zurückzuführen sind.

! *Tags*
!Verwende Tags, um die Herkunft näher zu definieren.

*_Beispiel_*: Ein Tag kann zum Beispiel eine Sync-ID sein.
Anhand dieser ID beschränkst du die Suchergebnisse auf Änderungen, die von diesem Sync stammen.

*_Hinweis_*: Die Tags werden von plentymarkets vorgegeben.
Du kannst die Tags nicht frei konfigurieren.
!===
|====

[discrete]
==== Mit Suchergebnissen arbeiten

[discrete]
==== Anwendungsbeispiel

Stell dir vor, du merkst, dass die Preise einiger Produkte falsch sind.
Jetzt möchtest du herausfinden, was die Ursache dieses Problems ist.

Eine fehlerhafte Variante hat die ID 123.
In diesem Fall könntest du die Suchfilter wie folgt setzen:

[[table-change-history-example]]
[cols="1,1"]
|====
|Suchfilter |Gewählte Einstellung

|Von/Bis
|Die letzten 2 Wochen

|Datensatz
|Verkaufspreis der Variante

|Art der Änderung
|Geändert

|ID-Gruppen
|Varianten-ID

|Eindeutige IDs
|123
|====

Die Suchergebnisse führen verschiedene Zeitpunkte auf, zu denen der Verkaufspreis von Variante 123 geändert wurde.
Klicke auf eine Zeile in der Ergebnisliste, um detailliertere Informationen zu sehen.
Schaue nach, was die Änderung verursacht hat.
Zum Beispiel:

* welcher Benutzer den Preis geändert hat
* ob der Preis über die REST-API geändert wurde
* ob der Preis beim Importieren einer CSV-Datei geändert wurde


=== Daten aus dem Archiv exportieren

##start here##

Die Änderungshistorie besteht aus der live durchsuchbaren Historie und dem Archiv. Live durchsuchbar sind Änderungen bis zu einem Maximalalter von 6 Monaten. Nach 6 Monaten werden die Änderungen für 11 Jahre in einer Monats-CSV zusammengefasst und archiviert. Zusätzlich wird für jeden Tag eine CSV erzeugt, die alle Tages-Änderungen enthält und [PLATZHALTER] Monate zum Download zur Verfügung stehen.

##end here##

Änderungsaufzeichnungen, die mehr als sechs Monate zurückliegen, werden in ein Archiv verschoben.
Dort sind die Daten zugänglich, können jedoch nicht durchsucht werden.
Die Änderungen werden bis zu 11 Jahre archiviert.

[.instruction]
Daten aus dem Archiv exportieren:

. Öffne das Menü *XYZ » ABC*.
. Klicke auf *ABC* (icon:search[role="blue"]). +
→ Die Daten werden im ABCD-Format exportiert.

=== Konfigurierbarkeit

=== Fragen und Antworten

##start##

-Welche Daten sollen protokolliert werden?

Was sollte im Sinne der Prüfungssicherheit eingestellt werden?
Wir haben alle dafür relevanten Datenfelder gekennzeichnet. Zusätzliche gibt es einen Button, mit dem sich alle relevanten Datenfelder mit einem Klick aktivieren lassen. Zusätzlich muss das Archiv aktiviert werden.



-Welche Kosten entstehen?
Wir rechnen verbrauchsabhängig 15 Cent pro angefangenen 10.000 geloggten Änderungen ab. Bei aktiviertem Archiv, werden dort ebenfalls 15 Cent pro angefangen 10.000 archivierten Änderungen berechnet. Wenn ihr also plentymarkets GoBD-konform nutzen wollt, indem ihr relevante Änderungen bis zu 11 Jahre in plentymarkets speichert, fallen 30 Cent pro angefangene 10.000 Änderungen an. Diese Kosten für ein Paket werden nur in dem Monat berechnet, in dem sie geloggt wurden. Bei dem Anfordern eines CSV-Downloads aus dem Archiv fallen Kosten von einem Euro an.

Ein Beispiel: Derzeit werden in einem Monat im durchschnittlich 177.000 loggbare Änderungen pro System gemacht. Das entspricht im Schnitt entsprechend 18 Paketen (177.000 / 10.000 aufgerundet). Bei aktivierter Änderungshistorie samt Archiv ergibt das durchschnittliche Kosten in diesem Monat von 18 * 0,15 * 2 = 5,40 €.


-Wo kann man die tatsächlichen Kosten, also den Verbrauch, einsehen?
PLENTY BI DASHBOARD

##end##



//== Kundendaten, ShopBooster und Bereinigung
== CRM-Historie

Mit Hilfe der Änderungshistorie im Menü *Daten » CRM-Historie* kannst du Änderungen an Kundendaten, ShopBooster-Daten oder die Einstellungen zur Datenbereinigung nachvollziehen.
Die Daten in diesem Menü werden 1 Jahr gespeichert.

[.instruction]
Änderungen anzeigen:

. Öffne das Menü *Daten » CRM-Historie*.
. Wähle einen Referenztyp, z.B. die Adresse.
. Gib die eindeutige Referenz-ID ein, z.B. die ID der Adresse. +
*_Tipp_*: Du musst die ID kennen, um eine Anpassung an dem Datensatz nachverfolgen zu können.
. Klicke auf *Suchen* (icon:search[role="blue"]). +
→ Eine Liste der Änderungen mit alten und neuen Werten, dem Änderungsdatum sowie der Name und die Benutzer-ID der Person, die die Änderung vorgenommen hat, wird angezeigt.
. Klicke auf die Zeile, um weitere Informationen zu sehen.

[[bild-daten-aenderungshistorie]]
.Beispielansicht
image::daten/assets/daten_aenderungshistorie.png[width=640, height=360]
