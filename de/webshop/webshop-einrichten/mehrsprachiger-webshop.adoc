= Alter Webshop: Mehrsprachiger Webshop
:lang: de
include::{includedir}/_header.adoc[]
:keywords: Multilingualismus, Multilingualität, Callisto
:position: 60
:icons: font
:docinfodir: /workspace/manual-adoc
:docinfo1:
:url: webshop/webshop-einrichten/mehrsprachiger-webshop
:id: 1SVZ69K
:author: team-webshop

[IMPORTANT]
.Der neue Webshop *Ceres*
====
Webshop-Projekte werden ab sofort auf Basis des Webshop-Plugins <<omni-channel/online-shop/ceres-einrichten#, Ceres>> umgesetzt. Der neue Webshop nutzt die aktuelle und zukunftssichere <<plugins#, Plugin-Technologie>> und kann einfach und individuell durch zusätzliche Plugins aus dem link:https://marketplace.plentymarkets.com/[plentyMarketplace^]{nbsp}icon:external-link[] erweitert werden.

Webshops, die mit dem alten CMS erstellt wurden, werden für einen Übergangszeitraum natürlich weiterhin gepflegt, aber funktionell nicht mehr erweitert. Wir empfehlen bei allen geplanten Projekten ab sofort auf *Ceres* zu setzen.

====

Die Einrichtung eines mehrsprachigen Webshops erfordert einige Schritte in unterschiedlichen Menüs deines plentymarkets Systems. Alle dafür notwendigen Einstellungen findest du in den folgenden Kapiteln. Die hier beschriebene Reihenfolge kann variiert werden, jedoch müssen alle Schritte durchgeführt werden.

== Standardsprache deines Systems

Jedes plentymarkets System wird in einer Standardsprache installiert. Diese Standardsprache dient als Vorauswahl für alle Bereiche deines Systems, in denen Informationen mehrsprachig abgespeichert werden können. Dies sind u.a. die Bereiche *Webdesign*, *Kategorien* und *Artikel*.

Nach dem Speichern springt das System jeweils auf diese Vorauswahl zurück, sodass du die Sprache, die du bearbeiten möchtest, erneut wählen musst.

[WARNING]
.Webshop und Artikel vollständig multilingual einrichten
====
Wenn du deinen Webshop mehrsprachig einrichten möchtest, achte darauf, alle Bereiche, also *Webdesign* (PageDesign und alle Templates), *Artikel* und *Kategorien* in den betreffenden Sprachen einzurichten. Nur so ist gewährleistet, dass deine Artikel in der zweiten Sprache korrekt angezeigt werden und auch über die fremdsprachliche URL erreichbar sind.
====

== Design auf eine andere Sprache übertragen

Im Menü *CMS* ist es möglich, das Design der Standardsprache deines Webshops auf eine andere Sprache zu übertragen. So sind nur noch textliche Anpassungen in der Zielsprache nötig, während der Shop in der Standardsprache gespiegelt wird.

[.instruction]
Design übertragen:

. Öffne das Menü *CMS » Webdesign*.
. Klicke auf das Icon *Design übertragen*.
. Wähle unter *Quelle* das Design, von dem Eigenschaften übernommen werden sollen, sowie dessen Sprache.
. Wähle unter *Ziel* das Design, auf das die Eigenschaften übertragen werden sollen, sowie dessen Sprache.
. Setze ein Häkchen bei den Bereichen, die von der Quelle auf das Ziel übertragen werden sollen.
. Klicke auf *Design übertragen*.

Auf diese Weise können aus einem Design in einer Sprache Vorlagen für mehrere Sprachen angelegt werden, die dann nur noch sprachlich angepasst werden müssen. Das Design deiner Zweitsprache entspricht jetzt exakt dem Design deiner Erstsprache.

[NOTE]
.Anpassung des Layouts
====
Die Anpassung des Layouts an die Sprache nimmst du direkt im entsprechenden Template im Menü *CMS » Webdesign » Layout* vor. Wähle in der oberen Menüleiste zuerst die Sprache und dann links das zu bearbeitende Layout.
====

== Weitere Sprachen aktivieren

Für deinen Webshop kannst du mehrere Sprachen auswählen und entscheiden, ob du den gesamten Shop oder nur den *Bestellvorgang* multilingual ausgeben möchtest.
Du kannst das *Design* und die *Sprachen* im Webshop auch zu einem späteren Zeitpunkt kopieren bzw. aktivieren, z.B. wenn du bereits *Artikel* und *Kategorien* für die Sprache angelegt hast. Wenn du die Sprachen jedoch zu Beginn aktivierst, kannst du den Fortschritt unmittelbar im Webshop überprüfen. In der Grundeinstellung ist der *Bestellvorgang* bereits für Multilingualismus eingestellt.

[[bild-konfiguration-multilingualismus]]
.*Multilingualismus* konfigurieren
image::omni-channel/online-shop/webshop-einrichten/assets/DE-Mandant-Standard-Webshop-Multilingualismus-01-SI.png[]

[.instruction]
Sprachoptionen einstellen:

. Öffne das Menü *Einrichtung » Mandant » Mandant wählen » Webshop » Multilingualismus*.
. Nimm die Einstellungen gemäß <<tabelle-menue-multilingualismus>> vor.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

[[tabelle-menue-multilingualismus]]
.*Einstellungen* im Menü *Multilingualismus*
[cols="1,3"]
|====
|Einstellung |Erläuterung

|*Bereich*
|Option *Bestellvorgang* = Nur der Bestellvorgang wird multilingual angelegt. +
Option *Artikel &amp; Layout &amp; Content-Seiten &amp; Bestellvorgang* = Der gesamte Webshop wird für Multilingualismus aktiviert.

|*Sprachen*
|Die Sprachen für die Mehrsprachigkeit wählen. +
Mehrere Sprachen mit Strg bzw. cmd + Mausklick markieren.

|*Automatische Spracherkennung*
|Mit der automatischen Spracherkennung erfolgt eine Weiterleitung entsprechend der gewählten *Browser-Sprache*. Die Konfiguration in <<bild-konfiguration-multilingualismus>> zeigt, dass für diesen Webshop die drei Sprachen *Deutsch*, *Englisch* und *Französisch* verfügbar sind. Die Standardsprache des Webshops ist *Englisch*. +
Wie im Beispiel in <<bild-konfiguration-multilingualismus>> zu sehen, werden die *Browser-Sprachen* Deutsch, Englisch und Französisch den entsprechenden *Shop-Sprachen* zugeordnet, damit eine Weiterleitung auf die gewünschte Sprache erfolgt. +
Für alle anderen *Browser-Sprachen* eine *Shop-Sprache* einstellen. Im Beispiel in <<bild-konfiguration-multilingualismus>> ist für alle Sprachen, die nicht im System bzw. im Webshop verfügbar sind, die Sprache *Englisch* gewählt, d.h. der Webshop wird automatisch in Englisch geöffnet. +
_*Wichtig:*_ Wenn eine *Browser-Sprache* nicht erkannt wird oder nicht in der Liste enthalten ist, erfolgt eine Umleitung auf die Zielsprache, die im Menü unter *Browser-Sprache* bei der Option *Standard* eingestellt ist. Hier ist die Webshop-Sprache *Englisch* zu empfehlen. Diese Sprache muss auch in den Spracheinstellungen des Browsers enthalten sein. +
Wurde bei der ermittelten Sprache keine Auswahl getroffen, erfolgt eine Umleitung auf die Standardsprache im System, im Beispiel *Englisch*.
|====

Du kannst deine Einstellungen überprüfen, indem du die URL deines Shops in einen Browser eingibst und den ISO-Code für die angelegte Sprache anhängst, z.B. *www.name_ihres_shops.de/en/* für Englisch oder *www.name_ihres_shops.de/fr/* für Französisch.

Wenn du z.B. nur den Bereich *Bestellvorgang* wählst und die Standardsprache deines Webshops mitwählst, hat dies keinen Einfluss auf die Standardsprache. Der Webshop bleibt in dieser Sprache vollständig verfügbar.

== Mehrsprachige Kategorien

In diesem Kapitel wird zunächst erläutert, wie du mehrsprachige Kategorien des Typs *Content*, *Artikel* und *Container* anlegst. Dabei wird davon ausgegangen, dass die Kategorien bereits in einer Sprache vorliegen, der Standardsprache deines Shops. +

Du kannst entweder eine mehrsprachige Bearbeitungsansicht wählen oder eine einsprachige. Bei der mehrsprachigen Ansicht hast du die Möglichkeit, zwei Sprachen parallel zu bearbeiten.

[WARNING]
.Sichtbarkeit im Menü Artikel » Kategorien
====
Damit die Kategorien im Verzeichnisbaum des Menüs *Artikel » Kategorien* erscheinen, musst du in der Standardsprache deines Systems angelegt werden, d.h. du musst der Kategorie in der Standardsprache zumindest einen Seitennamen geben.
====

=== Einsprachige Ansicht

Eine Sprachvariante einer bestehenden Kategorie legst du wie im Folgenden beschrieben an.

[.instruction]
Sprachvariante einer bestehenden Kategorie anlegen (einsprachig):

. Öffne das Menü *Artikel » Kategorien*.
. Klicke im Verzeichnisbaum auf die gewünschte Kategorie. +
→ Die Kategorie wird geöffnet.
. Wähle aus der Dropdown-Liste *Sprache* die Sprache, in der du die Kategorie anlegen möchtest (z. B. Englisch). +
→ Die Kategorie öffnet sich erneut in der ausgewählten Sprache.
. Bleibe im Tab *Einstellungen* und trage unter *Name* eine Bezeichnung für die Seite ein.
. Wähle eine *Template-Seite*, eine *Template-Liste*, ein *Template-Produkt* und eine Option zur *Volltextsuche*. Beachte dabei die Einstellungen der Kategorie in der Standardsprache.
. Klicke auf *Speichern*. +
→ Die Einträge werden gespeichert und der Pfad der Seite wird angelegt. Er ist in der Zeile *URL* sichtbar.
. Füge die Inhalte in der gewünschten Sprache ein.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

Wenn du jetzt im Webshop die entsprechende Sprache wählst, wird die Sprachversion der Kategorie angezeigt.

[WARNING]
.Wichtig für Unterseiten
====
Die Einstellungen der Sprachversionen werden nur wirksam, wenn die Spracheinstellungen des jeweils übergeordneten Ordners bis in die Hauptebene genau so vorgenommen wurden. Das bedeutet, du musst für die übergeordneten Ebenen die Spracheinstellungen zuerst vornehmen.
====

=== Mehrsprachige Ansicht

Um eine Sprachvariante einer bestehenden Kategorie in der mehrsprachigen Ansicht hinzuzufügen, gehe wie im Folgenden beschrieben vor.

[.instruction]
Sprachvariante einer bestehenden Kategorie anlegen (mehrsprachig):

. Öffne das Menü *Artikel » Kategorien*.
. Klicke im Verzeichnisbaum auf die gewünschte Kategorie. +
→ Die Kategorie wird geöffnet.
. Klicke auf das Icon *Multilingualität*. +
→ Die mehrsprachige Ansicht der Kategorie wird geöffnet.
. Wähle links und rechts die gewünschten Sprachen.
. Trage in die Felder *Name*, *URL-Name* und *Meta-Titel* jeweils die gewünschten Bezeichnungen ein.
. Trage die fremdsprachigen Texte und Inhalte in das Textfeld *Beschreibung 1* ein.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

Wähle wie oben beschrieben die Sprache im Webshop, um die Kategorie in der neuen Sprachversion anzuzeigen.

[WARNING]
.Bedingungen für Sichtbarkeit im Webshop
====
Um eine Sprachvariante einer Kategorie im Webshop anzeigen zu können, muss für die Kategorie in der Standardsprache mindestens ein Artikel hinterlegt sein und die Kategorie muss aktiviert sein. Setze dazu unter *Einrichtung » Mandant » Mandant wählen » Kategorien » Aktivieren* ein Häkchen bei der Kategorie.
====

== Sprachvariante eines Artikels anlegen

Die Standardsprache deines Systems spielt auch hier eine wichtige Rolle, da die Artikel in der Artikelübersicht nur in der Standardsprache angezeigt werden. Außerdem kannst du Artikel, die nicht in der Standardsprache deines Systems vorliegen, nicht für den Webshop aktivieren. Dies bedeutet, dass jeder Artikel immer zuerst in der Standardsprache angelegt werden muss und dann übersetzt werden kann.

Für Artikel legst du keine separaten Varianten in einer weiteren Sprache an, sondern legst innerhalb des Artikels weitere Sprachvarianten an. Diese Inhalte werden dann durch Sprachumstellung im Webshop angezeigt.

Wenn du Sprachvarianten für Artikel und Kategorien angelegt hast, kannst du im Webshop per Sprachauswahl ganz einfach die Sprache wechseln. Dazu gehört auch, dass du für die jeweilige Sprache ein <<online-shop/cms#20, Design>> angelegt hast.

[.instruction]
Sprachvariante eines Artikels anlegen:

. Öffne das Menü *Artikel » Artikel bearbeiten*.
. Öffne den gewünschten *Artikel*.
. Wechsle in das Tab *Texte*.
. Wähle aus der Dropdown-Liste *Öffne Sprache* die gewünschte Sprache.
. Trage im Feld *Name 1* einen Namen (Übersetzung) für den Artikel in der gewählten Sprache ein.
. Füge alle weiteren *Texte* hinzu (Artikeltext, Technische Daten etc.).
. *Speichere* (icon:save[role="green"]) die Einstellungen. +
→ Die Sprachvariante des Artikels wurde erstellt und der Artikel ist im Webshop sichtbar.

Wenn der Artikel im Webshop nicht sichtbar ist, überprüfe, ob der Artikel im Tab *Verfügbarkeit* für den Webshop auf *sichtbar* gestellt ist und die *Kategorie*, in der sich der Artikel befindet, aktiviert ist. Diese Einstellungen sind nicht sprachabhängig und gelten für alle Sprachvarianten einer Kategorie bzw. eines Artikels.

Verknüpfe den Artikel mit einer Kategorie im Tab *Kategorien* des Artikels. Weitere Details zum Verknüpfen von Artikeln mit Kategorien findest du auf der Handbuchseite <<artikel/artikel-verwalten#300, Kategorien>>.

== URL-Aufbau der Sprachvarianten

In die *URL* der Sprachvarianten wird das Sprachkürzel automatisch eingefügt, bei Englisch z. B. *en*. Somit ist an der URL sofort die Sprachversion zu erkennen.

Dies gilt nur für die Sprachvarianten. In der URL der Webshop-Standardsprache wird das Sprachkürzel nicht angezeigt.

.Sprachkürzel in der URL einer englischen Artikel-Sprachvariante
image::omni-channel/online-shop/webshop-einrichten/assets/DE-Mandant-Standard-Webshop-Multilingualismus-03-SI.png[]

Dies gilt analog auch für *Kategorien*.

== Sprachvariante einer E-Mail-Vorlage einrichten

Alle E-Mails, die über plentymarkets versendet werden, basieren auf *E-Mail-Vorlagen*. Diese werden im Menü *Einrichtung » Mandant » Mandant wählen » E-Mail » Vorlagen* verwaltet. Du kannst die E-Mail-Vorlagen dort lesen und ändern sowie neue Vorlagen erstellen. Ein plentymarkets System enthält bereits verschiedene vorkonfigurierte E-Mail-Vorlagen.
Je nachdem, in welcher Sprache deine Kund*innen den Webshop nutzen, greift die entsprechende Sprachvariante der E-Mail-Vorlage.

[.instruction]
Sprachvariante einer bestehenden E-Mail-Vorlage einrichten:

. Öffne das Menü *Einrichtung » Mandant » Mandant wählen » E-Mail » Vorlagen*.
. Öffne die gewünschte *E-Mail-Vorlage* z.B. *Webshop: Eingangsbestätigung Bestellung*.
. Wechsle in das Tab *E-Mail-Nachricht*.
. Wähle die gewünschte Sprache aus der Dropdown-Liste *Sprache wählen*.
. Trage einen *Betreff* ein, z.B. auf Englisch "Order confirmation. Thanks for shopping at www.name_ihres_shops.de".
. Füge den entsprechenden Text in das Feld *Inhalt* ein.
. *Speichere* (icon:save[role="green"]) die Einstellungen. +
→ Die Sprachvariante der E-Mail-Vorlage wurde erstellt.

Weitere Details zu *Template-Funktionen und -Variablen*, die du in E-Mail-Vorlagen verwenden kannst, findest du unter <<crm/e-mails-versenden#1200, Vorlagen>>.

Um deine E-Mail-Vorlagen bei gewählten Events automatisch zu versenden, legst du Ereignisaktionen an. Weitere Details zum automatischen E-Mail-Versand findest du auf den Handbuchseiten <<crm/e-mails-versenden#2300, Automatischer Versand>> und <<automatisierung/ereignisaktionen#, Ereignisaktionen>>.

== Sprachvariante eines PDF-Dokuments anlegen

Damit nicht nur der Webshop mehrsprachig angezeigt wird, sondern auch Dokumente wie Rechnungen, Lieferscheine, Gutschriften etc. in der richtigen Sprache beim Kunden ankommen, können auch deren Vorlagen mehrsprachig eingerichtet werden.

[.instruction]
Sprachvariante einer bestehenden Dokumentvorlage einrichten:

. Öffne das Menü *Einrichtung » Mandant » Mandant wählen » Standorte » Dokumente*.
. Wähle das gewünschte Dokument.
. Wähle in der Dropdown-Liste die gewünschte Sprachvariante für das Dokument.
. Nimm alle Einstellungen wie gewünscht vor.
. *Speichere* (icon:save[role="green"]) die Einstellungen. +
→ Die Sprachvariante der Dokumentvorlage wurde erstellt.

Alternativ kannst du im Tab *Transfer* die Einstellungen einer anderen Sprache und/oder Dokumentvorlage kopieren und anschließend bearbeiten. Dies ist sinnvoll, wenn du bereits eine vollständig eingerichtete Dokumentvorlage hast. So stellst du sicher, dass die Vorlage für die nächste Sprache grundsätzlich gleich aufgebaut ist.
Weitere Details zu diesen Dokumenten und den Einstellungen findest du auf der Handbuchseite <<auftraege/auftragsdokumente#, Auftragsdokumente>>.

== Template-Funktionen für Sprachen ins Design einfügen

Damit deine Kunden schnell und einfach von einer Sprache deines Webshops auf eine andere wechseln können, ist das Einfügen von Template-Funktionen in dein Webshop-Layout notwendig.
Verwende hierfür die Template-Funktionen *Link_Lang("DE") %}*, *Link_Lang("EN") %}*, *Link_Lang("FR") %}* usw.
Je nachdem, zu welchem Zeitpunkt du deinen Kunden ermöglichen willst zu wechseln, ist eine Einbindung in das entsprechende Layout notwendig.
Im folgenden Beispiel wird ein Link im deutschen Seiten-Layout *PageDesignContent* für den englischsprachigen Webshop eingefügt.

=== Textlinks im Webshop

[.instruction]
Template-Funktion für Sprachen ins Layout einfügen:

. Öffne das Menü *CMS » Webdesign*.
. Wähle in der Dropdown-Liste *Sprache* die Sprache des Designs, die du bearbeiten möchtest, z.B. *Deutsch*.
. Wähle links im Verzeichnisbaum *Layout » PageDesign » PageDesignContent*. +
→ Das Layout öffnet sich in der gewählten Sprache.
. Füge die *Template-Funktion* für die gewünschte Sprache, für Englisch *Link_Lang("EN") %}*, an der gewünschten Stelle im Layout ein.
. Klicke auf *Speichern*. +
→ Der Link erscheint im deutschsprachigen Webshop.

Klicke auf den Link, um die Sprache zu wechseln.

[TIP]
.Beispiele
====
&lt;a href=" Link_Lang("EN") %}"&gt;English&lt;/a&gt; +
&lt;a href=" Link_Lang("DE") %}"&gt;Deutsch&lt;/a&gt;
====

=== Flaggensymbole im Webshop

Um statt eines einfachen Textlinks Flaggensymbole in deinen Webshop einzubinden, mit deren Hilfe deine Kunden die Sprache wechseln können, gehst du wie im Folgenden beschrieben vor. Die Vorgehensweise ähnelt der zum Einbinden von Textlinks, nur gibst du statt des Texts die URL des Bildes ein.

[.instruction]
Flaggensymbole im Design einfügen:

. Öffne das Menü *CMS » Webspace*.
. Wähle dort *layout » Ihr aktives Layout » img*.
. Klicke auf die Schaltfläche *Dateien hochladen* und wähle den Speicherort der gespeicherten Flaggen.
. Wähle die gewünschten Bilder der Flaggen und klicke auf *Öffnen*. Alternativ kannst du die Bilder auch per Drag- &amp; Drop-Funktion in den Ordner einfügen. +
→ Die Bilder werden hochgeladen.
. Öffne ein Bild, z.B. die Flagge der USA.
. Notiere dir die URL, z.B. */layout/stonepattern/images/Flagge_USA.png*. Diese setzt sich zusammen aus dem Pfad links oben in der Dropdown-Liste und dem Bildnamen mit Endung.
. Öffne das Menü *CMS » Webdesign*.
. Wähle in der Dropdown-Liste *Sprache* die Sprache des Designs, die du bearbeiten möchtest, z.B. Deutsch.
. Wähle im Verzeichnisbaum unter Layout *PageDesignContent*. +
→ Das Layout öffnet sich in der gewählten Sprache.
. Füge die *Template-Funktion* für die gewünschte Sprache – für Englisch *Link_Lang("EN") %}* – und den *Bildpfad* an der gewünschten Stelle im Layout ein.
. *Speichere* (icon:save[role="green"]) die Einstellungen. +
→ Der Flagge erscheint im deutschsprachigen Webshop.

[TIP]
.Beispiel
====
&lt;a href=" Link_Lang("EN") %}&gt;English&lt;img src="/layout/stonepattern/images/Flagge_USA.png"&gt;&lt;/a&gt;
====
