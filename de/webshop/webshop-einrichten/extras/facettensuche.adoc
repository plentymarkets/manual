= Facettensuche
:lang: de
include::{includedir}/_header.adoc[]
:keywords: Facetten, Webshopsuche
:position: 110

*System » Systemeinstellungen » Mandant » Global » Dienste » Facettensuche*

[NOTE]
.Alt: CMS & Webshop
====
Diese Handbuchseite widmet sich Funktionen des alten plentymarkets Webshops *Callisto*. Informationen zum Webshop-Template *Ceres* finden Sie <<omni-channel/online-shop/ceres-einrichten#0, hier>>.
====

Als Facetten werden die verschiedenen Filtermöglichkeiten bezeichnet, mit denen sich Suchergebnisse im Webshop nach bestimmten Kriterien (Facetten) verfeinern lassen. Der Vorteil einer Facettensuche liegt darin, dass das Suchergebnis nicht zwangsweise analog zur Auswahl des Kriteriums reduziert wird, sondern immer wieder die gesamte Datenbank nach dem Kriterium durchsucht wird. Dies ermöglicht eine intuitive Benutzerführung durch die Suche und vermeidet, dass Suchergebnisse durch eine ungünstige Vorauswahl verfälscht werden. Eine Facettensuche mit plentymarkets verbessert die Usability für Ihre Kunden im Webshop deutlich und ist mit nur einer Stunde Verzögerung im Datenabgleich blitzschnell und stets höchstaktuell.

== Facettensuche mit plentymarkets

[IMPORTANT]
.Verfügbarkeit
====
Kunden mit plentymarkets Cloud Vertrag können das Modul Facettensuche über den Konfigurator hinzubuchen. Für Own-Server-Systeme ist das Modul leider nicht verfügbar.
====

Die übersichtliche Filternavigation können Sie flexibel einrichten und in Ihrem CMS individuell gestalten. Mit der Facettensuche bieten Sie Ihren Kunden vielfach mehr Möglichkeiten als z.B. bei der Merkmalsuche. Die angezeigten Artikel in einer Kategorie können mit Facetten nicht nur nach Merkmalen/Eigenschaften, sondern auch nach folgenden Kriterien weiter eingeschränkt werden:

* Nach einem gewünschten Preissegment
* Nach Attributen und Merkmalen
* Nach der Verfügbarkeit der Artikel
* Nach Herstellern

Diese vier Facettentypen verbinden Sie in plentymarkets mit verschiedenen Werten, die das Filterergebnis bestimmen. Je mehr Facetten Sie erstellen und mit Werten verknüpfen, desto umfangreicher wird die in <<bild-facettensuche-webshop>> dargestellte Filterauswahl. Wie genau das geht, erfahren Sie im Folgenden.

[[bild-facettensuche-webshop]]
.Beispiel der Facettensuche im Webshop
image::omni-channel/online-shop/webshop-einrichten/extras/assets/DE-Mandant-Global-Dienste-Facetten-01.png[]

[TIP]
.Artikel mit Facetten verknüpfen
====
Eine direkte Verknüpfung von Artikeln mit den einzelnen Facetten ist nicht nötig. Die Zuordnung Ihrer Artikel zu Facetten erfolgt automatisch durch die <<omni-channel/online-shop/webshop-einrichten/extras/facettensuche#2-3, Verknüpfung der Facette mit Werten>>, die am Artikel hinterlegt sein müssen.
====

== Konfiguration

Die Konfiguration besteht aus mehreren Schritten. Zunächst werden Facetten angelegt, anschließend durch weitere Einstellungen näher bestimmt und schließlich mit den gewünschten Werten verknüpft. Zudem muss im Menü *System » Systemeinstellungen » Mandant » Mandant wählen » Webshop » Artikelsuche* die Option *Facettensuche* eingestellt sein.

[#100]
=== Facetten anlegen

Für die Facettensuche erstellen Sie zunächst verschiedene Facetten, z.B. die Facette "Farbe" des Typs *Attribut/Merkmal*.

[.instruction]
Neue Facette anlegen:

. Öffnen Sie das Menü *System » Systemeinstellungen » Mandant » Global » Dienste » Facettensuche*.
. Klicken Sie auf *Neu*, um eine neue Facette hinzuzufügen.
. Tragen Sie einen *Namen* für die Facette in der Systemsprache ein.
. Wählen Sie einen *Typ* aus der Dropdown-Liste gemäß den Erläuterungen in <<tabelle-verfuegbare-facettentypen>>.
. Tragen Sie die *Position* ein, an der die Facette im Webshop erscheinen soll.
. *Speichern* Sie die Einstellungen.

[[tabelle-verfuegbare-facettentypen]]
.Verfügbare Facettentypen
[cols="1,3"]
|====
|Facettentyp |Erläuterung

|*Preis*
|Facetten des Typs *Preis* müssen nicht mit Werten verknüpft werden, da der Filter vom kleinsten bis zum größten Preis einer Kategorie individuell eingeschränkt werden kann.

|*Attribut/Merkmal*
|Facetten des Typs *Attribut/Merkmal* werden mit Attributen, Merkmalen und Eigenschaften in Ihrem System verknüpft und stellen so vielfältige Filtermöglichkeiten her, z.B. nach Farben, Größen etc.

|*Verfügbarkeit*
|Facetten des Typs *Verfügbarkeit*, z.B. "Kurzfristig lieferbar", werden mit den unter <<omni-channel/online-shop/webshop-einrichten/extras/facettensuche#180, System » Systemeinstellungen » Artikel » Verfügbarkeiten>> angelegten Verfügbarkeiten verknüpft.

|*Hersteller*
|Facetten des Typs *Hersteller*, z.B. "Adidas", werden mit den unter <<omni-channel/online-shop/webshop-einrichten/extras/facettensuche#560, System » Systemeinstellungen » Artikel » Hersteller>> angelegten Herstellern verknüpft.
|====


=== Facetten konfigurieren

Nachdem Sie eine Facette angelegt haben, wird die Facette geöffnet. Es stehen vier Tabs zur Verfügung, um weitere Einstellungen vorzunehmen und Werte zu verknüpfen. Hier werden die Einstellungen der Tabs *Einstellungen* und *Name* erläutert.
Erklärungen zu den Tabs *Werte* und *Bilder* finden Sie in <<omni-channel/online-shop/webshop-einrichten/extras/facettensuche#2-3, Kapitel 2.3>> dieser Handbuchseite.

==== Tab: Einstellungen

Nehmen Sie die Einstellungen wie im Folgenden beschrieben vor.

[.instruction]
Facetten bearbeiten:

. Öffnen Sie das Menü *System » Systemeinstellungen » Mandant » Global » Dienste » Facettensuche*.
. Öffnen Sie die Facette.
. Nehmen Sie die Einstellungen im Tab *Einstellungen* gemäß <<tabelle-facetten-bearbeiten>> vor.
. *Speichern* Sie die Einstellungen.

[[tabelle-facetten-bearbeiten]]
.Facetten bearbeiten; Tab *Einstellungen*
[cols="1,3"]
|====
|Einstellung |Erläuterung

|*Typ*
|Zeigt den beim Anlegen der Facette gewählten Typen an. Der Typ ist nicht änderbar.

|*Sortierung*
|Legt die Sortierung des Suchergebnisses fest. Je nach Auswahl werden die Artikel nach der *Trefferquote*, der *Position* oder alphabetisch von *A-Z* sortiert.

|*Position*
|Zeigt die Position an, die beim Anlegen der Facette eingegeben wurde. Die Position ist hier änderbar.

|*CSS-Klasse*
|Einen CSS-Namen hinterlegen. Dieser Name wird als Template-Variable im CMS-Bereich zur Verfügung gestellt, sodass zu jeder Facette eine eigene Klasse hinterlegt werden kann.

|*Auswahlart*
|Die Auswahlart wählen. +
*Einschränkend* = Schränkt den Filter mit dem gewählten Wert weiter ein. Es werden alle Artikel angezeigt, die diesen Wert besitzen und die Filterkriterien vorher gewählter Filter erfüllen. +
*Mehrfach* = Lässt eine Mehrfachauswahl von Ergebnissen zu, z.B. die Auswahl mehrerer Hersteller, deren Artikel dann gemeinsam angezeigt werden. +

|*Minimale Trefferanzahl*
|Legt fest, wie viele Ergebnisse es für einen Facettenwert mindestens geben muss, damit der Facettenwert im Webshop angezeigt wird.

|*Maximal angezeigte Facettenwerte*
|Legt fest, wie viele Facettenwerte je Facette höchstens angezeigt werden. 250 Facettenwerte können maximal angezeigt werden.
|====

==== Tab: Name

Im Tab *Name* tragen Sie den Namen der Facette in den Sprachen ein, für die Sie eine multilinguale Ansicht Ihres Webshops anbieten. Die hier eingetragene Übersetzung wird dann in der angegebenen Sprache verwendet.

=== Facetten mit Werten und Bildern verknüpfen

Nehmen Sie die Einstellungen in den Tabs *Werte* und *Bilder* wie im Folgenden beschrieben vor.

==== Tab: Werte

Im Tab *Werte* einer Facette verknüpfen Sie die Facette mit verschiedenen Werten. Im Beispiel der Facette Farbe des Typs *Attribut/Merkmal* legen Sie z.B. die Werte weiß, schwarz, rot, blau etc. an und verknüpfen diese Werte mit den vorhandenen Attributen, Merkmalen und Eigenschaften in Ihrem System. Gehen Sie dazu wie unten beschrieben vor.

[.instruction]
Neuen Wert anlegen:

. Öffnen Sie das Menü *System » Systemeinstellungen » Mandant » Global » Dienste » Facettensuche*.
. Öffnen Sie die Facette, der Sie Werte hinzufügen möchten.
. Öffnen Sie das Tab *Werte*.
. Fügen Sie über das *grüne Plus* links unten einen neuen Wert hinzu.
. Geben Sie einen *Namen* für den Wert in der Systemsprache ein.
. Geben Sie eine *Position* ein.
. *Speichern* Sie die Einstellungen. +
→ Der neue Wert wird angelegt.

Die angelegten Werte werden nun links aufgelistet. Bestimmen Sie die Werte in den folgenden Schritten näher und verknüpfen Sie die Werte mit Informationen aus Ihrem System. Im Beispiel des Typs *Attribut/Merkmal* ist besonders praktisch, dass Attribute, Merkmale und Eigenschaften in Ihrem System in einem Filter zusammengefasst und so zusammen in einem Ergebnis ausgegeben werden können.

[NOTE]
.Tab Name und Tab Einstellungen eines Wertes
====
Im Tab *Name* eines Wertes legen Sie den Namen des Wertes in verschiedenen Sprachen fest.  +
Im Tab *Einstellungen* eines Wertes hinterlegen Sie wie für die Facette eine *Position* und eine *CSS-Klasse* (<<tabelle-facetten-bearbeiten>>).
====

Im Folgenden erfahren Sie, wie Sie die Werte verknüpfen.

[.instruction]
Facetten mit Werten verknüpfen:

. Öffnen Sie das Menü *System » Systemeinstellungen » Mandant » Global » Dienste » Facettensuche*.
. Öffnen Sie die Facette, der Sie Werte hinzufügen möchten.
. Öffnen Sie das Tab *Werte*.
. Klicken Sie auf den Wert, den Sie verknüpfen möchten.
. Wechseln Sie in das Tab *Verknüpfung*.
. Wählen Sie das Attribut, das Merkmal oder die Eigenschaft aus der Liste.
. Klicken Sie links unten auf *Verknüpfen*. +
→ Das Attribut, das Merkmal oder die Eigenschaft wird mit dem Wert der Facette verknüpft.
. *Speichern* Sie die Einstellungen.

Die Werte, die Sie verknüpft haben, werden mit einem *grünen Häkchen* gekennzeichnet. Nicht verknüpfte Werte erkennen Sie an einem roten *x*.

==== Tab: Bilder

Im Tab *Bilder* verknüpfen Sie Facetten und Facettenwerte mit Bildern, wenn Sie zum Beispiel die Hersteller in Ihrem Webshop nicht mit Namen, sondern mit Logo anzeigen möchten.

== Volltextsuche - Tab: Suchindex

Im Tab *Such-Index* legen Sie verschiedene Kriterien für die verbesserte Volltextsuche in Ihrem Webshop fest.
Diese Volltextsuche ist wesentlich fehlertoleranter als die Standard-Artikelsuche in plentymarkets.
Das bedeutet, dass Suchbegriffe über die Facettensuche auch bei Tippfehlern erkannt werden und z.B. der Artikel- oder der Herstellername nicht exakt eingegeben werden müssen, um zu einem Ergebnis zu führen.
So wird z.B. der Hersteller "adidas" auch bei fehlerhaften Eingaben wie "addidas" oder "adids" gefunden und Artikel von diesem Hersteller im Suchergebnis angezeigt. Konfigurieren Sie dafür die folgenden 3 Tabs:

* Im Tab *Gewichtung* legen Sie fest, welchem der vier Bereiche *Keywords 1*, *Keywords 2*, *Name* oder *Volltext* welche Priorität bei der Anzeige im Suchergebnis gegeben wird.
* Welche Texte den Bereichen *Keywords 1 und 2* angehören, legen Sie im nächsten Tab *Keyword* fest. Der Bereich *Name* bezieht sich auf den Artikelnamen in diesem Webshop.
* Welche Texte im Bereich *Volltext* berücksichtigt werden, hinterlegen Sie im Tab *Beschreibung*.

=== Tab: Gewichtung

Tragen Sie im Tab *Gewichtung* je Bereich eine Zahl ein, die die Priorität des Bereichs bei der Anzeige des Suchergebnisses bestimmt. Gehen Sie dazu wie im Folgenden beschrieben vor.

.Such-Index; Tab *Gewichtung*
image::omni-channel/online-shop/webshop-einrichten/extras/assets/DE-Mandant-Global-Dienste-Facetten-02.png[]

[.instruction]
Gewichtung festlegen:

. Öffnen Sie das Menü *System » Systemeinstellungen » Mandant » Global » Dienste » Facettensuche*.
. Wechseln Sie in das Tab *Such-Index*. +
→ Das Tab *Gewichtung* ist automatisch geöffnet.
. Tragen Sie je Bereich eine Gewichtung zwischen 1 und 100 ein. Je höher die Zahl, desto höher die Priorität im Suchergebnis. Ergebnisse aus dem Bereich mit der höchsten Zahl werden also zuerst gelistet.
. *Speichern* Sie die Einstellungen.

=== Tab: Keyword

Ordnen Sie im Tab *Keyword* die verschiedenen Texte den Bereichen *Keyword 1* oder *Keyword 2* zu. Je nach angegebener Gewichtung werden diese Texte im Suchergebnis mit höherer oder niedrigerer Priorität berücksichtigt.

[NOTE]
.Einstellungen im Tab Keyword
====
Wählen Sie aus, welchem Bereich (Priorität) die hier gelisteten Texte zugewiesen werden. Die Zahlen bei *Kategorie 1 - 6* geben die Kategorieebene an. Es wird empfohlen, die oberen Ebenen höher zu gewichten als niedrigere Ebenen.
====

=== Tab: Beschreibung

Im Tab *Beschreibung* legen Sie fest, welche am Artikel hinterlegten Texte für den Bereich *Volltext* ausgewertet werden sollen.

[.instruction]
Beschreibungen festlegen:

. Öffnen Sie das Menü *System » Systemeinstellungen » Mandant » Global » Dienste » Facettensuche*.
. Wechseln Sie in das Tab *Such-Index*.
. Wechseln Sie in das Tab *Beschreibung*.
. Setzen Sie ein *Häkchen* bei den Texten, die im Bereich *Volltext* bei der Suche berücksichtigt werden sollen.
. *Speichern* Sie die Einstellungen.

== Facettenverknüpfung im Webshop

Nachdem Sie Ihre Facetten angelegt haben, verknüpfen Sie diese Facetten in dem Standard- oder Mandant-Shop, in dem Sie die Facetten als Filter zur Verfügung stellen möchten. Hierbei wählen Sie je Mandant (Shop), welche Facetten für diesen Shop relevant sind und welche nicht. Änderungen, die Sie hier vornehmen, werden in Echtzeit übertragen. Gehen Sie wie im Folgenden beschrieben vor, um Facetten mit einem Shop zu verknüpfen.

Die Konfiguration nehmen Sie im Menü *System » Systemeinstellungen » Mandant » Mandant wählen » Dienste » Facettenverknüpfungen* vor. Dort wählen Sie den Shop, mit dem Sie Facetten verknüpfen möchten.

[IMPORTANT]
.Preisfacette
====
Pro Shop kann nur eine Preisfacette verknüpft werden.
====

[.instruction]
Facetten im Webshop verknüpfen:

. Öffnen Sie das Menü *System » Systemeinstellungen » Mandant » Mandant wählen » Dienste » Facettenverknüpfungen*.
. Wählen Sie in der Liste links die Facette, die Sie mit diesem Shop verknüpfen möchten.
. Klicken Sie links unten auf *Facette verknüpfen*. +
→ Die Facette wird im Webshop verknüpft.
. Wiederholen Sie den Vorgang für alle weiteren Facetten, die hier verknüpft werden sollen.
. *Speichern* Sie die Einstellungen.

Die Facetten, die Sie verknüpft haben, werden mit einem *grünen Häkchen* gekennzeichnet. Nicht verknüpfte Facetten erkennen Sie an einem *roten x*.

[NOTE]
.Option: Bilder bereitstellen
====
Häkchen setzen = Mit den Facetten verknüpfte Bilder werden im Webshop angezeigt.
====

== Facettensuche ins CMS einbinden

Die Facettensuche wird im Template *NavigationFacetsList* definiert. Das Template *NavigationFacetsList* unseres Designs Callisto Light enthält fertigen Code, mit dem Sie eine Facettensuche erstellen, die dem in <<bild-facettensuche-webshop>> dargestellten Beispiel entspricht. Dieser Code ist natürlich ausbaubar. +
Über die Template-Funktion <<omni-channel/online-shop/cms-syntax#webdesign-navigation-container-navigationfacetslist, Container_NavigationFacetsList>> fügen Sie das Template *NavigationFacetsList* in den gewünschten Bereich Ihres Webshops ein. Gehen Sie dazu wie unten beschrieben vor.

[TIP]
.Empfohlene Templates
====
Wir empfehlen Ihnen, die Template-Funktion *Container_NavigationFacetsList* innerhalb von *ItemViewCategoriesList* und *ItemViewSearchResultsList* zu verwenden. Diese Templates finden Sie im Menü *CMS » Webdesign » Ordner: Layout » Ordner: ItemView*.
====

[.instruction]
Facettensuche in CMS einbinden:

. Öffnen Sie das Menü <<omni-channel/online-shop/webshop-einrichten/cms#webdesign, CMS » Webdesign>>.
. Öffnen Sie das gewünschte Template.
. Fügen Sie die Template-Funktion *Container_NavigationFacetsList* in das Template ein, um die Facettensuche dort anzuzeigen.
. *Speichern* Sie die Einstellungen.
. Wiederholen Sie ggf. den Vorgang, um die Template-Funktion in weitere Templates einzufügen.
