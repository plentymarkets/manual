= Formulare
:lang: de
// include::{includedir}/_header.adoc[]
:position: 10
:icons: font
:docinfodir: /workspace/manual-adoc
:docinfo1:

*System » Systemeinstellungen » CMS » Formulare*

== Allgemeine Informationen zu Formularen

In diesem Menü legst du Formulare an und bearbeitest diese. Ein Beispiel für ein Formular ist das Kontaktformular in deinem Webshop. Dort können Webshop-Besucher Adressdaten eingeben und einen Hinweis oder eine Frage per E-Mail an die jeweils im Menü *System » Systemeinstellungen » Mandant » Mandant wählen » E-Mail » Zugangsdaten* hinterlegte E-Mail-Adresse schicken. Ein Formular wird mit der Template-Variable *{% Form(X) %}* in deinen Webshop eingebunden.

== Ein Formular anlegen

Wenn du das Menü öffnest, kannst du direkt ein neues Formular anlegen. Wenn du ein Formular durch Klick in der Übersicht *FORMULARE* links oben im Menü geöffnet hast und ein neues Formular anlegen möchtest, musst du das Menü zunächst neu laden, um auf die erste Ansicht zurückzukehren.

[[bild-neues-formular]]
.Neues Formular anlegen
image::omni-channel/online-shop/webshop-einrichten/_cms/einstellungen/assets/DE-Einstellungen-CMS-Formulare-01.png[]

[.instruction]
Neues Formular anlegen:

. Öffne das Menü *System » Systemeinstellungen » CMS » Formulare*.
. Nimm die Einstellungen vor. Beachte dazu <<tabelle-neues-formular>>.
. *Speichere* (icon:save[role="green"]) die Einstellungen. +
→ Das neue Formular ist ggf. erst in der Übersicht *FORMULARE* sichtbar, wenn du das Menü neu geladen hast.

[[tabelle-neues-formular]]
.Neues Formular anlegen
[cols="1,3"]
|====
|Einstellung |Erläuterung

|*ID*
|Die ID eines Formulars wird vom System vergeben und kann nicht geändert werden. Die ID wird benötigt, um ein Formular in den Webshop einzubinden.

|*Formularname*
|Einen Namen für das Formular eintragen.

|*E-Mail-Betreff*
|Einen E-Mail-Betreff eintragen. Der Text wird als Betreff in den E-Mails, die durch das Formular versendet werden, angezeigt. Bei Verwendung unterschiedlicher Formulare ist so leicht erkennbar, von welchem Formular eine E-Mail stammt. +
_*Wichtig*_: Wenn das Formular in das Ticketsystem eingelesen werden soll, ist die Angabe des Betreffs Pflicht. Wenn kein Betreff vorhanden ist, wird die E-Mail-Adresse des Kunden nicht am Ticket hinterlegt und dann werden E-Mails u.U. per Ereignisaktion an deine eigene Adresse gesendet.

|*CC E-Mail-Adresse*
|Eine E-Mail-Adresse eintragen. Die Einträge des Formulars werden zusätzlich (=CC) an diese Adresse gesendet.

|*Tickettyp*
|Einen Typ wählen, wenn das Formular als Ticket in das System importiert werden soll.

|*Ticketstatus*
|Einen Status wählen, wenn das Formular als Ticket ins System importiert werden soll.

|*Feldname*
|Die Feldnamen für das Formular eintragen, z. B. Firma, Name, Vorname, E-Mail usw.

|*Typ*
|Den *Datentyp* für das Datenfeld wählen. Der Typ bestimmt einerseits, wie das Eingabefeld im Formular dargestellt wird, z.B. als *einzeiliges Eingabefeld*, *mehrzeiliges Textfeld* oder als *Checkbox*. Andererseits erkennt das System durch die Auswahl eines Typs, welche Informationen vom Kunden eingetragen wurden, z.B. E-Mail-Adresse, Vorname, Nachname, Telefon. Dies ist für die Zuordnung der Informationen wichtig.

|*Breite (Pixel)*
|Die Breite des Datenfeldes in Pixeln eintragen.

|*Pflichtfeld*
|Die Einstellung *JA* wählen, um ein Datenfeld als Pflichtfeld zu kennzeichnen. Pflichtfelder werden im Formular durch Fettschrift hervorgehoben.
|====

[TIP]
.E-Mail-Adresse in Formularen
====
Wenn du ein Feld *E-Mail-Adresse* in ein Formular einfügst, wähle als *Typ* die Option *Textfeld E-Mail-Adresse*. Dies ist insbesondere auch für die korrekte Zuordnung im Ticketsystem wichtig.
====

== Formular ändern

Um die Einstellungen eines bereits gespeicherten Formulars zu ändern, gehe wie im Folgenden beschrieben vor.

[.instruction]
Formular ändern:

. Öffne das Menü *System » Systemeinstellungen » CMS » Formulare*.
. Wähle das Formular, das du ändern möchtest, aus der Übersicht *FORMULARE*.
. Nimm die gewünschten Änderungen gemäß <<tabelle-neues-formular>> vor.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

[IMPORTANT]
.Nach Änderungen Kategorie speichern
====
Wenn du das geänderte Formular in einer Kategorie verwendest, musst du auch die Kategorie einmal speichern, damit die geänderten Inhalte aktualisiert werden.
====

== Formular in eine Kategorie einbinden

Formulare werden in zwei Schritten in eine Kategorie eingebunden. Erstens ermittelst du die ID des gewünschten Formulars. Zweitens bindest du den korrekten Platzhalter und Code in die Kategorie ein. Gehe dazu wie folgt vor.

=== ID des Formulars ermitteln

Ein Formular wird über die Template-Variable *{% Form(X) %}* in eine Kategorie eingebunden. Ersetze dabei X durch die ID des Formulars.

[.instruction]
ID des Formulars ermitteln:

. Öffne das Menü *System » Systemeinstellungen » CMS » Formulare*.
. Wähle das Formular, das du ändern möchtest, aus der Übersicht *FORMULARE*.
. Die ID findest du in der Zeile *ID*.

=== Template-Variable und Code einbinden

Mit einer IF-/ELSE-Abfrage kannst du nach Absenden des Formulars einstellen, dass z. B. die Meldung *"Vielen Dank für deine Nachricht"* angezeigt wird. Es folgt ein Beispiel-Code, der diese Meldung beinhaltet:

[source,xml]

----
<p>
{% if !$ActionPositivResult %}</p>
<h1>
Kontakt</h1>
<p>
Nimm Kontakt auf, wir werden deine Anfrage umgehend bearbeiten.</p>
<p>
<span>{</span>% Form(X) %}</p>
<p>
{% else %}</p>
<h1>
Vielen Dank für deine Nachricht.</h1>
<p>
{% endif %}</p>
----

[.instruction]
Formular und Code einbinden:

. Öffne das Menü *Artikel » Kategorien*.
. Wähle in der Dropdown-Liste *Sprache* die gewünschte Sprache aus, z. B. Deutsch.
. Öffne nun die gewünschte Kategorie.
. Kopiere den oben angegebenen Code und füge den Code an der gewünschten Stelle ein.
. Suche die Template-Variable *{% Form(X) %}* und ersetze X durch die ID des Formulars.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

== Formulare in weiteren Sprachen anlegen und verknüpfen

Lege Formulare für jede Sprache deines Webshop an. Verknüpfe die Formulare mit der Sprachversion der gewünschten Kategorie.

[.instruction]
Formular in weiterer Sprache anlegen:

. Öffne das Menü *System » Systemeinstellungen » CMS » Formulare*.
. Nimm die Einstellungen gemäß <<tabelle-neues-formular>> vor. +
→ Trage die Feldnamen in der gewünschten Sprache ein, z. B. Englisch. +
→ Trage in das Feld *Formularname* einen Namen ein, an dem du die Sprache des Formulars erkennst.
. *Speichere* (icon:save[role="green"]) die Einstellungen.

[.instruction]
Formular in weiterer Sprache einbinden:

. Öffne das Menü *Artikel » Kategorien*.
. Wähle in der Dropdown-Liste *Sprache* die gewünschte Sprache, z. B. Englisch.
. Öffne nun die gewünschte Kategorie.
. Kopiere den Code und füge den Code an der gewünschten Stelle ein. +
→ Übersetze den gezeigten Text in die gewünschte Sprache.
. Suche die Template-Variable *{% Form(X) %}* und ersetze X durch die ID des Formulars.
. *Speichere* (icon:save[role="green"]) die Einstellungen.
